"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[24115],{984234:function(e,r,i){var s=i(624797);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,n(s.key),s)}}function o(e,r,i){return(r=n(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function n(e){var r=function(e,r){if("object"!==a(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,r||"default");if("object"!==a(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===a(r)?r:String(r)}var _={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},ideaPinExtendVideoLength:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinExtendVideoLengthAboveTwoMin:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration_above_two_min",groups:/^(employees_min|enabled_min)/,scenarios:["story_pin_v2"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var r=e.user;return!!(null!=r&&r.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0},orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinCreationWithoutThinking:{authOnly:!0,experiment:"web_snc_pin_creation_without_thinking",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]}},l=new(function(){var e,r;function i(){!function(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}(this,i),o(this,"_experiments",null),o(this,"_viewer",null),o(this,"_advertiser",null),o(this,"_scenario",null),o(this,"_language",null),o(this,"_context",null),o(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var r=e.requestContext,i=e.viewer,a=e.location,t=e.advertiser,o=e.scenario,n=e.orbacActingAs;this._context=e,this._experiments=r.experimentsClient,this._language=r.language,this._viewer=i,this._advertiser=t,this._orbacActingAs=n;var _=(0,s.mB)(a.search).adCreate;o?this._scenario=o:_?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var r,i,s=_[e],a=s.advertisers,t=s.authOnly,o=s.customEnabledCheck,n=s.experiment,l=s.groups,d=s.hasCustomEnabledCheck,c=s.languages,g=s.orbacDisabled,u=s.orbacExperiment,h=s.partnerOnly,m=s.scenarios,p=s.skipActivation;if(null!==(r=this._orbacActingAs)&&void 0!==r&&r.id&&this._orbacActingAs.id!==this._viewer.id&&(g||u&&"enabled"!==this._experiments.checkExperiment(u).group))return!1;if(d&&o&&this._context&&d(this._context))return!!this._context&&o(this._context);if(p&&this._experiments){var I=this._experiments.checkExperiment;return!!n&&I(n,{dangerouslySkipActivation:!0}).anyEnabled}return!!a&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!t||!!this._viewer.isAuth)&&(!this._viewer||!h||!!this._viewer.isPartner)&&(!m||!!m.includes(this._scenario))&&(!c||!!c.includes(this._language))&&(!n||(void 0===l?/.*/:l).test((null===(i=this._experiments)||void 0===i?void 0:i.checkExperiment(n).group)||""))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var r=_[e].experiment;return r?this._experiments.checkExperiment(r).group:null}}],t(i.prototype,e),r&&t(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}());r.Z=l},478492:function(e,r,i){i.d(r,{P7:function(){return a},Zx:function(){return n},sc:function(){return o},ss:function(){return t},xl:function(){return s}});var s=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],a=["bmp","gif","jpg","jpeg","png","tiff","webp"],t=["video/mp4","video/x-m4v","video/quicktime"],o=["mp4","m4v","mov"],n={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},622270:function(e,r,i){i.d(r,{Z:function(){return n}});var s=i(339001),a=i(203966),t=i(984234);function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var i=0,s=Array(r);i<r;i++)s[i]=e[i];return s}function n(e,r,i,n,_){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:i,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:r._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:i,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:r._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var l,d=function(e){if(Array.isArray(e))return e}(l=t.Z.enabled("pinQuality")||null!=_&&_.isStoryPin?[300,200]:[100,100])||function(e,r){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var s,a,t,o,n=[],_=!0,l=!1;try{if(t=(i=i.call(e)).next,0===r){if(Object(i)!==i)return;_=!1}else for(;!(_=(s=t.call(i)).done)&&(n.push(s.value),n.length!==r);_=!0);}catch(e){l=!0,a=e}finally{try{if(!_&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw a}}return n}}(l,2)||function(e,r){if(e){if("string"==typeof e)return o(e,r);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,r)}}(l,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=d[0],g=d[1];return{dispatchId:i,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,s.nk)(r._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:c,minWidth:g,pixelString:r.ngettext('pixel', 'pixels', g, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:i,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,s.nk)(r.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:i,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:r._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:i,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,s.nk)(r.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var u=Math.floor(4);return{dispatchId:i,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,s.nk)(r.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', u, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:u}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var h=a.W_;return{dispatchId:i,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,s.nk)(r.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', h, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:h}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:i,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:r._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:i,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:r._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:i,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,s.nk)(r.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:i,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,s.nk)(r._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(a.P9)}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":var m=Math.floor(a.FH)/60;return{dispatchId:i,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,s.nk)(r._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:m}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":var p=Math.floor(null!=n?n:a.FH)/60;return{dispatchId:i,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN",type:"error",message:(0,s.nk)(r._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:p}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:i,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,s.nk)(r.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var I=a.Lr/1024/1024;return{dispatchId:i,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,s.nk)(r.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', I, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:I}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:r._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:r._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:r._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:i,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:r._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:i,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:r._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:i,id:"GENERAL_ERROR",type:"error",message:r._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},643749:function(e,r,i){var s=i(512419),a=i(622270);r.Z=function(e){return function(r){return new Promise(function(i,t){var o=new Image;o.addEventListener("load",function(){return i({fileSrc:r,height:o.height,id:(0,s.Z)(),name:r.name,size:r.size,src:o.src,type:"localImage",width:o.width})}),o.addEventListener("error",function(){return t((0,a.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),o.src=URL.createObjectURL(r)})}}},744627:function(e,r,i){var s=i(512419),a=i(622270),t=i(354185);r.Z=function(e){return function(r){return new Promise(function(i,o){var n,_=new FileReader,l=((null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||"").includes("Safari")?r.slice(0,r.size,"video/mp4"):r,d=URL.createObjectURL(l);_.addEventListener("load",function(){var n=document.createElement("video");n.addEventListener("loadedmetadata",function(){return i({id:(0,s.Z)(),duration:n.duration,fileSrc:r,height:n.videoHeight,name:r.name,size:r.size,src:n.src,thumbnail:0,type:"localVideo",width:n.videoWidth})}),n.addEventListener("error",function(){o((0,a.Z)((0,t.Z)(),e))}),n.src=d}),_.readAsDataURL(r)})}}},354185:function(e,r,i){i.d(r,{Z:function(){return s}});function s(){var e,r=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(r.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(r.includes("SamsungBrowser")||r.includes("Opera")||r.includes("OPR")||r.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(r.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(r.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(r.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},324115:function(e,r,i){i.d(r,{Z:function(){return h}});var s=i(478492),a=i(622270),t=i(643749),o=i(984234),n=i(622350);function _(e,r){(null==r||r>e.length)&&(r=e.length);for(var i=0,s=Array(r);i<r;i++)s[i]=e[i];return s}var l=i(203966),d=i(744627),c=i(354185),g="enabled_min",u="employees_min";function h(e){var r,i,h=e.i18n,m=e.file,p=e.options,I=e.ideaPinRenamingEnabled,E=p||{},A=E.allowVideo,O=E.videoOnly;return s.ss.includes(m.type)&&A?(i=(r=(p||{}).forStoryPin)?l.Lr:2147483648,m.size>i?Promise.resolve((0,a.Z)(r?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",h)):(0,d.Z)(h)(m).then(function(e){var r,i,s,t,n,_,d,m,I,E,A;return r=h,i=e,t=(s=p||{}).forStoryPin,n=s.allowAllAspectRatios,m=(d=(_=!!t)&&o.Z.enabled("ideaPinExtendVideoLength"))&&o.Z.enabled("ideaPinExtendVideoLengthAboveTwoMin"),I=function(){if(m){var e=o.Z.getExperimentGroup("ideaPinExtendVideoLengthAboveTwoMin");if(e){var r=e.startsWith(g)&&e.length>g.length?parseInt(e.substring(g.length),10):e.startsWith(u)&&e.length>u.length?parseInt(e.substring(u.length),10):-1;if(r>0)return 60*r+.5}}return d?l.FH:l.P9}(),E=_?l.W_:4,A=_?I:900,i.duration<E?(0,a.Z)(_?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",r):i.duration>A?(0,a.Z)(_?m?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":d?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",r,void 0,I):i.width&&i.height?!n&&(i.width/i.height<.5||i.width/i.height>1.91)?(0,a.Z)("VIDEO_UNSUPPORTED_RATIO",r):i.width<100||i.height<100?(0,a.Z)("VIDEO_UNDER_MIN_DIMENSIONS",r):i:(0,a.Z)((0,c.Z)(),r)}).catch(function(e){return e})):!s.xl.includes(m.type)||O?Promise.resolve((0,a.Z)("FILE_UNRECOGNIZED_TYPE",h)):m.size>20971520?Promise.resolve((0,a.Z)("IMAGE_OVER_MAX_FILE_SIZE",h)):(0,t.Z)(h)(m).then(function(e){var r,i,s,a,t,l;return s=(i=function(e){if(Array.isArray(e))return e}(r=o.Z.enabled("pinQuality")||null!=p&&p.isStoryPin?[300,200]:[100,100])||function(e,r){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var s,a,t,o,n=[],_=!0,l=!1;try{if(t=(i=i.call(e)).next,0===r){if(Object(i)!==i)return;_=!1}else for(;!(_=(s=t.call(i)).done)&&(n.push(s.value),n.length!==r);_=!0);}catch(e){l=!0,a=e}finally{try{if(!_&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw a}}return n}}(r,2)||function(e,r){if(e){if("string"==typeof e)return _(e,r);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _(e,r)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],a=i[1],t=(null==p?void 0:p.minHeight)||s,l=(null==p?void 0:p.minWidth)||a,e.height*e.width>89478485?(0,n.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:h,ideaPinRenamingEnabled:I}):e.height<t||e.width<l?(0,n.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:h,ideaPinRenamingEnabled:I,options:p}):e}).catch(function(e){return e})}},622350:function(e,r,i){i.d(r,{GB:function(){return h},ZP:function(){return u},q0:function(){return g}});var s=i(684404),a=i(339001),t=i(203966),o=i(427514),n=i(702497),_=i(843964),l=i(622270),d=i(961936),c=i(819267),g=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function u(e){var r=e.dispatchId,i=e.errorId,_=e.i18n,u=e.ideaPinRenamingEnabled,h=e.options,m=(0,l.Z)(i,_,r,void 0,h);if("GENERAL_ERROR"!==m.id)return m;switch(i){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:r,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:_._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:r,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:_._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:r,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:_._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:r,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:_._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:r,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:_._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:r,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:_._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:r,id:"BOARD_MISSING",type:"error",message:_._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:r,id:"DATE_IN_PAST",type:"error",message:_._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:r,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:_._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:r,id:"DATE_MISSING",type:"error",message:_._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:r,id:"DESCRIPTION_INVALID",type:"error",message:_._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:r,id:"MEDIA_MISSING",type:"error",message:_._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:r,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:_._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:r,id:"TAG_INVALID",type:"error",message:_._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:r,id:"TAG_EMPTY",type:"error",message:_._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:r,id:"TIME_MISSING",type:"error",message:_._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:r,id:"TITLE_INVALID",type:"error",message:_._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:r,id:"URL_INVALID",type:"error",message:g(_),blocking:!0};case"URL_MISSING":return{dispatchId:r,id:"URL_MISSING",type:"error",message:_._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:r,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,a.nk)(_._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,c.jsx)(s.rU,{display:"inlineBlock",href:n.MsG,target:"blank",underline:"hover",children:(0,c.jsx)(s.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:_._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:r,id:"URL_IS_TOO_LONG",type:"error",message:(0,o.Z)(_._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:t.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:r,id:"URL_IS_BLOCKED",type:"error",message:_._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:r,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:_._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:r,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:_._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:r,id:"URL_IS_REDIRECT",type:"error",message:_._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:r,id:"URL_UNREACHABLE",type:"error",message:_._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:r,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:_._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:r,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:u?_._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):_._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:r,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:u?_._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):_._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:r,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:u?_._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):_._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:r,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:u?_._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):_._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:r,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:u?_._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):_._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:r,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,a.nk)(_._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:d.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:r,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,a.nk)(_._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:d.Af}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_PAGES":return{dispatchId:r,id:"STORY_PIN_TOO_MANY_PAGES",type:"error",message:(0,a.nk)(_.ngettext('There cannot be more than {{max_pages}} page', 'There cannot be more than {{max_pages}} pages', t.yX, 'storyPinBuilder.errorMessaging.message', 'Error message when trying to create a Story Pin with more than the allowed number of pages'),{max_pages:t.yX}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:r,id:"STORY_PIN_TITLE_MISSING",type:"error",message:u?_._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):_._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var p=Math.floor(t.W_);return{dispatchId:r,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,a.nk)(_.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', p, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:p}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:r,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:_._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var I=t.Lr/1024/1024;return{dispatchId:r,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,a.nk)(_.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', I, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:I}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:r,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:_._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:r,id:"GENERAL_ERROR",type:"error",message:_._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function h(e,r,i){i({event_type:7564,view_type:212,component:(0,_.Z)().includes("create")?13762:13308,aux_data:{error_message:r,error_id:e}})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/24115-6f98afd40a33531e.js.map