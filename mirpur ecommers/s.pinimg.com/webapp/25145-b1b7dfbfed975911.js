"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[25145],{954915:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"ConversationPageMessageList_conversationMessages",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ConversationPageMessage_conversationMessage"}],type:"ConversationMessage",abstractKey:null};i.hash="b4a7f1746d1006788e319f494236d0cd",n.default=i},801387:function(e,n,t){t.r(n);var r,i,l,o,a,s,u,c=(r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},s=[{kind:"Literal",name:"spec",value:"222x"}],u=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationPageMessage_conversationMessage",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"createdMs",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[r,i,l,o],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[r,{args:null,kind:"FragmentSpread",name:"ConversationPinV2_pin"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:s,concreteType:"ImageDetails",kind:"LinkedField",name:"contextualPinImageUrls",plural:!0,selections:u,storageKey:'contextualPinImageUrls(spec:"222x")'},r,o,i,l,{alias:null,args:s,concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:u,storageKey:'recentPinImages(spec:"222x")'}],storageKey:null},{alias:null,args:null,concreteType:"UserDidItData",kind:"LinkedField",name:"userDidItData",plural:!1,selections:[r,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:"images150x",args:[{kind:"Literal",name:"spec",value:"150x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!0,selections:u,storageKey:'images(spec:"150x")'}],storageKey:null},{alias:null,args:null,concreteType:"MessageReactions",kind:"LinkedField",name:"reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionText",storageKey:null}],storageKey:null}],type:"ConversationMessage",abstractKey:null});c.hash="a0688609e1db3a097ff1c98a02c09460",n.default=c},717977:function(e,n,t){t.r(n);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ConversationPinV2_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="c2e28448b2bacd0dc9e7a428568922cb",n.default=r},490166:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(684404),i=t(819267);function l(e){var n=e.children,t=e.onMouseEnter,l=e.onMouseLeave,o=e.onTouch,a=e.rounding,s=e.fullWidth,u=e.pressState,c=void 0===u?"none":u,d=e.accessibilityLabel,f=e.role,p=(Array.isArray(c)?c:[c]).includes("compress");return(0,i.jsx)(r.iP,{accessibilityLabel:d,fullWidth:void 0!==s&&s,onMouseEnter:t&&function(e){return t(e.event)},onMouseLeave:l&&function(e){return l(e.event)},onTap:o&&function(e){return o(e.event)},role:f,rounding:a,tapStyle:p?"compress":"none",children:n})}},367408:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(672652),i=t(684404),l=t(819267);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var n=function(e,n){if("object"!==o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===o(n)?n:String(n)}(r.key),r)}}function s(e,n){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&s(e,n)}(f,e);var n,t,c,d=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=u(f);if(n){var r=u(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,n){if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(){return!function(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}(this,f),d.apply(this,arguments)}return t=[{key:"componentDidMount",value:function(){this.anchor&&(!this.props.hash||this.props.hash&&"#".concat(this.props.hash)===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}},{key:"render",value:function(){var e=this,n=this.props.children?r.Children.only(this.props.children):null;return(0,l.jsx)(i.xu,{ref:function(n){return e.anchor=n},children:n})}}],a(f.prototype,t),c&&a(f,c),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},638365:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e,n){return e||"".concat(n||"","~0")}},256918:function(e,n,t){t.d(n,{M:function(){return p},Q:function(){return m}});var r=t(672652),i=t(342513),l=t(819267);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach(function(n){u(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(e,n,t){var r;return(r=function(e,n){if("object"!==o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"),(n="symbol"===o(r)?r:String(r))in e)?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var d=(0,i.Z)("RepinContext"),f=d.Provider,p=d.useMaybeHook;function m(e){var n,t=e.children,i=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(Object.freeze({})))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,o,a=[],s=!0,u=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(a.push(r.value),a.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}(n,2)||function(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],d=(0,r.useMemo)(function(){return{getSavedPinId:function(e){return o[e]},isSaved:function(e){return!!o[e]},save:function(e,n){return a(function(t){return s(s({},t),{},u({},e,n))})},unsave:function(e){return a(function(n){return s(s({},n),{},u({},e,null))})}}},[o]);return(0,l.jsx)(f,{value:d,children:t})}},330766:function(e,n,t){t.d(n,{Z:function(){return x},u:function(){return h}});var r=t(684404),i=t(696534),l=t(295011),o=t(463844),a=t(205841),s=t(140017),u=t(406893),c=t(339001),d=t(5859),f=t(554786),p=t(149722),m=t(819267),h=new r.Ry(1),g=function(e){return"\n  .conversation-messages-starter-image-end-align {\n    display: flex;\n    align-items: end;\n    flex-direction: ".concat(e?"row-reverse":"row",";\n  }\n  .conversation-messages-starter-image-start-align {\n    display: flex;\n    align-items: start;\n    flex-direction: ").concat(e?"row-reverse":"row",";\n  }\n")};function y(e){var n=e.positionOneUser,t=e.positionTwoUser,i=e.positionThreeUser,s=e.nameDisplayText,c=e.subTitleText,d=e.isRTL,f=e.isDesktop;return(0,m.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",flex:"none",justifyContent:"center",marginBottom:6,width:"100%",children:[(0,m.jsx)(r.xu,{height:f?26:160,width:"100%"}),(0,m.jsx)(u.Z,{unsafeCSS:g(d)}),f?(0,m.jsxs)(r.xu,{direction:"column",display:"flex",padding:2,width:240,children:[(0,m.jsx)(r.xu,{alignItems:"center",display:"flex",marginBottom:-10,children:(0,m.jsxs)("div",{className:"conversation-messages-starter-image-end-align",children:[(0,m.jsx)(r.xu,{alignItems:"center",display:"flex",height:120,position:"relative",zIndex:h,children:(0,m.jsx)(l.Z,{size:48})}),(0,m.jsx)(r.xu,{height:120,paddingX:1,width:120,children:(0,m.jsx)(a.qE,{name:n.defaultDisplayName,outline:!0,size:"fit",src:n.src})}),(0,m.jsx)(r.xu,{alignItems:"center",display:"flex",height:120,position:"relative",zIndex:h,children:(0,m.jsx)(o.Z,{size:48})})]})}),(0,m.jsxs)(r.kC,{justifyContent:"center",children:[(0,m.jsx)(r.xu,{height:120,marginEnd:-4,width:120,children:(0,m.jsx)(a.qE,{name:t.defaultDisplayName,outline:!0,size:"fit",src:t.src})}),(0,m.jsx)(r.xu,{height:120,marginStart:-4,width:120,children:(0,m.jsx)(a.qE,{name:i.defaultDisplayName,outline:!0,size:"fit",src:i.src})})]})]}):(0,m.jsxs)(r.xu,{children:[(0,m.jsxs)("div",{className:"conversation-messages-starter-image-end-align",children:[(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{bottom:"46px",right:"18px"}},position:"relative",children:(0,m.jsx)(l.Z,{size:48})}),t&&(0,m.jsx)(r.kC,{flex:"none",height:56,width:56,children:(0,m.jsx)(a.qE,{name:t.defaultDisplayName,outline:!0,src:t.src})}),(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{bottom:"14px",left:"18px"}},position:"relative",children:(0,m.jsx)(o.Z,{size:48})})]}),(0,m.jsxs)("div",{className:"conversation-messages-starter-image-start-align",children:[i&&(0,m.jsx)(r.xu,{height:72,marginEnd:2,marginTop:2,width:72,children:(0,m.jsx)(a.qE,{name:i.defaultDisplayName,outline:!0,size:"fit",src:i.src})}),n&&(0,m.jsx)(r.xu,{height:48,width:48,children:(0,m.jsx)(a.qE,{name:n.defaultDisplayName,outline:!0,size:"fit",src:n.src})})]})]}),(0,m.jsx)(r.xu,{marginTop:6,maxWidth:288,children:(0,m.jsx)(r.xv,{align:"center",weight:"bold",children:s})}),(0,m.jsx)(r.xu,{marginTop:2,maxWidth:240,children:(0,m.jsx)(r.xv,{align:"center",color:"subtle",size:"200",children:c})})]})}function x(e){var n=e.recipients,t=(0,p.Z)(),x=t.imageLargeUrl,v=t.firstName,b=t.fullName,j=(0,d.B)().isRTL,_=(0,f.HG)(),S={defaultDisplayName:v||"",fullName:b||"",src:x||""},w=n[0],P=n[1],I=n[2],T=(0,s.ZP)(),O=T._('This could be the beginning of something good', 'messages.Conversation.ConversationMessagesStarter', 'Text to show when a user starts a new conversation with someone');if(1===n.length){var k,C,D,A,z,E,F,U=w.fullName||w.defaultDisplayName;return C=(k={viewingUser:S,recipient:w,nameDisplayText:U,subTitleText:O,isRTL:j,isDesktop:_}).viewingUser,D=k.recipient,A=k.nameDisplayText,z=k.subTitleText,E=k.isRTL,F=k.isDesktop,(0,m.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",flex:"none",justifyContent:"center",marginBottom:6,width:"100%",children:[(0,m.jsx)(r.xu,{height:F?26:112}),(0,m.jsx)(u.Z,{unsafeCSS:g(E)}),F?(0,m.jsxs)(r.xu,{direction:"column",display:"flex",padding:2,width:240,children:[(0,m.jsxs)(r.kC,{alignItems:E?"start":"end",direction:"column",children:[(0,m.jsx)(r.xu,{marginBottom:-9,position:"relative",zIndex:h,children:(0,m.jsx)(o.Z,{size:48})}),(0,m.jsx)(r.xu,{height:120,marginEnd:E?0:2,marginStart:E?2:0,width:120,children:(0,m.jsx)(a.qE,{name:C.defaultDisplayName,outline:!0,size:"fit",src:C.src})})]}),(0,m.jsxs)(r.xu,{alignItems:E?"end":"start",dangerouslySetInlineStyle:{__style:{marginTop:"-60px"}},direction:"column",display:"flex",children:[(0,m.jsx)(r.xu,{marginBottom:-4,position:"relative",zIndex:h,children:(0,m.jsx)(l.Z,{size:48})}),(0,m.jsx)(r.xu,{height:120,marginEnd:E?2:0,marginStart:E?0:2,width:120,children:(0,m.jsx)(a.qE,{name:D.defaultDisplayName,outline:!0,size:"fit",src:D.src})})]})]}):(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{left:"".concat(10,"px")}},height:112,position:"relative",children:(0,m.jsxs)("div",{className:"conversation-messages-starter-image-start-align",children:[(0,m.jsx)(r.xu,{children:(0,m.jsx)(l.Z,{size:48})}),C&&(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{top:"".concat(42,"px"),left:"".concat(58,"px")}},position:"relative",children:(0,m.jsx)(r.xu,{height:72,width:72,children:(0,m.jsx)(a.qE,{name:C.defaultDisplayName,size:"fit",src:C.src})})}),D&&(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{top:"".concat(40,"px"),right:"".concat(74,"px")}},position:"relative",children:(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{border:(0,i.Yc)()?"".concat(2,"px solid black"):"".concat(2,"px solid white"),boxSizing:"content-box"}},height:72,rounding:"circle",width:72,children:(0,m.jsx)(a.qE,{name:D.defaultDisplayName,size:"fit",src:D.src})})}),(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{right:"".concat(18,"px")}},position:"relative",children:(0,m.jsx)(o.Z,{size:48})})]})}),(0,m.jsx)(r.xu,{marginTop:6,maxWidth:288,children:D&&(0,m.jsx)(r.xv,{align:"center",weight:"bold",children:A})}),(0,m.jsx)(r.xu,{marginTop:2,maxWidth:240,children:(0,m.jsx)(r.xv,{align:"center",color:"subtle",size:"200",children:z})})]})}if(2===n.length){var N=(0,c.nk)(T._('{{ recipientA }} and {{recipientB}}', 'mWeb.Messaging.ConversationMessagesStarter.ThreePersonConversation', 'text to show the name of two other recipients in a three-person conversation, recipientA: the first recipient, recipientB: the second recipient'),{recipientA:w.defaultDisplayName,recipientB:P.defaultDisplayName});return y({positionOneUser:S,positionTwoUser:w,positionThreeUser:P,nameDisplayText:N,subTitleText:O,isRTL:j,isDesktop:_})}if(n.length>2){var M,R,L,Z,B,K,W,q,H,X=n.length-3,Y=[""];return 0===X?Y=(0,c.nk)(T._('{{ recipientA }}, {{recipientB}} and {{recipientC}}', 'mWeb.Messaging.ConversationMessagesStarter.FourPersonConversation', 'text to show the name of three other recipients in a four-person conversation, recipientA: the first recipient, recipientB: the second recipient, recipientC: the third recipient'),{recipientA:w.defaultDisplayName,recipientB:P.defaultDisplayName,recipientC:I.defaultDisplayName}):X>0&&(_?(X+=1,Y=(0,c.nk)(T._('{{ recipientA }}, {{recipientB}} and {{namesNotShownInTextCount}} more', 'mWeb.Messaging.ConversationMessagesStarter.FiveOrMorePersonConversation', 'text to show the name of first two recipients in a five or more person conversation, recipientA: the first recipient, recipientB: the second recipient, namesNotShownInTextCount: the number of recipients whose name are not shown on the page'),{recipientA:w.defaultDisplayName,recipientB:P.defaultDisplayName,namesNotShownInTextCount:X})):Y=(0,c.nk)(T._('{{ recipientA }}, {{recipientB}}, {{recipientC}} and {{namesNotShownInTextCount}} more', 'mWeb.Messaging.ConversationMessagesStarter.FiveOrMorePersonConversation', 'text to show the name of first three recipients in a five or more person conversation, recipientA: the first recipient, recipientB: the second recipient, recipientC: the third recipient, namesNotShownInTextCount: the number of recipients whose name are not shown on the page'),{recipientA:w.defaultDisplayName,recipientB:P.defaultDisplayName,recipientC:I.defaultDisplayName,namesNotShownInTextCount:X})),_?(R=(M={positionOneUser:S,positionTwoUser:w,positionThreeUser:P,positionFourUser:I,nameDisplayText:Y,subTitleText:O,isRTL:j,namesNotShownInTextCount:X}).positionOneUser,L=M.positionTwoUser,Z=M.positionThreeUser,B=M.positionFourUser,K=M.nameDisplayText,W=M.subTitleText,q=M.isRTL,H=M.namesNotShownInTextCount,(0,m.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",flex:"none",justifyContent:"center",marginBottom:6,width:"100%",children:[(0,m.jsx)(r.xu,{height:26,width:"100%"}),(0,m.jsx)(u.Z,{unsafeCSS:g(q)}),(0,m.jsxs)(r.xu,{direction:"column",display:"flex",padding:2,width:240,children:[(0,m.jsx)(r.xu,{display:"flex",justifyContent:q?"end":"start",marginBottom:-12,marginStart:1,position:"relative",width:"100%",zIndex:h,children:(0,m.jsx)(l.Z,{size:48})}),(0,m.jsxs)("div",{className:"conversation-messages-starter-image-start-align",children:[(0,m.jsx)(r.xu,{height:64,marginEnd:q?10:-4,marginStart:q?-4:10,marginTop:10,position:"relative",width:64,zIndex:h,children:(0,m.jsx)(a.qE,{name:R.defaultDisplayName,outline:!0,size:"fit",src:R.src})}),(0,m.jsx)(r.xu,{height:120,position:"relative",width:120,zIndex:h,children:(0,m.jsx)(a.qE,{name:L.defaultDisplayName,outline:!0,size:"fit",src:L.src})})]}),(0,m.jsx)(r.xu,{marginEnd:q?5:0,marginStart:q?0:5,marginTop:-10,children:(0,m.jsxs)("div",{className:"conversation-messages-starter-image-start-align",children:[(0,m.jsx)(r.xu,{height:120,marginEnd:q?0:-6,marginStart:q?-6:0,marginTop:2,width:120,children:(0,m.jsx)(a.qE,{name:Z.defaultDisplayName,outline:!0,size:"fit",src:Z.src})}),(0,m.jsx)(r.xu,{height:64,marginEnd:q?0:-2,marginStart:q?-2:0,marginTop:6,position:"relative",width:64,zIndex:h,children:H>0?(0,m.jsx)(r.xu,{alignItems:"center",color:"lightWash",dangerouslySetInlineStyle:{__style:{border:"1px solid white"}},display:"flex",height:64,justifyContent:"center",rounding:"circle",width:64,children:(0,m.jsx)(r.xv,{size:"500",weight:"bold",children:"+".concat(H)})}):(0,m.jsx)(a.qE,{name:B.defaultDisplayName,outline:!0,size:"fit",src:B.src})}),(0,m.jsx)(r.xu,{position:"relative",zIndex:h,children:(0,m.jsx)(o.Z,{size:48})})]})})]}),(0,m.jsx)(r.xu,{marginTop:6,maxWidth:288,children:(0,m.jsx)(r.xv,{align:"center",weight:"bold",children:K})}),(0,m.jsx)(r.xu,{marginTop:2,maxWidth:240,children:(0,m.jsx)(r.xv,{align:"center",color:"subtle",size:"200",children:W})})]})):y({positionOneUser:w,positionTwoUser:P,positionThreeUser:I,nameDisplayText:Y,subTitleText:O,isRTL:j})}}},371590:function(e,n,t){t.d(n,{Z:function(){return ee},F:function(){return G}});var r,i=t(672652);t(42279);var l=t(328038),o=t(684404),a=t(696534),s=t(188349),u=t(595725),c=t(505499),d=t(107366),f=t(205841),p=t(333739),m=t(340523),h=t(5859),g=t(554786),y=t(149722),x=t(490166),v=t(367408),b=t(714655),j=t(801244),_=t(140017),S=t(819267);function w(e){var n=e.user,t=(0,l.k6)(),r=(0,_.ZP)(),i=n.imageLargeUrl,a=n.fullName,s=n.username||"";return(0,S.jsx)(x.Z,{onTouch:function(){return t.push("/".concat(s,"/"))},pressState:"none",rounding:4,children:(0,S.jsxs)(o.kC,{alignItems:"center",direction:"column",height:224,justifyContent:"start",width:236,children:[(0,S.jsx)(o.xu,{color:"default",height:157,rounding:4,width:236,children:(0,S.jsx)(o.zd,{rounding:4,children:(0,S.jsx)(o.gM,{columns:2,gutter:1,height:157,renderImage:function(e){var t,i=e.index,l=(n.thumbnails||[])[i];return i<2&&(0,S.jsx)(o.zd,{height:157,width:118,children:l?(0,S.jsx)(o.Ee,{alt:r._('Cover image', 'mweb.converstaion.profileRep.coverImage', 'Cover image in Profile rep\'s collage'),color:"lightGray",fit:"cover",naturalHeight:l.height||0,naturalWidth:l.width||0,src:null!==(t=l.url)&&void 0!==t?t:""}):(0,S.jsx)(o.xu,{color:"secondary",height:"100%",width:"100%"})})},width:236})})}),(0,S.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:-8,position:"relative",children:[(0,S.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:1}},height:64,rounding:"circle",width:64,children:(0,S.jsx)(o.zd,{rounding:"circle",children:(0,S.jsx)(f.qE,{accessibilityLabel:"",name:a||s,outline:!0,size:"fit",src:i||""})})}),(0,S.jsx)(o.xu,{maxWidth:236,paddingX:1,paddingY:2,children:(0,S.jsx)(o.xv,{align:"center",lineClamp:1,weight:"bold",children:a||s})})]})]})})}var P=t(604912);function I(e){var n=e.text,t=e.isOwnMessage;return"❤️"===n?(0,S.jsx)(o.xu,{paddingY:2,children:(0,S.jsx)(o.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:48})}):(0,S.jsx)(o.xu,{borderStyle:t?"none":"sm",color:t?"secondary":"default",dangerouslySetInlineStyle:{__style:{padding:"12px 16px",marginStart:t?40:0}},display:"flex",maxWidth:264,rounding:6,children:(0,P.Z)(n)?(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},children:(0,S.jsx)(o.rU,{href:n,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,S.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n})})}):(0,S.jsx)(o.xv,{children:n})})}function T(e){var n,t,r,i=e.userDidIt,a=(0,l.k6)(),s=(0,_.ZP)(),u=i.entityId,c=i.images150x,d=i.pin,f=i.details;if(!c||0===c.length||!d)return null;var p=c[0];return(0,S.jsx)(x.Z,{onTouch:function(){return a.push("/pin/".concat(d.entityId,"/activity/tried/?featured_did_it_ids=").concat(u))},pressState:"none",rounding:2,children:(0,S.jsxs)(o.xu,{marginBottom:2,rounding:2,width:160,children:[(0,S.jsx)(o.zd,{height:p.height||0,rounding:2,width:200,children:(0,S.jsx)(o.Ee,{alt:s._('User did it image', 'Image for a tried it within a conversation', 'Image for a tried it within a conversation'),fit:"cover",naturalHeight:null!==(n=p.height)&&void 0!==n?n:1,naturalWidth:null!==(t=p.width)&&void 0!==t?t:1,src:null!==(r=p.url)&&void 0!==r?r:""})}),(0,S.jsx)(o.xu,{paddingX:1,paddingY:2,children:(0,S.jsx)(o.xv,{lineClamp:1,size:"100",weight:"bold",children:f||s._('People tried this Pin', 'Description for tried it message', 'Description for tried it message')})})]})})}var O=t(72461),k=t(339001),C={shortform:!0,shortform_maximum_fraction_digits:1},D=function(e){var n=e.locale,t=e.pinCount,r=e.sectionCount,i=(0,_.ZP)(),l=(0,O.Z)(),a=t>0;return(0,S.jsx)(o.xu,{paddingX:2,children:(0,S.jsxs)(o.xv,{inline:!0,lineClamp:1,size:"100",children:[(0,k.nk)(i.ngettext('{{ count }} Pin', '{{ count }} Pins', t, 'label for n amount of pins', 'label for n amount of pins'),{count:l(n,t,C)}),a&&!!r&&" \xb7 ",r?(0,k.nk)(i.ngettext('{{ count }} section ', '{{ count }} sections', r, 'label for n amount of sections', 'label for n amount of sections'),{count:l(n,r,C)}):null]})})};function A(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return z(e,n)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function E(e){var n=e.board,t=e.locale,r=(0,l.k6)(),i=n.coverPin,a=n.name,s=n.sectionCount,u=n.url,c=n.imageCoverHdUrl,d=n.pinThumbnailUrls,f=n.pinCount,p=i&&i.imageUrl,m=[].concat(A(c?[c]:[]),A((d||[]).slice(p?0:1,p?2:3)));return(0,S.jsxs)(x.Z,{onTouch:function(){return r.push(null!=u?u:"")},pressState:"none",children:[(0,S.jsx)(o.zd,{rounding:4,children:(0,S.jsx)(o.xu,{color:"default",children:(0,S.jsx)(o.gM,{columns:3,cover:!0,gutter:1,height:157,renderImage:function(e){var n,t=e.index,r=e.width,i=e.height,l=0===t?157:78;return(0,S.jsx)(o.zd,{height:i,width:r,children:(0,S.jsx)(o.Ee,{alt:"cover image",color:"#efefef",fit:"cover",naturalHeight:l,naturalWidth:l,src:null!==(n=m[t])&&void 0!==n?n:""})})},width:236})})}),(0,S.jsx)(o.xu,{marginTop:1,paddingX:2,paddingY:1,children:(0,S.jsx)(o.xv,{size:"300",weight:"bold",children:a})}),(0,S.jsx)(D,{locale:t,pinCount:f||0,sectionCount:s||0})]})}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==F(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===F(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function M(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,o,a=[],s=!0,u=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(a.push(r.value),a.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function L(e){var n=e.handleReactionTrayClick,t=(0,i.useRef)(null),r=M((0,i.useState)("loading"),2),l=r[0],a=r[1],s=M((0,i.useState)(""),2),u=s[0],c=s[1],d=M((0,i.useState)(),2),f=d[0],p=d[1],m=M((0,i.useState)(!1),2),h=m[0],g=m[1],y=M((0,i.useState)({}),2),v=y[0],j=y[1],_=(0,i.useRef)(),w=(0,i.useRef)({}),P=function(){g(!0);var e=N({},v);b.MN.forEach(function(n){w.current[n]&&(e[n]=w.current[n].getBoundingClientRect())}),Object.keys(e).length===b.MN.length&&j(e)},I=function(){var e=N({},f);b.MN.forEach(function(n){var t=v[n],r=t.left,i=t.top;e[n]={translateX:r,translateY:i}}),p(e)};(0,i.useEffect)(function(){"loading"===l&&(_.current=requestAnimationFrame(function(){return a("loaded")})),h||P(),!f&&h&&I()});var T=function(e){var n;return h&&b.MN.forEach(function(t){var r=v[t];if(r&&r.left&&r.right){var i=r.left,l=r.right;e>=i&&e<=l&&(n=t)}}),n||null},O=function(){document.body&&document.body.style&&(document.body.style.overflow="hidden")},k=function(){document.body&&document.body.style&&(document.body.style.overflow="unset")},C=function(e){if(e.nativeEvent instanceof MouseEvent){P(),O();var t=T(e.clientX);t!==u&&t&&(c(t),a("clicked"),setTimeout(function(){a("flying"),setTimeout(function(){n(t)},50),k()},0))}},D=b.MN.map(function(e,n){var t=b.nk[e];return(0,S.jsx)(x.Z,{onTouch:C,pressState:"none",children:(0,S.jsx)(o.xu,{ref:function(n){w.current[e]=n},display:"inlineBlock",height:46,paddingX:2,paddingY:2,width:40,children:(0,S.jsx)(o.Ee,{alt:t.alt,fit:"contain",naturalHeight:t.height,naturalWidth:t.width,src:t.asset})})},e)});return(0,S.jsx)(o.xu,{ref:t,alignItems:"center",display:"flex",justifyContent:"center",children:(0,S.jsx)(o.xu,{alignItems:"center",color:"flying"===l?"transparent":"default",display:"flex",justifyContent:"center",onTouchEnd:function(){u&&(a("flying"),setTimeout(function(){n(u)},325)),k()},onTouchMove:function(e){O();var n=T(e.touches[0].clientX);n!==u&&c(n),a("clicked")},onTouchStart:function(){P()},paddingX:2,rounding:"pill",children:D})})}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var B=["messageKey"];function K(e,n,t,r,i,l,o){try{var a=e[l](o),s=a.value}catch(e){t(e);return}a.done?n(s):Promise.resolve(s).then(r,i)}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,o,a=[],s=!0,u=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(a.push(r.value),a.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}(e,n)||Y(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==Z(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===Z(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function X(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){if(e){if("string"==typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return V(e,n)}}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var $=void 0!==r?r:r=t(801387),G=function(e,n){var t=parseInt(e,10),r=Date.now()-t,i=new Date(t),l={hour:"numeric",minute:"numeric"};return r>s.F4&&r<s.VL?l=H(H({},l),{},{weekday:"long"}):r>s.VL&&r<s.N1&&(l=H(H({},l),{},{month:"long",day:"numeric"})),r>s.F4?(0,u.Z)(i,n,l):(0,c.Z)(i,n,l)},J=(0,i.forwardRef)(function(e,n){var t=e.onTap,r=e.endPositionPx,i=(0,h.B)().isRTL,l=(0,a.Yc)()?"https://s.pinimg.com/webapp/reaction_entrypoint_dark-662f277a.png":"https://s.pinimg.com/webapp/reaction_entry_point_light-10829fa9.png";return(0,S.jsx)(o.iP,{onTap:t,children:(0,S.jsx)(o.xu,{ref:n,dangerouslySetInlineStyle:{__style:H({backgroundImage:"url(".concat(l,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",bottom:"-24px"},i?{left:"".concat(r,"px")}:{right:"".concat(r,"px")})},height:32,position:"absolute",width:48,zIndex:e.zIndex})})});function Q(e){var n,t,r,a,s,u,c,p=e.index,_=e.message,P=e.messageContentMarginBottom,O=e.shouldRenderTimestamp,k=e.shouldRenderUserAvatar,C=e.shouldRenderUserFullName,D=e.shouldRenderPermanentEntryPointForReaction,A=(0,y.Z)().username,z=(0,l.k6)(),F=(0,h.B)(),U=F.locale,N=F.isRTL,M=_.text,R=_.board,Z=_.user,B=_.userDidItData,q=_.createdMs,H=_.sender||{},Y=H.username,V=H.imageLargeUrl,$=H.fullName,Q=Y===A,ee=(0,m.F)().checkExperiment,en=W((0,i.useState)(!1),2),et=en[0],er=en[1],ei=_.reactions&&_.reactions.length>0&&_.reactions[0].reactionText,el=_.reactions&&_.reactions.length>0&&Object.values(_.reactions[0]),eo=el&&el.length>0&&String(el[0]),ea=W((0,i.useState)(null!==(u=ei||eo)&&void 0!==u?u:null),2),es=ea[0],eu=ea[1];(0,i.useEffect)(function(){var e;eu(null!==(e=ei||eo)&&void 0!==e?e:null)},[ei,eo]);var ec=W((0,i.useState)(!0),2),ed=ec[0],ef=ec[1],ep=(0,i.useRef)(null),em=(0,g.ZP)(),eh=(0,i.useRef)(Date.now()),eg=new o.Ry(1),ey=new o.H3([eg]),ex=new o.H3([eg]),ev=new o.H3([eg,ey,ex]),eb=function(){er(!et)},ej=es&&(0,S.jsx)(o.iP,{onTap:eb,children:(0,S.jsx)(o.xu,{borderStyle:"sm",color:"lightWash",dangerouslySetInlineStyle:{__style:(n="-24px",t=_.pin?"66px":"8px",N?Q?{right:t,bottom:n}:{left:t,bottom:n}:Q?{left:t,bottom:n}:{right:t,bottom:n})},height:32,padding:1,position:"absolute",rounding:6,width:48,zIndex:ex,children:(r=es&&b.nk[es])?(0,S.jsx)(o.Ee,{alt:r.alt,fit:"contain",naturalHeight:r.height,naturalWidth:r.width,src:r.asset}):null})}),e_=D&&ee("mweb_message_reactions").anyEnabled,eS=es&&ee("mweb_message_reactions").anyEnabled,ew=function(e){"desktop"!==em&&(!et&&ee("mweb_message_reactions").anyEnabled?(ef(!0),e.preventDefault(),e.stopPropagation(),eb()):ef(!1))},eP=function(e){if("desktop"!==em){var n;n=eh.current,Date.now()-n>500&&ew(e)}},eI=[].concat(X((null==Z?void 0:Z.recentPinImages)||[]),X((null==Z?void 0:Z.contextualPinImageUrls)||[])).slice(0,2),eT=(0,S.jsx)(o.xu,{alignItems:Q?"end":"start",dangerouslySetInlineStyle:k||Q?void 0:{__style:{left:N?0:40,right:N?40:0,maxWidth:"calc(100% - 40px)"}},direction:"column",display:"flex",marginBottom:e_||eS?6:0,maxWidth:"100%",onContextMenu:ew,onTouchEnd:eP,onTouchMove:eP,onTouchStart:function(e){"desktop"!==em&&(eh.current=Date.now(),e.preventDefault(),e.stopPropagation())},overflow:e_||eS?"visible":"hidden",position:"relative",children:(0,S.jsxs)(o.xu,{ref:ep,children:[M&&(0,S.jsx)(I,{isOwnMessage:Q,text:M}),_.pin&&(0,S.jsx)(j.Z,{isOwnMessage:Q,pinHasText:!!M,pinId:"string"==typeof _.pin?_.pin:_.pin.entityId,pinKey:"string"==typeof _.pin?{type:"deprecated",data:_.pin}:{type:"graphqlRef",data:_.pin},slotIndex:p}),R&&(0,S.jsx)(E,{board:{coverPin:R.coverPin&&{imageUrl:R.coverPin.imageUrl},entityId:R.entityId,imageCoverHdUrl:R.imageCoverHdUrl,name:R.name,pinCount:R.pinCount,pinThumbnailUrls:R.pinThumbnailUrls,sectionCount:R.sectionCount,url:R.url},locale:U}),Z&&(0,S.jsx)(w,{user:{entityId:Z.entityId,imageLargeUrl:Z.imageLargeUrl,username:Z.username,fullName:Z.fullName,thumbnails:eI}}),B&&(0,S.jsx)(T,{userDidIt:{details:B.details,entityId:B.entityId,pin:B.pin,images150x:null===(c=B.images150x)||void 0===c?void 0:c.map(function(e){return{height:e.height,width:e.width,url:e.url}})}}),e_&&(0,S.jsx)(J,{endPositionPx:_.pin?66:8,onTap:eb,zIndex:ey}),eS&&(0,S.jsx)(i.Fragment,{children:ej})]})}),eO=k?(0,S.jsxs)(o.kC,{alignItems:"end",direction:"row",justifyContent:"start",children:[(0,S.jsx)(o.xu,{marginEnd:2,children:(0,S.jsx)(x.Z,{onTouch:function(){Y&&z.push("/".concat(Y,"/"))},pressState:"none",rounding:2,children:(0,S.jsx)(o.xu,{marginBottom:2,children:(0,S.jsx)(f.qE,{name:null!=$?$:"",size:"sm",src:null!=V?V:void 0})})})}),eT]}):eT,ek=(a=regeneratorRuntime.mark(function e(n){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return er(!1),t=_.entityId,r=es,eu(n),e.prev=4,e.next=7,(0,d.Z)({url:"/v3/conversations/messages/".concat(t,"/"),method:"POST",data:{reaction_text:n}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),eu(r);case 12:case"end":return e.stop()}},e,null,[[4,9]])}),s=function(){var e=this,n=arguments;return new Promise(function(t,r){var i=a.apply(e,n);function l(e){K(i,t,r,l,o,"next",e)}function o(e){K(i,t,r,l,o,"throw",e)}l(void 0)})},function(e){return s.apply(this,arguments)});return(0,S.jsxs)(i.Fragment,{children:[0===p&&(0,S.jsx)(o.xu,{minHeight:b.fc}),et&&(et?(0,S.jsx)(o.mh,{zIndex:ev,children:(0,S.jsx)(o.J2,{anchor:ep.current,idealDirection:"up",onDismiss:function(){return er(!1)},size:"flexible",children:(0,S.jsx)(L,{handleReactionTrayClick:ek})})}):null),(0,S.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:ed?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},"data-test-id":"message-item-container",direction:"row",display:"flex",marginBottom:P,children:[Q&&(0,S.jsx)(o.xu,{flex:"grow"}),0===p&&Q?(0,S.jsx)(o.xu,{direction:"column",display:"flex",maxWidth:"100%",overflow:"hidden",position:"relative",children:(0,S.jsx)(v.Z,{children:eO})}):eO]}),C&&(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:40,maxWidth:"calc(100% - 40px)"}},marginBottom:1,maxWidth:"100%",children:(0,S.jsx)(o.xv,{color:"default",lineClamp:1,size:"100",children:$})}),O&&(0,S.jsx)(o.xu,{display:"flex",justifyContent:"center",paddingY:8,width:"100%",children:(0,S.jsx)(o.xv,{color:"subtle",size:"100",children:q&&G(q,U)})})]})}function ee(e){var n=e.messageKey,t=function(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],!(n.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,B),r=(0,p.Zm)($,n,{useGraphQLAdapter:function(e){return e},useLegacyAdapter:function(e){return e}}).data;return(0,S.jsx)(Q,H(H({},t),{},{message:r}))}},317904:function(e,n,t){t.d(n,{E:function(){return m},Z:function(){return v}});var r,i=t(672652),l=t(42279),o=t(188349),a=t(333739),s=t(149722),u=t(161672),c=t(371590),d=t(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var m=function(e){var n=e.messages,t=e.isDesktop,r=(0,s.Z)().id,i=function(e){var r=n[e].createdMs;if(!t&&e>=n.length-1||t&&0===e)return!0;var i=t?n[e-1]:n[e+1],l=i&&i.createdMs;return(parseInt(r,10)||0)-(parseInt(l,10)||0)>o.UK};return{shouldRenderUserAvatarForIndex:function(e){var l,o,a=null===(l=n[e].sender)||void 0===l?void 0:l.entityId;if(a===r)return!1;if(!t&&0===e||t&&e===n.length-1)return!0;var s=t?n[e+1]:n[e-1],u=s&&(null===(o=s.sender)||void 0===o?void 0:o.entityId);return(t?i(e+1):i(e-1))||a!==u},shouldRenderUserFullNameForIndex:function(e){var l,o,a=null===(l=n[e].sender)||void 0===l?void 0:l.entityId,s=i(e);if((a===r||e>=n.length-1)&&!t)return!1;var u=t?n[e-1]:n[e+1];return a!==(null==u?void 0:null===(o=u.sender)||void 0===o?void 0:o.entityId)||s},shouldRenderTimestampForIndex:i,messageContentMarginBottom:function(e){var t,r,l=e>0&&i(e-1),o=e>0&&(null===(t=n[e].sender)||void 0===t?void 0:t.entityId)!==(null===(r=n[e-1].sender)||void 0===r?void 0:r.entityId);return l?0:o?6:1}}};function h(e){var n,t=e.messages,r=e.viewerId;if(!r)return null;for(var i=0;i<t.length;i+=1)if((null===(n=t[i].sender)||void 0===n?void 0:n.entityId)!==r)return t[i].entityId.toString();return null}var g=void 0!==r?r:r=t(954915);function y(e){var n=e.graphqlRef,t=(0,l.useFragment)(g,n),r=m({messages:t.map(function(e){return{createdMs:e.createdMs,sender:e.sender}})}),o=r.shouldRenderUserAvatarForIndex,a=r.shouldRenderUserFullNameForIndex,u=r.shouldRenderTimestampForIndex,f=r.messageContentMarginBottom,p=h({messages:t,viewerId:(0,s.Z)().id});return(0,d.jsx)(i.Fragment,{children:t.map(function(e,n){return(0,d.jsx)(c.Z,{index:n,messageContentMarginBottom:f(n),messageKey:{type:"graphqlRef",data:e},shouldRenderPermanentEntryPointForReaction:e.entityId===p,shouldRenderTimestamp:u(n),shouldRenderUserAvatar:o(n),shouldRenderUserFullName:a(n)},e.entityId)})})}function x(e){var n,t=e.conversationId,r="222x",l=((null===(n=(0,u.sX)(t))||void 0===n?void 0:n.messages)||[]).slice().reverse().map(function(e){var n,t,i,l,o,s,u,c,d,m,h,g,y,x,v,b,j,_,S,w,P,I,T,O,k,C,D,A;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==f(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===f(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({board:e.board?{coverPin:{imageUrl:null===(t=e.board.cover_pin)||void 0===t?void 0:t.image_url},entityId:null!==(i=e.board.id)&&void 0!==i?i:"",imageCoverHdUrl:null!==(l=e.board.image_cover_hd_url)&&void 0!==l?l:null,name:null!==(o=e.board.name)&&void 0!==o?o:null,pinCount:null!==(s=e.board.pin_count)&&void 0!==s?s:null,pinThumbnailUrls:null!==(u=e.board.pin_thumbnail_urls)&&void 0!==u?u:null,sectionCount:null!==(c=e.board.section_count)&&void 0!==c?c:null,url:null!==(d=e.board.url)&&void 0!==d?d:null}:null,createdMs:null!==(m=e.created_ms.toString())&&void 0!==m?m:null,entityId:null!==(h=e.id)&&void 0!==h?h:"",pin:null!==(g=null===(y=e.pin)||void 0===y?void 0:y.id)&&void 0!==g?g:"",sender:e.sender?{entityId:null!==(x=e.sender.id)&&void 0!==x?x:"",fullName:null!==(v=e.sender.full_name)&&void 0!==v?v:null,imageLargeUrl:null!==(b=e.sender.image_large_url)&&void 0!==b?b:null,username:null!==(j=e.sender.username)&&void 0!==j?j:null}:null,text:null!==(_=e.text)&&void 0!==_?_:null,user:e.user?{entityId:null!==(S=e.user.id)&&void 0!==S?S:"",username:null!==(w=e.user.username)&&void 0!==w?w:null,fullName:null!==(P=e.user.full_name)&&void 0!==P?P:null,imageLargeUrl:null!==(I=e.user.image_large_url)&&void 0!==I?I:null,recentPinImages:null!==(T=e.user.recent_pin_images)&&void 0!==T&&T[r]?e.user.recent_pin_images[r].map(function(e){var n,t,r;return{height:null!==(n=e.height)&&void 0!==n?n:null,url:null!==(t=e.url)&&void 0!==t?t:null,width:null!==(r=e.width)&&void 0!==r?r:null}}):null,contextualPinImageUrls:null!==(O=e.user)&&void 0!==O&&null!==(k=O.contextual_pin_image_urls)&&void 0!==k&&k[r]?e.user.contextual_pin_image_urls[r].map(function(e){var n,t,r;return{height:null!==(n=e.height)&&void 0!==n?n:null,url:null!==(t=e.url)&&void 0!==t?t:null,width:null!==(r=e.width)&&void 0!==r?r:null}}):null}:null,userDidItData:e.user_did_it_data?{details:null!==(C=e.user_did_it_data.details)&&void 0!==C?C:null,entityId:null!==(D=e.user_did_it_data.id)&&void 0!==D?D:"",pin:e.user_did_it_data.pin?{entityId:e.user_did_it_data.pin.id}:null,images150x:e.user_did_it_data.images?e.user_did_it_data.images.map(function(e){var n,t,r;return{height:null!==(n=e["150x150"].height)&&void 0!==n?n:null,width:null!==(t=e["150x150"].width)&&void 0!==t?t:null,url:null!==(r=e["150x150"].url)&&void 0!==r?r:null}}):null}:null,reactions:null!==(A=e.reactions)&&void 0!==A?A:null},a.tx)}),o=m({messages:l.map(function(e){var n,t=e.createdMs,r=e.sender;return{createdMs:t,sender:{entityId:null!==(n=null==r?void 0:r.entityId)&&void 0!==n?n:""}}})}),g=o.shouldRenderUserAvatarForIndex,y=o.shouldRenderUserFullNameForIndex,x=o.shouldRenderTimestampForIndex,v=o.messageContentMarginBottom,b=h({messages:l,viewerId:(0,s.Z)().id});return(0,d.jsx)(i.Fragment,{children:l.map(function(e,n){return(0,d.jsx)(c.Z,{index:n,messageContentMarginBottom:v(n),messageKey:{type:"deprecated",data:e},shouldRenderPermanentEntryPointForReaction:e.entityId===b,shouldRenderTimestamp:x(n),shouldRenderUserAvatar:g(n),shouldRenderUserFullName:y(n)},e.entityId)})})}function v(e){var n=e.dataKey;return"graphqlRef"===n.type?(0,d.jsx)(y,{graphqlRef:n.data}):(0,d.jsx)(x,{conversationId:n.data})}},801244:function(e,n,t){t.d(n,{M:function(){return j},Z:function(){return _}});var r,i=t(672652);t(42279);var l=t(328038),o=t(684404),a=t(587703),s=t(696534),u=t(333739),c=t(140017),d=t(608516),f=t(638365),p=t(676554),m=t(256918),h=t(24567),g=t(661395),y=t(819267);function x(e){var n=e.color,t=void 0===n?"#111":n,r=e.shouldShowSolidIcon;return void 0===r||r?(0,y.jsx)(h.Z,{color:t}):(0,y.jsx)(g.Z,{color:t})}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var b=(0,i.lazy)(function(){return Promise.all([t.e(61547),t.e(28986),t.e(67727)]).then(t.bind(t,28986))}),j=1;function _(e){var n,h,g=e.pinId,_=e.pinKey,S=e.pinHasText,w=e.slotIndex,P=e.isOwnMessage,I=e.trackingParams,T=(0,u.sr)(void 0!==r?r:r=t(717977),_,{type:"pin",useLegacyAdapter:function(e){var n;return{trackingParams:e.tracking_params,pinnedToBoard:e.pinned_to_board&&{entityId:null!==(n=e.pinned_to_board.id)&&void 0!==n?n:""}}}}),O=T.data,k=T.childDataKey__DEPRECATED,C=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l,o,a=[],s=!0,u=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=l.call(t)).done)&&(a.push(r.value),a.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}(n,2)||function(e,n){if(e){if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),D=C[0],A=C[1],z=(0,m.M)(),E=(0,s.Yc)(),F=(0,l.TH)(),U=(0,a.Z)(),N=(0,l.k6)(),M=(0,c.ZP)(),R=(0,f.Z)((F&&F.state||{}).trackingParams||I,null==O?void 0:O.trackingParams),L=function(){U({view_type:42,element:0,event_type:102}),N.push("/pin/".concat(g,"/repin"))},Z=!!(O&&null!=z&&z.isSaved(g)&&(null===(h=O.pinnedToBoard)||void 0===h?void 0:h.entityId));function B(){return(0,y.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:P?4:0,marginStart:P?0:4,children:[(0,y.jsx)(o.iP,{accessibilityLabel:M._('Share Pin', 'ConversationPage.ConversationPinV2.Pin.SendButton', 'Button that allows user to share a pin'),onTap:function(){return A(!D)},children:(0,y.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:E?"1px solid #FFFFFF":"1px solid #E9E9E9"}},display:"flex",height:40,justifyContent:"center",marginBottom:2,rounding:"circle",width:40,children:(0,y.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:"share",size:16})})}),(0,y.jsx)(o.iP,{accessibilityLabel:M._('Save Pin', 'ConversationPage.ConversationPinV2.Pin.SaveButton', 'Button that allows user to save a pin to their own board'),onTap:L,children:(0,y.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:E?"1px solid #FFFFFF":"1px solid #E9E9E9"}},display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,y.jsx)(o.xu,{marginTop:1,children:(0,y.jsx)(x,{color:E?"white":void 0,shouldShowSolidIcon:Z})})})})]})}return(0,y.jsxs)(o.kC,{children:[P&&B(),(0,y.jsx)(o.xu,{borderStyle:"sm",display:"inlineBlock",marginTop:S?2:0,overflow:"hidden",position:"relative",rounding:4,width:220,zIndex:new o.Ry(j),children:(0,y.jsx)(p.ZP,{componentType:0,disableReaction:!0,disableRounding:!0,duploConversationPin:!0,duploDisablePinCardPadding:!0,duploPinCardDetailsMargin:2,duploQueryRef:"graphqlRef"===k.type?k.data:null,objectIdStr:g,pinId:g,slotIndex:w,trafficSource:"messages",viewParameter:203,viewType:42})}),!P&&B(),D&&(0,y.jsx)(d.Z,{children:(0,y.jsx)(b,{clientTrackingParams:R,component:55,element:98,isOpen:!0,objectId:g,objectType:1,onDismiss:function(){A(!1)},viewParameter:203,viewType:42})})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/25145-b1b7dfbfed975911.js.map