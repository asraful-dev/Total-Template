"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[46699],{416049:function(e,t){t.Z=2},673463:function(e,t,r){r.d(t,{j:function(){return a}});var o={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},n=function(e){if(!e)return"";for(var t="",r=0;r<e.length;r+=1)t+=o[e.charAt(r)]||e.charAt(r);return t},i=function(e,t){for(var r=t.split(" "),o=e.split(" "),i=0,a=0;a<o.length;a+=1)(n(o[a]).includes(r[i])||o[a].includes(r[i]))&&(i+=1);return i===r.length},a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",o=t.toLowerCase();return e.filter(function(e){return i(e[r].toLowerCase(),o)})}},511034:function(e,t,r){r.d(t,{xH:function(){return ew},uC:function(){return ex},sR:function(){return ej},DR:function(){return eS}});var o=r(672652),n=r(780277),i=r(512419),a=r(684404),s=r(214877),c=r(107366),l=r(140017),d=r(406893),u=r(340523),f=r(5859),_=r(827625),p=r(757640),h=r(416049),b=r(149722),g=r(198705),y=r(199677),v=r(604625),m=r(494125),S=r(819267);function x(e){var t=e.boardPickerSuggestedBoards,r=e.index,o=e.item,n=e.pinId,i=e.saveSessionId,c=e.surfaceOriginViewParameter,l=e.useLegoLayout,d=(0,s.v)().logContextEvent;return(0,m.Z)(function(){"shortlist"===o.category&&d({aux_data:{board_picker_surface_origin:c,board_picker_suggested_boards:t,pin_id:n,save_session_id:i},event_type:13,view_type:21,view_parameter:3988})}),(0,S.jsx)(a.xu,{marginTop:r>0?2:1,paddingX:l?4:3,paddingY:1,children:(0,S.jsx)(a.xv,{size:l?"100":"200",children:o.title})})}var j=r(481177),w=r(267508);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,k(o.key),o)}}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==P(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=E(i);if(t){var o=E(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return T(C(e=n.call.apply(n,[this].concat(r))),"state",{hovered:!1}),T(C(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),T(C(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),T(C(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(r)}),T(C(e),"handleButtonClick",function(t){var r=t.event,o=e.props.onButtonClick;e.handleTouch(),o&&o(),r.stopPropagation()}),T(C(e),"tapAreaRef",(0,o.createRef)()),e}return B(i.prototype,[{key:"componentDidMount",value:function(){var e=this.props,t=e.board,r=e.logContextEvent,o=e.pinId,n=e.saveSessionId,i=e.surfaceOriginViewParameter;"boardless"===t.type&&r({aux_data:{board_picker_surface_origin:i,pin_id:o,save_session_id:n},event_type:13,view_parameter:3990,view_type:21})}},{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e=this.state.hovered,t=this.props,r=t.accessibilityLabelText,o=t.board,n=t.buttonText,i=t.displayAlreadySavedMsg,s=t.i18n,c=t.isSectionOpen,l=t.shouldOpenSections,d=t.showSaveToProfile,u=t.showFlyoutSaveButton,f=t.useLegoLayout,_=!!o.section_count&&o.section_count>0,p=o||{},h=p.images,b=p.image_cover_url,g=!(null!=b&&b.includes("custom"))&&h&&h["75x75"]&&h["75x75"][h["75x75"].length-1].url||b;return(0,S.jsx)(a.xu,{"data-test-id":_?"boardWithSection":"boardWithoutSection",children:(0,S.jsx)(a.iP,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,S.jsxs)(a.xu,{alignItems:"center",color:e?"secondary":"default","data-test-id":"board-row-".concat(o.name||""),display:"flex",height:f?64:52,marginBottom:f?0:1,marginEnd:f?2:3,marginStart:f?2:3,marginTop:f?0:1,padding:f?2:0,rounding:3,children:[(0,S.jsxs)(a.xu,{"aria-hidden":"true",flex:"none",height:f?48:36,marginBottom:f?0:1,marginEnd:f?2:3,marginStart:f?0:2,marginTop:f?0:1,overflow:"hidden",width:f?48:36,children:[d&&"boardless"===o.type&&(0,S.jsx)(a.zd,{height:48,rounding:2,width:48,children:(0,S.jsx)(a.xu,{color:e?"default":"secondary",display:"flex",height:"100%",width:"100%",children:(0,S.jsx)(a.xu,{padding:3,children:(0,S.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Save to profile icon', 'BoardRow.TapArea.Icon', 'Icon to indicate saving to profile.'),color:"default",icon:"history",size:24})})})}),g&&!l&&(0,S.jsx)(a.zd,{height:f?48:36,rounding:2,wash:!0,width:f?48:36,children:(0,S.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:f?48:36,naturalWidth:f?48:36,src:g})}),g&&l?(0,S.jsx)(a.zd,{height:f?48:36,rounding:2,wash:!0,width:f?48:36,children:(0,S.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:f?48:36,naturalWidth:f?48:36,src:g})}):(0,S.jsx)(a.zd,{height:f?48:36,rounding:2,width:f?48:36,children:(0,S.jsx)(a.xu,{color:l?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,S.jsxs)(a.xu,{flex:"grow",marginStart:f?0:1,overflow:"hidden",paddingY:1,children:[(0,S.jsx)(a.xv,{lineClamp:1,weight:l||!l?"bold":"normal",children:o.name}),i&&(0,S.jsx)(a.xu,{marginTop:1,children:(0,S.jsx)(a.xv,{align:"start",color:"default",size:"100",children:s._('Saved here already', 'BoardFlyout.AlreadySaved.Message', 'Text that indicates if a pin has been already saved to a board')})})]}),o&&(!e||e&&_&&!c)?(0,S.jsx)(a.xu,{children:(0,S.jsx)(w.Z,{board:o,showCollaborativeIcon:!!o.is_collaborative,showPrivateIcon:o.privacy===j.Z.BoardPrivacy.SECRET,showProtectedIcon:o.privacy===j.Z.BoardPrivacy.PROTECTED,showSectionsIcon:_&&l,useLegoLayout:f})}):null,e&&(0===o.section_count||!l)&&u&&(0,S.jsx)(a.xu,{flex:"none",marginEnd:f?0:2,children:(0,S.jsx)(a.zx,{accessibilityLabel:r||this.props.i18n._('save button', 'boardRow.saveButton', 'Default accessibility label for the board row save button'),color:"red",onClick:this.handleButtonClick,text:n||this.props.i18n._('Save', 'save button', 'save button')})})]})})})}}]),r&&B(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.Component);T(L,"defaultProps",{shouldOpenSections:!0,showFlyoutSaveButton:!0});var R=function(e){var t=(0,s.v)().logContextEvent,r=(0,l.ZP)();return(0,S.jsx)(L,O(O({},e),{},{i18n:r,logContextEvent:t}))},z=r(785059),D=r(319510);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){W(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function M(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,q(o.key),o)}}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==Z(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=J(i);if(t){var o=J(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return W(U(e=n.call.apply(n,[this].concat(r))),"state",{hovered:!1}),W(U(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),W(U(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),W(U(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(t.section,r)}),W(U(e),"handleButtonClick",function(t){var r=t.event,o=e.props.onButtonClick;e.handleTouch(),o&&o(),r.stopPropagation()}),W(U(e),"tapAreaRef",(0,o.createRef)()),e}return M(i.prototype,[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e,t,r,o,n,i,s=this.state.hovered,c=this.props,l=c.buttonText,d=c.section,u=c.showSectionSaveButton,f=c.useLegoLayout;return(0,S.jsx)(a.iP,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,S.jsxs)(a.xu,{alignItems:"center",color:s?"secondary":"default",dangerouslySetInlineStyle:{__style:f?{}:{marginLeft:53,marginRight:11}},"data-test-id":"section-row-".concat(d.title||""),display:"flex",height:f?64:52,marginEnd:f?2:0,marginStart:f?2:0,marginTop:f?0:1,padding:f?2:0,rounding:3,children:[f&&!!(null!==(e=d.preview_pins)&&void 0!==e&&e.length)&&(0,S.jsx)(D.Z,{image_url:null!==(t=d.preview_pins[0].image_square_url)&&void 0!==t?t:"",naturalHeight:null!==(r=null===(o=d.preview_pins[0].image_square_size_pixels)||void 0===o?void 0:o.height)&&void 0!==r?r:1,naturalWidth:null!==(n=null===(i=d.preview_pins[0].image_square_size_pixels)||void 0===i?void 0:i.width)&&void 0!==n?n:1}),(0,S.jsx)(a.xu,{flex:"grow",marginStart:f?0:4,paddingY:1,children:(0,S.jsx)(a.xv,{lineClamp:1,weight:f?"bold":"normal",children:d.title})}),s&&u&&(0,S.jsx)(a.xu,{flex:"none",marginEnd:f?0:2,children:(0,S.jsx)(a.zx,{accessibilityLabel:"save button",color:"red",onClick:this.handleButtonClick,text:l||this.props.i18n._('Save', 'save button', 'save button')})})]})})}}]),r&&M(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.Component);function X(e){var t=(0,l.ZP)();return(0,S.jsx)(V,F(F({},e),{},{i18n:t}))}function Q(e){var t=(0,l.ZP)(),r=e.board,o=e.buttonText,n=e.onClick,i=e.onButtonClick,s=e.showSectionSaveButton,c=e.useLegoLayout,d=(0,z.Z)(),u=(0,b.Z)(),f=(0,y.lJ)(u,d),_=(0,p.Z)({name:"BoardSectionsRepinResource",options:{board_id:r.id,orbac_subject_id:f},noCache:!0}),h=_&&_.data||[];return(0,S.jsxs)(a.xu,{children:[!_.isLoaded&&(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(a.$j,{accessibilityLabel:t._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),_.isLoaded&&(0,S.jsxs)(a.xu,{children:[c&&(0,S.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(a.xv,{size:"100",children:t._('Section', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),h.map(function(e){return(0,S.jsx)(X,{board:r,buttonText:o,onButtonClick:i,onClick:n,section:e,showSectionSaveButton:s,useLegoLayout:c},e.id)})]})]})}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function Y(e){var t,r=e.onClick,n=e.title,i=e.showIcon,s=(0,l.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],u=c[1];return(0,S.jsx)(a.iP,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTap:function(){r({title:n})},children:(0,S.jsxs)(a.xu,{alignItems:"center",color:d?"secondary":"default",display:"flex",height:i?64:52,marginBottom:1,marginEnd:3,marginStart:3,rounding:3,children:[(0,S.jsx)(a.xu,{flex:"none",height:i?48:36,marginBottom:1,marginEnd:3,marginStart:i?1:2,marginTop:1,overflow:"hidden",rounding:i?2:1,width:i?48:36,children:(0,S.jsx)(a.xu,{alignItems:i?"center":void 0,color:"secondary",display:i?"flex":void 0,height:"100%",justifyContent:i?"center":void 0,width:"100%",children:i&&(0,S.jsx)(a.JO,{accessibilityLabel:s._('Create board icon', 'BoardSuggestionRow.AccessibilityLabel.Text', 'accessibility label text form add icon'),color:"default",icon:"add",size:20})})}),(0,S.jsx)(a.xu,{flex:"grow",paddingY:1,children:(0,S.jsx)(a.xv,{lineClamp:1,weight:"bold",children:n})}),d&&(0,S.jsx)(a.xu,{marginEnd:2,children:(0,S.jsx)(a.zx,{accessibilityLabel:"create button",color:"red",text:s._('Create', 'create button to create a new board', 'create button to create a new board')})})]})})}function G(e){var t=(0,l.ZP)(),r=e.suggestionsResource,n=e.onClick,i=e.pinBuilderSuggestions,s=e.inWebRepinFlowExp,c=i||r&&r.data||[],d=(0,S.jsxs)(o.Fragment,{children:[s&&(0,S.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(a.xv,{size:"100",children:t._('Suggestions', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),c.map(function(e,t){return(0,S.jsx)(Y,{onClick:n,showIcon:s,title:e.title},t)})]});return(0,S.jsx)(o.Fragment,{children:c?d:(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(a.$j,{accessibilityLabel:t._('loading board suggestions', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})})}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function ee(e){var t,r=e.isBoardCreate,n=e.onCreateBoardClick,i=e.useLegoLayout,s=(0,l.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=i.call(r)).done)&&(s.push(o.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw n}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],u=c[1];return(0,S.jsx)(a.xu,{"data-test-id":"create-board",display:"flex",height:"100%",children:(0,S.jsx)(a.iP,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTap:n,rounding:2,children:(0,S.jsxs)(a.xu,{alignItems:"center",color:d?"secondary":"default",display:"flex",height:"100%",padding:i?4:2,width:"100%",children:[(0,S.jsx)(a.xu,{color:i?"secondary":"transparent",dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginEnd:i?2:5,marginStart:i?0:4,rounding:i?2:0,children:(0,S.jsx)(a.JO,{accessibilityLabel:"",color:i?"default":"error",icon:i?"add":"add-circle",size:i?20:28})}),r?(0,S.jsx)(a.xv,{align:"center",lineClamp:1,weight:"bold",children:s._('Create board', ' - ', ' -- ')}):(0,S.jsx)(a.xv,{align:"center",lineClamp:1,weight:"bold",children:s._('Create section', ' - ', ' -- ')})]})})})}W(V,"defaultProps",{showSectionSaveButton:!0});var et=r(673463),er=r(796534);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t,r,o,n,i,a){try{var s=e[i](a),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(o,n)}function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){e_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function es(e){return function(e){if(Array.isArray(e))return ec(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ec(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function el(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ep(o.key),o)}}function ed(e,t){return(ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eu(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ef(e){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e_(e,t,r){return(t=ep(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ep(e){var t=function(e,t){if("object"!==eo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==eo(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eo(t)?t:String(t)}var eh="allBoards",eb="shortlist",eg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}(l,e);var t,r,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ef(l);if(t){var o=ef(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eo(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,e)});function l(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var e,t,r=arguments.length,o=Array(r),n=0;n<r;n++)o[n]=arguments[n];return e_(eu(e=s.call.apply(s,[this].concat(o))),"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,i.Z)()}),e_(eu(e),"handleScroll",function(){eu(e)._container,(0,e.props.logContextEvent)({event_type:110,component:13282,view_type:21})}),e_(eu(e),"refHandler",function(t){e.removeEventListeners(),t&&t.addEventListener("scroll",e.handleScroll,{once:!0}),e._container=t}),e_(eu(e),"getItems",function(t){var r=e.props,o=r.boardResource,n=r.changeBoardModal,i=r.checkExperiment,a=r.showSaveToProfile;if(!(null!=o&&o.data))return[];var s=o.data.all_boards,c=s.length>=3&&a&&i("web_top_choices_extract_profile").anyEnabled,l=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:e.props.i18n._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],d=e.getAllBoards().map(function(t,r){return e.mapBoards(t,eh,r)}),u=e.getShortlist().map(function(t,r){return e.mapBoards(t,eb,r)}),f=!c&&a&&!n&&s.length>=3?[].concat(l,es(u.slice(0,2))):u,_=e.state.searchQuery;return _.length>=h.Z?es((0,et.j)(d,_)):[].concat(es(s.length<3&&a?[{type:"header",title:e.props.i18n._('Quick save and organize later', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle', 'Header saving to profile')}].concat(l):[]),es(s.length>=3&&c?l:[]),es(s.length>=3&&f&&f.length?[{category:eb,type:"header",title:t?e.props.i18n._('Top choices', 'PinBetterSave.BoardFlyout.TopChoicesSectionTitle', 'Header for top suggestions in board picker'):e.props.i18n._('Top board suggestions', 'Header for top suggesions in board picker', 'Header for top suggesions in board picker')}].concat(es(f)):[]),es(s.length>0?[{type:"header",title:s.length<3&&a?e.props.i18n._('Save to board', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle', 'Header for boards when there are less than 3 boards in board picker'):e.props.i18n._('All boards', 'Header for all boards in board picker', 'Header for all boards in board picker')}].concat(es(d)):[]))}),e_(eu(e),"mapBoards",function(t,r,o){var n=e.state,i=n.selectedBoardId,a=n.selectedBoardCategory,s=t.id===i&&r===a;return ea(ea({},t),{},{category:r,isOpen:s,gridIndex:o})}),e_(eu(e),"handleBack",function(){var t=e.props.setBoardWithSection;e.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),t&&t(null)}),e_(eu(e),"handleSectionClick",function(t,r){var o=e.props,n=o.onItemChosen,i=o.logContextEvent,a=o.pinId,s=o.surfaceOriginViewParameter,c=e.state,l=c.saveSessionId,d=c.searchQuery;i({event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:3133,aux_data:{board_id:r.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,is_profile_save:!1,pin_id:a,save_session_id:l,search_query:d,section_id:t.id}}),n({boardId:r.id,url:t.slug?"".concat(r.url).concat(t.slug,"/"):r.url,sectionId:t.id,title:t.title||"",type:t.type,imageCoverUrl:r.image_cover_url,ownerUsername:r.owner&&r.owner.username||""})}),e_(eu(e),"getPinBuilderSuggestions",(t=regeneratorRuntime.mark(function t(){var r,o,n,i,a,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(r=e.props).logContextEvent,n=r.pinId,i=r.surfaceOriginViewParameter,a=e.state.saveSessionId,!n){t.next=7;break}return t.next=5,(0,c.Z)({url:"/v3/pins/".concat(n,"/board_title_suggestions/"),data:{pin_id:n}});case 5:(s=t.sent).resource_response.data&&(l=s.resource_response.data.map(function(e){var t;return{title:e.title,metadata:JSON.parse(null!==(t=null==e?void 0:e.metadata)&&void 0!==t?t:"{}")}})||[],e.setState({boardSuggestions:l}),o({aux_data:{board_picker_surface_origin:i,board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),pin_id:n,save_session_id:a},component:13282,event_type:13,view_parameter:3992,view_type:21}));case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(o,n){var i=t.apply(e,r);function a(e){en(i,o,n,a,s,"next",e)}function s(e){en(i,o,n,a,s,"throw",e)}a(void 0)})})),e_(eu(e),"getAllBoards",function(){var t,r=e.props,o=r.boardResource,n=r.advertiser_id;return((null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.all_boards)||[]).filter(function(e){return!n||"secret"!==e.privacy})}),e_(eu(e),"getShortlist",function(){var t,r=e.props,o=r.suggestedBoardsShortListResource,n=r.displayShortlistMostRecentBoard,i=r.boardResource,a=(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.boards_shortlist)||[];return n?a:(null==o?void 0:o.data)||[]}),e_(eu(e),"getBoards",function(t){return t===eh?e.getAllBoards():t===eb?e.getShortlist():[]}),e_(eu(e),"getSuggestedBoardsIds",function(){var t=e.props.showSaveToProfile,r=(t?e.getShortlist().slice(0,2):e.getShortlist()).map(function(e){return e.id});return t&&r.unshift("PROFILE_PINS"),r}),e_(eu(e),"getTopChoiceBoardsAuxData",function(){return(e.props.showSaveToProfile?e.getShortlist().slice(0,2):es(e.getShortlist())).map(function(e){var t,r;return{board_title_id:String(e.id),board_title_kind:JSON.parse(null!==(t=e.recommendation_reason)&&void 0!==t?t:"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(null!==(r=e.recommendation_reason)&&void 0!==r?r:"{}").score}})}),e_(eu(e),"getBoardTitleSuggestionsAuxData",function(){return e.state.boardSuggestions.map(function(e){return{board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}})}),e_(eu(e),"handleBoardWithSectionsClick",function(t){var r=e.props,o=r.logContextEvent,n=r.pinId,i=r.setBoardWithSection,a=r.surfaceOriginViewParameter,s=e.state,c=s.saveSessionId,l=s.searchQuery,d=s.selectedBoardId,u=s.selectedBoardCategory,f=e.getBoards(t.category).find(function(e){return e.id===t.id}),_=d===t.id&&u===t.category;o({event_type:13,component:13282,element:36,object_id_str:t.id,view_type:275,aux_data:{board_id:t.id,board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,is_profile_save:!1,pin_id:n,save_session_id:c,search_query:l}}),f&&i&&i(f),e.setState({isSectionOpen:!0,selectedBoardId:_?"":t.id,selectedBoardCategory:_?"":t.category})}),e_(eu(e),"handleBoardClick",function(t){var r=t.board,o=t.toggleSections,n=e.props,i=n.logContextEvent,a=n.onItemChosen,s=n.pinId,c=n.surfaceOriginViewParameter,l=e.state,d=l.saveSessionId,u=l.searchQuery;e.setState({searchBoxFocused:!1}),o?(i({event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:r.category===eb?3988:3989,aux_data:{board_id:r.id,board_component:r.category===eb?3988:3989,board_picker_surface_origin:c,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,is_profile_save:!1,pin_id:s,save_session_id:d,search_query:u}}),e.handleBoardWithSectionsClick({category:r.category,gridIndex:r.gridIndex,id:r.id})):(i("boardless"===r.type?{event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:3990,aux_data:{board_id:r.id,board_component:3990,board_picker_surface_origin:c,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,is_profile_save:!0,pin_id:s,save_session_id:d,search_query:u}}:{event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,view_parameter:r.category===eb?3988:3989,aux_data:{board_id:r.id,board_component:r.category===eb?3988:3989,board_picker_surface_origin:c,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,is_profile_save:"boardless"===r.type,pin_id:s,save_session_id:d,search_query:u}}),a({boardId:r.id,url:r.url,title:r.name||"",type:r.type,imageCoverUrl:r.image_cover_url,privacy:r.privacy}))}),e_(eu(e),"handleSearchQueryUpdate",function(t){e.setState(function(e){return ea(ea({},e),{},{searchQuery:t})})}),e_(eu(e),"handleCreateBoardClick",function(t){var r=e.props,o=r.logContextEvent,n=r.onBoardCreate,i=r.pinId,a=r.surfaceOriginViewParameter,s=e.state,c=s.saveSessionId,l=s.searchQuery;o({event_type:101,component:13282,element:249,view_type:91,view_parameter:t?87:3132,aux_data:{board_component:t?87:3132,board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),pin_id:i,save_session_id:c,search_query:l}}),n({title:l})}),e_(eu(e),"handleBoardSuggestionClick",function(t){var r=e.props,o=r.logContextEvent,n=r.onBoardCreate,i=r.pinId,a=r.surfaceOriginViewParameter,s=e.state.saveSessionId;o({event_type:101,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:a,board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),pin_id:i,save_session_id:s}}),n(t)}),e}return r=[{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.logContextEvent,r=e.pinId,o=e.setBoardWithSection,n=e.surfaceOriginViewParameter,i=this.state.saveSessionId;o&&o(null),t({event_type:13,component:13282,element:10960,aux_data:{board_picker_surface_origin:n,pin_id:r,save_session_id:i}})}},{key:"componentDidUpdate",value:function(e){var t,r,o=this.state.saveSessionId;!(null!==(t=e.suggestedBoardsShortListResource)&&void 0!==t&&t.isLoaded)&&null!==(r=this.props.suggestedBoardsShortListResource)&&void 0!==r&&r.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:o}})}},{key:"removeEventListeners",value:function(){var e=this._container;e&&e.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.props,r=t.accessibilityLabelText,n=t.boardResource,i=t.buttonText,s=t.changeBoardModal,c=t.customItem,l=t.hideAlreadySavedMsg,u=t.onButtonClick,f=t.paneHeight,_=t.paneWidth,p=t.pinAlreadySavedBoard,h=t.pinId,b=t.requestContext,g=t.showSaveToProfile,y=t.showCreateBoardButton,m=t.showFlyoutSaveButton,j=t.showSections,w=t.showSectionSaveButton,P=t.suggestedBoardsShortListResource,I=t.surfaceOriginViewParameter,O=t.useStoryboardStyle,B=t.useLegoLayout,A=this.state,C=A.boardSuggestions,E=A.isSectionOpen,T=A.saveSessionId,k=A.searchBoxFocused,L=A.searchQuery;if(!n)return null;var z=n.isLoaded,D=n.error,Z=[];(z&&!D||P&&P.data&&!P.error)&&(Z=this.getItems(!!B));var N=Z.filter(function(e){return e&&e.category===eh}).length;N<=3&&0===C.length&&this.getPinBuilderSuggestions();var F=O?200:322,M=O?214:334,H=f||290,U=JSON.stringify(this.getTopChoiceBoardsAuxData()),J=b.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",W="";null!==E&&(W=b.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");var q=function(t){return(0,S.jsxs)(o.Fragment,{children:[!B&&(0,S.jsx)(a.iz,{}),(0,S.jsx)(a.xu,{borderStyle:B&&N>=3&&Z.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},height:B?80:52,overflow:"hidden",children:(0,S.jsx)(ee,{isBoardCreate:t,onCreateBoardClick:function(){return e.handleCreateBoardClick(t)},useLegoLayout:B})})]})};return(0,S.jsxs)(a.xu,{color:"default","data-test-id":"board-picker-flyout",height:O||s?"100%":B?498:439,overflow:"hidden",rounding:2,width:B&&!s?"100%":_,zIndex:v.lI,children:[(0,S.jsx)(d.Z,{unsafeCSS:"\n.BoardsSlideLeft {\n  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRight {\n  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideLeftRTL {\n  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRightRTL {\n  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n@keyframes boardFlyoutSlideLeft {\n  from {\n    margin-left: 0%;\n  }\n\n  to {\n    margin-left: -100%;\n  }\n}\n\n@keyframes boardFlyoutSlideRight {\n  from {\n    margin-left: -100%;\n  }\n\n  to {\n    margin-left: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideLeftRTL {\n  from {\n    margin-right: -100%;\n  }\n\n  to {\n    margin-right: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideRightRTL {\n  from {\n    margin-right: 0%;\n  }\n\n  to {\n    margin-right: -100%;\n  }\n}\n"}),z?null:(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:B&&!s?360:_,children:(0,S.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),(0,S.jsx)(a.kC,{direction:"row",children:z&&(0,S.jsx)("div",{className:E?J:W,children:(0,S.jsx)(a.xu,{position:"relative",children:(0,S.jsxs)(a.xu,{direction:"row",display:"flex",width:B&&!s?720:(null!=_?_:0)*2,zIndex:new a.Ry(0),children:[(0,S.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:B&&!s?360:_,children:[B&&!s&&(0,S.jsx)(a.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,S.jsx)(a.xv,{align:"center",size:"300",weight:"bold",children:g?this.props.i18n._('Save', 'PinBetterSave.BoardFlyout.SavePlaceholder', 'flyout header text to indicate save options'):this.props.i18n._('Save to board', 'PinBetterSave.BoardFlyout.SaveToBoardPlaceholder', 'flyout header text')})}),!s&&(0,S.jsx)(a.xu,{"data-test-id":"search-boards-field-container",height:B?64:"auto",padding:B?0:3,paddingX:B?4:3,children:(0,S.jsx)(er.Z,{accessibilityLabel:this.props.i18n._('Search through your boards', 'search bar placeholder text', 'search bar placeholder text'),focused:k,id:"pickerSearchField",onChange:function(t){var r=t.value;return e.handleSearchQueryUpdate(r)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),value:L})}),(0,S.jsxs)(a.xu,{ref:this.refHandler,maxHeight:B?H:F,minHeight:B?290:F,overflow:"scrollY",children:[P&&!P.isLoaded?(0,S.jsx)(a.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,S.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,S.jsx)(a.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})}):null,c,Z.map(function(t,o){return"header"===t.type?(0,S.jsx)(x,{boardPickerSuggestedBoards:U,index:o,item:t,pinId:h,saveSessionId:T,surfaceOriginViewParameter:I,useLegoLayout:B},"".concat(t.title)):(0,S.jsx)(a.xu,{children:(0,S.jsx)(R,{accessibilityLabelText:r,board:t,buttonText:i,displayAlreadySavedMsg:p&&p.id===t.id&&!l,onButtonClick:u,onClick:function(t){e.handleBoardClick({board:t,toggleSections:j&&!!t.section_count})},pinId:h,saveSessionId:T,shouldOpenSections:j,showFlyoutSaveButton:m,showSaveToProfile:g,surfaceOriginViewParameter:I,useLegoLayout:B})},"".concat(t.category,"-").concat(t.id))}),N<=3&&(0,S.jsx)(G,{inWebRepinFlowExp:B,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:C})]}),y&&q(!0)]}),E&&(0,S.jsxs)(a.xu,{direction:"column",display:"flex",marginBottom:B?2:0,width:B&&!s?360:_,children:[(0,S.jsxs)(a.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,S.jsx)(a.sg,{span:2,children:(0,S.jsx)(a.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,S.jsx)(a.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,S.jsx)(a.sg,{span:8,children:(0,S.jsx)(a.kC,{alignItems:"center",height:B?64:52,justifyContent:"center",children:(0,S.jsx)(a.xv,{weight:"bold",children:B?this.props.i18n._('Save Pin to', 'PinBetterSave.BoardFlyout.SectionHeader', 'Header for section header'):this.props.i18n._('Choose section', 'Header for section header', 'Header for section header')})})}),(0,S.jsx)(a.sg,{span:2,children:(0,S.jsx)(a.xu,{})})]}),!B&&(0,S.jsx)(a.iz,{}),(0,S.jsx)(a.xu,{maxHeight:B?H:M,minHeight:B?354:M,overflow:"scrollY",children:Z?(0,S.jsx)(o.Fragment,{children:Z&&Z.map(function(t){return"header"===t.type?null:(0,S.jsx)(a.xu,{children:t.isOpen&&(0,S.jsxs)(o.Fragment,{children:[B&&(0,S.jsx)(a.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(a.xv,{size:"100",children:e.props.i18n._('Board', 'PinBetterSave.BoardFlyout.BoardPickerTitle', 'board title on section picker')})}),(0,S.jsx)(R,{board:t,buttonText:i,displayAlreadySavedMsg:p&&p.id===t.id,isSectionOpen:!0,onButtonClick:u,onClick:function(t){e.handleBoardClick({board:t,toggleSections:!1})},saveSessionId:T,shouldOpenSections:!1,showFlyoutSaveButton:m,useLegoLayout:B}),(0,S.jsx)(Q,{board:t,buttonText:i,onButtonClick:u,onClick:e.handleSectionClick,showSectionSaveButton:w,useLegoLayout:B})]})},"".concat(t.category,"-").concat(t.id))})}):null}),y&&!s&&q(!1)]})]})})})})]})}}],el(l.prototype,r),n&&el(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.PureComponent);function ey(e){var t=(0,s.v)().logContextEvent,r=(0,l.ZP)(),o=(0,u.F)().checkExperiment;return(0,S.jsx)(eg,ea(ea({},e),{},{checkExperiment:o,i18n:r,logContextEvent:t,requestContext:(0,f.B)()}))}function ev(e,t,r){var o=e.advertiser,n={};if(r&&r.user&&r.user.username&&r.id!==t.id&&(n.orbacActingAs=r,n.username=r.user.username),t&&o){var i=e.advertiser;if(t.isAuth&&i.is_impersonation)return ea({hasMUA:i.owner_user_id!==t.id,advertiser_id:i.id,username:i.owner_user_id},n);if(t.isAuth&&i.owner_user_id!==t.id)return ea({hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id},n);if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return ea({advertiser_id:void 0,hasMUA:void 0},n)}function em(e){var t=e.advertiser_id,r=e.hasMUA,o=e.boardFilter,n=void 0===o?"all":o,i=e.username,a=ea(ea({field_set_key:"board_picker",filter:r?"protected":n},i?{username:i}:Object.freeze({})),t?{advertiser_id:t}:{});return(!e.useStoryboardStyle||e.isORBACBeta)&&e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(a=ea(ea({},a),{},{username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:n})),a}function eS(e,t){return function(r,o){return r((0,_.jB)("BoardPickerBoardsResource",em(ev(o(),e,t))))}}function ex(e){var t=(0,b.Z)(),r=(0,n.useSelector)(function(r){return ev(r,t,e.orbacActingAs)}),o=ea(ea({},e),r),i=(0,p.Z)({name:"BoardPickerBoardsResource",options:em(o)});return(0,S.jsx)(ey,ea(ea({},o),{},{boardResource:i}))}function ej(e){var t=(0,g.Z)(),r=(0,b.Z)(),o=(0,y.lJ)(r,t),n=(0,u.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled;return(0,S.jsx)(ex,ea(ea({},e),{},{isORBACBeta:n,orbacActingAs:o?t:void 0}))}function ew(e){var t=(0,p.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),r=(0,p.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(e.pinId,"/"),field_sets:["pin.pinned_to_board()"]},noCache:!0}).data;return(0,S.jsx)(ey,ea(ea({},e),{},{pinAlreadySavedBoard:null==r?void 0:r.pinned_to_board,suggestedBoardsShortListResource:t}))}e_(eg,"defaultProps",{paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},267508:function(e,t,r){var o=r(684404),n=r(860910),i=r(327540),a=r(819267),s=function(e){var t=e.collaborator_count,r=e.useLegoLayout,n=e.type;return r?(0,a.jsx)(o.xu,{marginEnd:t?2:0,children:(0,a.jsx)(i.Z,{type:n})}):(0,a.jsx)(i.Z,{type:n})};t.Z=function(e){var t,r=e.board,c=e.showCollaborativeIcon,l=e.showPrivateIcon,d=e.showProtectedIcon,u=e.showSectionsIcon,f=e.useLegoLayout,_=(null==r?void 0:null===(t=r.collaborating_users)||void 0===t?void 0:t.length)||0;return c||l||d||u?(0,a.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:f?0:5,children:[l&&(0,a.jsx)(s,{collaborator_count:_,type:"secret",useLegoLayout:f}),d&&(0,a.jsx)(s,{collaborator_count:_,type:"protected",useLegoLayout:f}),c&&(f?(0,a.jsx)(n.Z,{board:r,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(i.Z,{type:"group"})),u&&(0,a.jsx)(i.Z,{type:"sections"})]}):null}},319510:function(e,t,r){var o=r(684404),n=r(819267);t.Z=function(e){var t=e.image_url,r=e.naturalHeight,i=e.naturalWidth;return(0,n.jsx)(o.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,n.jsx)(o.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,n.jsx)(o.Ee,{alt:"",naturalHeight:r,naturalWidth:i,src:t})})})}},860910:function(e,t,r){r.d(t,{Z:function(){return u}});var o=r(684404),n=r(140017),i=r(339001),a=r(149722),s=r(819267);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function d(e){var t,r,o,n,i=null!==(t=null!==(r=null==e?void 0:e.imageMediumUrl)&&void 0!==r?r:null==e?void 0:e.image_medium_url)&&void 0!==t?t:"";return{name:null!==(o=null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:null==e?void 0:e.full_name)&&void 0!==o?o:"",src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function u(e){var t,r,l,u,f,_=e.board,p=e.forceViewer,h=e.isCompact,b=e.ownerOnly,g=(0,n.ZP)(),y=(0,a.Z)(),v=b?[d(null==_?void 0:_.owner)]:(function(e,t,r){var o=null!=e?e:{},n=o.collaborated_by_me,i=o.collaborating_users,a=o.owner,s=null!=i?i:[],l=[a];if(n||r){var d=s.findIndex(function(e){return t.isAuth&&e.id===t.id});if(-1!==d){var u=s.splice(d,1)[0];l.push(u)}else l.push(t)}var f=c(s).sort(function(e,t){var r,o,n,i;return(null!==(r=e.full_name)&&void 0!==r?r:"")>(null!==(o=t.full_name)&&void 0!==o?o:"")?1:(null!==(n=t.full_name)&&void 0!==n?n:"")>(null!==(i=e.full_name)&&void 0!==i?i:"")?-1:0});return[].concat(l,c(f))})(_,y,p).map(d),m=v.slice(0,3).map(function(e){return e.name}),S="";switch(v.length){case 3:S=(0,i.Wc)("".concat(g._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(null!==(t=m[0])&&void 0!==t?t:""),second:"".concat(null!==(r=m[1])&&void 0!==r?r:""),last:"".concat(null!==(l=m[2])&&void 0!==l?l:"")});break;case 2:S=(0,i.Wc)("".concat(g._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(null!==(u=m[0])&&void 0!==u?u:""),second:"".concat(null!==(f=m[1])&&void 0!==f?f:"")});break;default:S=m.join(", ")}var x=v.length>3?(0,i.Wc)(", ".concat(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', v.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')),{userNames:S,leftCount:"".concat(v.length-3)}):(0,i.Wc)(", ".concat(g._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:S});return(0,s.jsx)(o.HE,{accessibilityLabel:x,collaborators:v,size:h?"xs":"sm"})}},402287:function(e,t,r){r.d(t,{$n:function(){return x},A4:function(){return I},CE:function(){return g},ET:function(){return E},F$:function(){return S},Kw:function(){return A},Nv:function(){return B},PA:function(){return P},X_:function(){return C},d9:function(){return j},e1:function(){return b},o4:function(){return O},vB:function(){return v}});var o=r(654369),n=r(216167),i=r(107366),a=r(227258),s=r(827625),c=r(821419),l=r(64819),d=r(430408),u=r(539426),f=r(937310);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var o,n;o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e){return function(t){var r=e.boardId,o=e.sectionIdBefore,n=e.sectionIdAfter,a=e.sourceSectionId,s=e.targetSectionId;t((0,l._f)({feedType:f.Z.BOARD_SECTIONS,feedId:r,itemType:"boardsection",sourceItemId:a,targetItemId:s}));var c=Object.freeze({});return o&&(c=h(h({},c),{},{section_before:o})),n&&(c=h(h({},c),{},{section_after:n})),(0,i.Z)({url:"/v3/board/sections/".concat(a,"/reorder/"),method:"POST",data:c})}}function g(e,t){return function(r){return r((0,a.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}function y(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function v(e,t,r,o){var i=e.boardId,a=e.sourceBoardId,u=void 0===a?"":a,_=e.sourceSectionId,p=void 0===_?"":_,b=e.name,g=e.nameSource,v=e.pinImport,m=e.initialPinIds,S=0;"RECOMMENDATION"===g?S=1:"EDITED_RECOMMENDATION"===g&&(S=2);var x=h({board_id:i,initial_pins:v&&!v.all?v.pinIds:void 0===m?[]:m,name:b,name_source:S},r?{orbac_subject_id:r}:Object.freeze({}));return function(e){return n.Z.create("BoardSectionResource",x).callCreate({showError:!1}).then(function(n){var a=n.resource_response.data;o({event_type:7100,object_id_str:a.id}),e(y(i,a)),e((0,l.vX)({feedId:i,feedType:f.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),e((0,c.Tq)(i,"pin_count")),e((0,s.jB)("BoardSectionsRepinResource",{board_id:i,orbac_subject_id:r}));var _=v||{all:!1,pinIds:[]},h=_.all,b=_.pinIds;return h?new Promise(function(r,o){return e((0,d.Z)({inverseSelection:!0,selectedPinIds:b,source:{boardId:u||i,sectionId:p||null},target:{boardId:i,sectionId:a.id}},t)).then(function(){return r(a)}).catch(o)}):(b.length>0&&e((0,l.N8)(f.Z.BOARDFEED,i)),a)})}}function m(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function S(e,t,r){return function(o){return n.Z.create("BoardSectionEditResource",h({section_id:t},r?{orbac_subject_id:r}:Object.freeze({}))).callDelete({showError:!1}).then(function(){return Promise.all([o(m(e,t)),o((0,l.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),o((0,c.Tq)(e,"pin_count")),o((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r}))])})}}function x(e,t,r,o){return function(i){return n.Z.create("BoardSectionEditResource",h({section_id:t,title:r},o?{orbac_subject_id:o}:Object.freeze({}))).callCreate({showError:!1}).then(function(t){var r=t.resource_response.data;return i(function(t){var o,n,i,a,s,d=r.board;d&&d.id!==e?(t(m(e,null!==(o=r.id)&&void 0!==o?o:"")),t((0,l.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(n=r.id)&&void 0!==n?n:""],itemType:"boardsection"})),t((0,c.Tq)(e,"pin_count")),t(y(null!==(i=d.id)&&void 0!==i?i:"",r)),t((0,l.vX)({feedId:null!==(a=d.id)&&void 0!==a?a:"",feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(s=r.id)&&void 0!==s?s:""],itemType:"boardsection"})),t((0,c.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:r}})}),i((0,s.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:o})),r})}}function j(e,t,r){return function(o){return(0,i.Z)({url:"/v3/board/sections/".concat(t,"/merge/").concat(r,"/"),method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(function(n){return Promise.all([o(m(e,t)),o((0,s.jB)("BoardSectionsRepinResource",{board_id:e})),o(g(r)),o((0,l.N8)(f.Z.BOARD_SECTION_PINS,r))]).then(function(){return n})})}}var w=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}},P=function(e,t){return function(r){return n.Z.create("BoardSectionEditResource",h(h({},t),{},{section_id:e})).callCreate().then(function(o){return r(w(e,t)),o.resource_response.data})}},I=function(e){return function(t){return n.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(r){return t(w(e,r.resource_response.data||{id:"",title:""})),r})}},O=function(e,t,r,o){return function(i){var a=n.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return i({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:r,pinCount:o}}),a}},B=function(e,t,r,i){return function(a){var c={board_id:e,initial_pins:t,name:r},d="BoardSectionResource";return n.Z.create(d,c).callCreate().then(function(r){var n=r.resource_response.data,_=(0,o.Fv)(n,u.Z[d]);return i({event_type:7100,object_id_str:n.id}),a((0,s.XM)(d,c,r,_)),a(y(e,n)),a((0,l.vX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t.length&&a({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:n.id},pinIds:t}}),r})}},A=function(e){return function(t){var r=e.source,i=e.target,a=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),r.boardlessPins||i.boardId!==r.boardId){var c={board_id:i.boardId,pin_ids:a,section_id:i.sectionId};return n.Z.create("BulkEditResource",c).callUpdate()}if(i.sectionId){var l={section_id:i.sectionId,pins:a},d="BoardSectionEditResource";return n.Z.create(d,l).callUpdate().then(function(e){var r=(0,o.Fv)(e.resource_response.data,u.Z[d]);return t((0,s.XM)(d,l,e,r)),e})}var f={section_id:r.sectionId,pins:a};return n.Z.create("BoardSectionPinsResource",f).callDelete()}},C=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var r=e.source,o=e.target,i=e.excludePinIds,a={board_id:r.boardId,new_board_id:o.boardId,pin_ids:i,old_section_id:r.sectionId,new_section_id:o.sectionId};return n.Z.create("BulkEditSelectAllResource",a).callUpdate()}},E=function(e,t,r,o,n){return function(i){return i(B(e,[],t,n)).then(function(t){return i(C({source:{boardId:e,sectionId:o},target:{boardId:e,sectionId:t.resource_response.data.id},excludePinIds:r}))})}}},430408:function(e,t,r){r.d(t,{Z:function(){return _},S:function(){return f}});var o=r(216167),n=r(821419),i=r(402287),a=r(64819),s=r(937310),c=r(622888),l=function(e){return function(t){c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},d=function(e){return(0,a.N8)(e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,e.sectionId||e.boardId)};function u(e,t){var r=e.source,o=e.target;o.boardId!==r.boardId?(t((0,n.Tq)(r.boardId,"pin_count")),t((0,n.Tq)(o.boardId,"pin_count"))):r.sectionId&&o.sectionId||t((0,n.Tq)(o.boardId,"pin_count")),r.sectionId&&t((0,i.CE)(r.sectionId)),o.sectionId&&t((0,i.CE)(o.sectionId))}function f(e){return function(t){var r=e.selectedPinIds,o=e.source,n=e.target;t((0,a.EX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:r,itemType:"pin"})),u(e,t)}}function _(e,t){return function(r){return(function(e,t,r){var n=e.inverseSelection,i=e.selectedPinIds,c=e.source,u=e.target,f=e.orbacSubjectId;if(c.boardId===u.boardId&&(c.sectionId||null)===(u.sectionId||null))return Promise.reject();if(n){var _={board_id:c.boardId,new_board_id:u.boardId,old_section_id:c.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return o.Z.create("BulkEditSelectAllResource",_).callUpdate({showError:!1}).then(function(){return Promise.all([t(d(c)),t(d(u))])}).catch(l(r))}var p=function(e,r){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?s.Z.BOARD_SECTION_PINS:s.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};p(c,u);var h=function(){return p(u,c)};if(u.boardId===c.boardId){if(u.sectionId){var b={section_id:u.sectionId,pins:i,orbac_subject_id:f};return o.Z.create("BoardSectionEditResource",b).callUpdate({showError:!1}).catch(function(e){h(),l(r)(e)})}var g={section_id:c.sectionId,pins:i,orbac_subject_id:f};return o.Z.create("BoardSectionPinsResource",g).callDelete({showError:!1}).catch(function(e){h(),l(r)(e)})}var y={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return o.Z.create("BulkEditResource",y).callUpdate({showError:!1}).catch(function(e){h(),l(r)(e)})})(e,r,t).then(function(){return u(e,r)})}}},796534:function(e,t,r){r.d(t,{Z:function(){return a}});var o=r(672652),n=r(684404),i=r(819267);function a(e){var t=e.accessibilityLabel,r=e.focused,a=e.id,s=e.onBlur,c=e.onChange,l=e.onFocus,d=e.placeholder,u=e.value,f=e.size,_=(0,o.useRef)(null);return(0,o.useEffect)(function(){if(r){var e=_.current;window.requestAnimationFrame(function(){var t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[r]),(0,i.jsx)(n.xu,{ref:_,children:(0,i.jsx)(n.Um,{accessibilityLabel:t,id:a,onBlur:s,onChange:c,onFocus:l,placeholder:d,size:void 0===f?"lg":f,value:u})})}},327540:function(e,t,r){var o=r(684404),n=r(140017),i=r(819267);t.Z=function(e){var t=e.type,r=(0,n.ZP)(),a={group:{accessibilityLabel:r._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:r._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:r._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:r._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:r._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[t];return(0,i.jsx)(o.xu,{marginStart:1,children:(0,i.jsx)(o.xu,{marginStart:2,children:"sections"===t||"sectionsInline"===t?(0,i.jsx)(o.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,i.jsx)(o.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/46699-98dcc908db3043ad.js.map