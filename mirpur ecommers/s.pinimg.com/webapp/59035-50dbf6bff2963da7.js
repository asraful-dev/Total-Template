"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[59035],{359035:function(e,t,r){r.d(t,{c:function(){return ex},Z:function(){return eS}});var n=r(672652),o=r(780277),i=r(328038),a=r(684404),s=r(341640),l=r(361687),c=r(140017),u=r(340523),d=r(897749),_=r(819267);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=function(){return Promise.resolve()};function m(e){var t=e.errorMessage,r=e.value,o=e.useNewFormat,i=e.isInRevampPageExp,h=void 0!==i&&i,m=e.setValidState,y=e.setBirthday,g=void 0===y?function(){}:y,b=(0,c.ZP)(),v=(0,(0,u.F)().checkExperiment)("adv_growth_biz_signup_birthday_new_copy").anyEnabled,x=b._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We won\'t share this information without your permission and it won\'t be visible on your profile.', 'businessAccountCreate.birthdate.label.tooltip.description', 'Tooltip explaining why we require birthdate'),S=b._('As the person creating the business account, please provide your birthdate. This info is used to provide a better, safer experience for the younger people in our community and will not be publicly displayed.', 'businessAccountCreate.birthdate.label.tooltip.newDescription', 'Revised tooltip explaining why we require birthdate'),w=p((0,n.useState)(null),2),A=w[0],P=w[1],k=p((0,n.useState)(null),2),C=k[0],j=k[1],z=function(e){var t=e.toString();e&&!(0,s.M5)(t)?P(b._('The birthdate you entered may have an error. Please try again.', 'settings.birthdate.errors.minMaxAge', 'Error message to be displayed when the user input a age <5 or >120')):A&&P(null),j(e),g((0,s.IA)(t))};return(0,_.jsxs)(a.xu,{"data-test-id":"business-birthdate",paddingY:h?4:1,position:"relative",zIndex:new a.Ry(2),children:[(0,_.jsxs)(a.xu,{alignItems:"center",display:"flex",marginBottom:h?4:0,children:[(0,_.jsx)(a.xu,{marginBottom:h?0:1,marginEnd:2,marginStart:2,children:(0,_.jsx)(a.__,{htmlFor:"birthdate",children:(0,_.jsx)(a.xv,{size:h?"300":"200",children:b._('Birthdate', 'businessAccountCreate.birthdate.label', 'Label for Birthdate field')})})}),(0,_.jsx)(a.u,{idealDirection:"right",text:v?S:x,zIndex:new a.Ry(1e4),children:(0,_.jsx)(a.JO,{accessibilityLabel:b._('Tooltip', 'businessAccountCreate.birthdate.label.tooltip.icon', 'accessibility tooltip for birthdate'),icon:"info-circle"})})]}),(0,_.jsx)(a.xu,{"data-test-id":"signup-birthdate-field",children:void 0!==o&&o&&!h?(0,_.jsx)(d.Z,{birthday:r,handleChangeBirthday:f,setBirthday:g,setValidState:void 0===m?function(){}:m}):(0,_.jsx)(l.Mt,{errorMessage:t||A||"",id:"birthdate",idealDirection:"down",maxDate:new Date,name:"birthdate",onChange:function(e){return z(e.value||new Date)},placeholder:b._('MM/DD/YYYY', 'businessAccountCreate.birthdate.placeholder', 'Placeholder for the birthdate field'),selectLists:["year","month"],value:C})})]})}var y=r(29156),g=r(744087),b=r(341152),v=r(21829),x=r(535941),S=r(137831),w=r(114267),A=r(214877),P=r(525364),k=r(658583),C=r(622541),j=r(11109),z=r(920434),O=r(516562),E=r(313566),D=r(378432),I=r(322079),T=r(614792),R=r(911037),M=r(107366),U=r(454514),Z=r(339001),B=r(610954),Y=r(96452),L=r(588604),F=r(345276),N=r(61137),V=r(5859),W=r(245593),G=r(702497),K=r(217058),H=r(13848),q=r(624797),$=r(835599),J=r(149722),Q=r(432988),X=r(747602),ee=r(953565);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function en(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function eo(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){en(i,n,o,a,s,"next",e)}function s(e){en(i,n,o,a,s,"throw",e)}a(void 0)})}}function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){ed(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function es(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e_(n.key),n)}}function el(e,t){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t,r){return(t=e_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==et(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===et(t)?t:String(t)}var ep=G.R_9,eh=G.V$B,ef=G.cvl,em=(0,b.$)("create_business_account_singlestep."),ey=function(e){return em("".concat(e,"FieldFocused"))},eg=[Y.bd,Y.Jt],eb=["6e9dfd","carousel_onboarding"],ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(l,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eu(l);if(t){var n=eu(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===et(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ec(e)}(this,e)});function l(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var e,t,r,n,o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return ed(ec(e=i.call.apply(i,[this].concat(a))),"state",{clickedSubmit:!1,shouldShowConsentStep:!1,shouldShowUnderageConfirmationModal:!1,email:"",password:"",birthdayString:"",errors:{businessName:[],email:[],password:[],birthdayString:[]},exchangeCodeToTokenUrl:""}),ed(ec(e),"validators",{email:[(0,X.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'businessAccountCreate.email.error.required', 'Prompt user to input email when email field is empty')}),(0,X.GT)({message:e.props.i18n._('Hmm... that doesn\'t look like an email address.', 'businessAccountCreate.email.error.invalid', 'Prompt user to input a valid email')})],password:[(0,X.aH)({message:e.props.i18n._('Your password is too short! You need 6+ characters.', 'businessAccountCreate.password.error.required', 'Prompt user to input password when password field is empty')}),(0,X.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'businessAccountCreate.password.error.onlyASCII', 'Only ASCII characters are allowed for password')}),(0,Q.Z)({shortPassStr:e.props.i18n._('Your password is too short! You need 6+ characters.', 'businessAccountCreate.password.error.short', 'Password must be at least 6 characters'),samePasswordStr:e.props.i18n._('Please make your username and password different.', 'businessAccountCreate.password.error.invalid', 'Password and username cannot be the same, user must choose a new password'),blackPassStr:e.props.i18n._('Please make a stronger password.', 'businessAccountCreate.password.error.weak', 'Password is too simple')})],businessName:[(0,X.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your business name.', 'businessAccountCreate.businessName.error.required', 'Prompt user to input business name when business name field is empty')})],birthdayString:[(0,X.aH)({message:e.props.i18n._('You missed a spot. Don\u2019t forget to add your birthdate.', 'businessAccountCreate.birthdate.error.required', 'Prompt user to input a valid birthdate')}),(0,X.ES)({date:new Date(new Date().getFullYear(),0,1),message:(0,s.Uy)(e.props.i18n)})]}),ed(ec(e),"setUnderageError",function(){var t=e.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'businessAccountCreate.age.error.underage', 'Error message for underage users');e.setState(function(e){return{errors:ea(ea({},e.errors),{},{birthdayString:[t]})}})}),ed(ec(e),"getLoginUrl",function(){var t=e.props.location.search;if(t&&"next"in(0,q.mB)(t))return(0,$.Z)("/business/login",{next:(0,q.mB)(t).next});var r=e.inAdCreditsCampaign()?(0,q.ru)("/business/create/",{utm_medium:"adcredits"}):"/business/create/";return(0,$.Z)("/business/login",{next:r})}),ed(ec(e),"handleFieldChange",function(t,r){var n;n=r.nativeEvent?r.nativeEvent.target.value:r.value?r.value:r,e.setState(ed({},t,n)),"email"===t&&e.props.isOnSsoExperiment&&e.debouncedCheckIfSsoUser(),e.state.clickedSubmit&&e.validateField(t,n)}),ed(ec(e),"checkIfSsoUser",eo(regeneratorRuntime.mark(function t(){var r,n,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props.verifySsoUser,i=e.state.email,t.next=4,o(null!=i?i:"");case 4:a=t.sent,e.setState({exchangeCodeToTokenUrl:null!==(r=a.exchangeCodeToTokenUrl)&&void 0!==r?r:"",isSsoEmail:a.isSso,existingUserSso:!!a.existingUser,existingUserIsSso:!!a.existingUserIsSso,ssoAuthorizationUri:null!==(n=a.authorizationUri)&&void 0!==n?n:""});case 6:case"end":return t.stop()}},t)}))),ed(ec(e),"debouncedCheckIfSsoUser",(0,z.Z)(eo(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,X.Ks)(e.validators.email,e.state.email);case 2:0===t.sent.length?e.checkIfSsoUser():e.state.isSsoEmail&&e.setState({isSsoEmail:!1});case 4:case"end":return t.stop()}},t)})),300)),ed(ec(e),"validateField",(0,z.Z)(function(t,r){var n=e.validators[t];(0,X.Ks)(n,r).then(function(r){e.setState(function(e){return{errors:ea(ea({},e.errors),{},ed({},t,r))}})})},b.w)),ed(ec(e),"hasValidationErrors",(t=eo(regeneratorRuntime.mark(function t(r){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,X.Ks)(e.validators[r],e.state[r]);case 2:if(!((n=t.sent).length>0)){t.next=8;break}return e.setState(function(e){return{errors:ea(ea({},e.errors),{},ed({},r,n))}}),t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})),ed(ec(e),"validateForm",eo(regeneratorRuntime.mark(function t(){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.hasValidationErrors("birthdayString");case 2:return r=t.sent,t.next=5,e.hasValidationErrors("email");case 5:return n=t.sent,t.next=8,e.hasValidationErrors("password");case 8:return o=t.sent,t.abrupt("return",!(n||o||r));case 10:case"end":return t.stop()}},t)}))),ed(ec(e),"checkEmailValidation",(r=eo(regeneratorRuntime.mark(function t(r){var n,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(n=e.props).i18n,i=n.showToast,!((0,R.Z)(r)||(0,R.z)(r,"yahoo")||(0,R.z)(r,"hotmail"))){t.next=3;break}return t.abrupt("return",o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation'));case 3:return t.prev=3,t.next=6,(0,M.Z)({url:"/v3/email/validation/",data:{email:r}});case 6:if((a=(t.sent.resource_response||{}).data)&&a.is_valid){t.next=11;break}return t.abrupt("return",o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation'));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),t.t0 instanceof Error&&("message"in t.t0?i(function(e){var r=e.hideToast;return(0,_.jsx)(U.ZP,{duration:3e3,onHide:r,text:t.t0.message,type:"error"})}):"api_error_code"in t.t0&&(0,K.My)("register.email.error.ERROR".concat((null===t.t0||void 0===t.t0?void 0:t.t0.api_error_code)||0)));case 16:return t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,null,[[3,13]])})),function(e){return r.apply(this,arguments)})),ed(ec(e),"handleFormSubmission",(n=eo(regeneratorRuntime.mark(function t(r){var n,o,i,a,s,l,c,u,d,_,p,h,f,m,g,b,v,A,P,z,O,E,D,I,T,R,U,Z,B;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&r.preventDefault&&r.preventDefault(),!(e.props.isConsentStepNeeded&&!e.state.shouldShowConsentStep)){t.next=4;break}return e.setState({shouldShowConsentStep:!0}),t.abrupt("return");case 4:if(em("submit_clicked"),o=(n=e.state).email,i=n.password,a=n.birthdayString,l=(s=e.props).authenticateWithSso,c=s.i18n,u=s.unifiedSignup,d=s.location.search,_=s.requestContext,p=s.viewer,h=s.logContextEvent,f=s.pixelBlocked,m=s.register,g=s.setIsSumittingForm,b=s.setIsUnderageConfirmationModalVisible,v=s.isOnSsoExperiment,A=s.history,g(!0),!v||(z=(P=e.state).isSsoEmail,O=P.exchangeCodeToTokenUrl,E=P.existingUserSso,D=P.existingUserIsSso,I=P.ssoAuthorizationUri,!z)){t.next=20;break}if(E){t.next=16;break}return(0,L.i)(o,A),t.abrupt("return");case 16:if(!D){t.next=20;break}return h({event_type:102,component:13097,element:14367}),l({callbacks:{success:function(t){var r=t.authCode,n=e.props,i=n.login,a=n.pageContext,s=n.recaptchaV3Token;o&&r&&i({creds:{sso_user_email:o,sso_auth_code:r},loggingOptions:{loggingData:{page:null==a?void 0:a.pageType},loginAttemptContextEvent:{event_type:7534,view_type:156,view_parameter:3129}},recaptchaV3Token:s||"default"}).then(function(){var e=(0,q.mB)(d)||{},t=e&&"next"in e?e.next:null;(0,y.Z)((0,$.Z)("/",{next:null!=t?t:""}))},function(t){e.props.refreshRecaptchaV3Token&&e.props.refreshRecaptchaV3Token(),(0,K.My)("unauth.login.sso.loginError.business.create",{code:t.api_error_code,message:t.message}),e.setState(function(e){return{errors:ea(ea({},e.errors),{},{email:[c._('Sorry! Something went wrong on our end.', 'emailPasswordStep.errorMessage.sso.login', 'error message for SSO login')]})}}),g(!1)})},error:function(t){(0,K.My)("unauth.login.sso.error.business.create",{code:t.api_error_code,message:t.message}),e.setState(function(e){return{errors:ea(ea({},e.errors),{},{email:[c._('Sorry! Something went wrong on our end.', 'emailPasswordStep.errorMessage.sso.login', 'error message for SSO login')]})}}),g(!1)}},exchangeCodeToTokenUrl:O,isLogin:!0,modalUrl:null!=I?I:""}),t.abrupt("return");case 20:return T=(0,q.mB)(d)||{},R=o.split("@")[0],t.next=24,e.validateForm();case 24:if(U=t.sent,e.setState({clickedSubmit:!0}),h({event_type:101,component:13097,element:10283,aux_data:{successful_frontend_validation:U,in_unified_modal:u}}),"1"!==k.U2(C.It)){t.next=31;break}return e.setUnderageError(),g(!1),t.abrupt("return");case 31:if(Z=a?(0,j.Z)(a):void 0,!(!U||void 0===Z)){t.next=35;break}return g(!1),t.abrupt("return");case 35:B=Z,(0,M.Z)({url:"/v3/register/exists/",data:{email:o}}).then(function(){var t=eo(regeneratorRuntime.mark(function t(r){var n,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.resource_response.data){t.next=5;break}e.setState(function(e){return{errors:ea(ea({},e.errors),{},{email:[c._('Deja vu! That email\'s taken.', 'businessAccountCreate.email.error.taken', 'User entered an email that is already taken')]})}}),g(!1),t.next=17;break;case 5:return t.next=7,e.checkEmailValidation(o);case 7:if(!(n=t.sent)){t.next=12;break}return g(!1),e.setState(function(e){return{errors:ea(ea({},e.errors),{},{email:[n]}),shouldShowConsentStep:!1}}),t.abrupt("return");case 12:a="utm_source"in T&&"shopify"===T.utm_source,(0,x.Z)("client.partner.account.create_attempt",{source:{utmPartner:T.utm_partner,utmSource:T.utm_source,utmMedium:T.utm_medium},isAuth:!1,unifiedSignup:u,country:_.country}),s={},e.props.isConsentStepNeeded&&(s={kr_privacy_consent_opt_in:e.state.kr_privacy_consent_opt_in,marketing_notifs_opt_out:e.state.marketing_notifs_opt_out}),m(ea({type:"email",birthday:B,business_name:R,email:o,password:i,has_ads_credits:e.inAdCreditsCampaign(),third_party_apps:a?[0]:null,utm_campaign:T.utm_campaign},s),{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:156,view_parameter:3129}}).then(function(){em("signup_success"),(0,x.Z)("client.partner.account.create",{source:{utmPartner:T.utm_partner,utmSource:T.utm_source,utmMedium:T.utm_medium},isAuth:!1,unifiedSignup:u,country:_.country}),h({event_type:8631,view_type:7,view_parameter:3561}),eb.indexOf(T.utm_campaign)>=0&&(0,ee.nP)("catalogs.carousel.merchant.create.success",{sampleRate:1,tags:{email:o}});var e=T&&"next"in T?T.next:null;p.third_party_marketing_tracking_enabled?(S.Z.reportFacebookConversion(w.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),S.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),S.Z.reportLinkedInConversion(w.Z.LINKEDIN_PARTNER_ID,w.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),S.Z.reportGoogleConversion(w.Z.GOOGLE_ADWORDS_ID,w.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,e?void 0:"/",f),e||A.push("/")):window.location.assign(e?void 0:"/"),e&&(0,y.Z)((0,$.Z)("/",{next:e}))},function(t){var r={errors:e.state.errors};[Y.dj,Y.tL].includes(t.api_error_code)?r.errors.birthdayString=[t.message]:t.api_error_code===Y.tz?(k.t8(C.It,"1",(0,k.kZ)(C.It)),e.setState({shouldShowUnderageConfirmationModal:!0,shouldShowConsentStep:!1}),b(!0)):eg.includes(t.api_error_code)&&(r.errors.email=[t.message]),e.setState(r),g(!1)});case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),function(){e.setState(function(e){return{errors:ea(ea({},e.errors),{},{email:[c._('Add a valid email', 'businessAccountCreate.email.error.invalid', 'Prompt user to input a valid email')]})}}),g(!1)});case 37:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})),ed(ec(e),"handleConsentsSubmission",function(t){var r=t.kr_privacy_consent_opt_in,n=t.marketing_notifs_opt_out;e.setState({kr_privacy_consent_opt_in:r,marketing_notifs_opt_out:n},e.handleFormSubmission)}),ed(ec(e),"inAdCreditsCampaign",function(){var t=e.props.location;return(0,v.Z)(t)}),ed(ec(e),"setBirthday",function(t){e.handleFieldChange("birthdayString",t)}),ed(ec(e),"setValidState",function(t){e.setState(function(e){return{errors:ea(ea({},e.errors),{},{birthdayString:[t]})}})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.logContextEvent,r=e.viewer,n=e.viewType,o=e.pixelBlocked;em("loaded"),r.third_party_marketing_tracking_enabled&&(S.Z.insertGoogleAdWordsTag(w.Z.GOOGLE_ADWORDS_ID,o),S.Z.insertFacebookPixelTag(w.Z.FACEBOOK_ADVERTISER_ID),S.Z.insertPinterestTag(w.Z.SMB_PAID_PINTEREST_ID)),"1"===k.U2(C.It)&&this.setUnderageError(),n||t({event_type:13,view_type:156,view_parameter:3129}),t({event_type:120,component:13097,aux_data:{in_unified_modal:this.props.unifiedSignup}}),(0,ee.nP)("partner.business_account_create.visit",{sampleRate:1,tags:{platform:"web"}})}},{key:"render",value:function(){var e=this,t=this.state,r=t.email,o=t.errors,i=t.password,s=t.birthdayString,l=t.shouldShowConsentStep,c=t.shouldShowUnderageConfirmationModal,u=t.isSsoEmail,d=t.existingUserSso,p=t.existingUserIsSso,h=this.props,f=h.unifiedSignup,y=h.secondaryAccountFlow,b=h.isSubmittingForm,v=h.i18n,x=h.setIsUnderageConfirmationModalVisible,S=h.newBirthdayFormat,w=h.isInRevampPageExp,A=void 0!==w&&w,P=h.onRedirectToLogin,k=void 0===P?function(){}:P,C=this.inAdCreditsCampaign(),j=A?(0,_.jsxs)(a.xu,{display:"flex",paddingY:6,children:[(0,_.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n._('Already have a business account?', 'businessAccountCreate.loginLink.text', 'The text to let user login')}),(0,_.jsx)(a.xu,{marginStart:1,children:(0,_.jsx)(a.rU,{display:"inlineBlock",href:"#",onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r(),k()},children:(0,_.jsx)(a.xv,{size:"300",weight:"normal",children:this.props.i18n._('Log in', 'businessAccountCreate.loginLink.CTA', 'The actual CTA to redirect user to login page')})},0)})]}):(0,_.jsx)(a.xu,{"data-test-id":"business-existing-account",paddingY:1,children:(0,_.jsx)(a.ZP,{fullWidth:!0,href:this.getLoginUrl(),onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},size:"md",target:"self",text:this.props.i18n._('Log into existing account', 'businessAccountCreate.logInto.button', 'Text for button where user can click to log into an exisiting account')})}),z=A?"subtle":void 0,O=(0,_.jsx)("span",{"data-test-id":"business-tos",children:(0,_.jsx)(a.xv,{color:z,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(a.rU,{display:"inlineBlock",href:eh,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:this.props.i18n._('Business Terms of Service', 'businessAccountCreate.termsOfService.link.text', 'Link to Terms of Service')},0)})},"business-tos"),I=(0,_.jsx)("span",{"data-test-id":"privacy",children:(0,_.jsx)(a.xv,{color:z,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(a.rU,{display:"inlineBlock",href:ep,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:this.props.i18n._('Privacy Policy', 'businessAccountCreate.privacyPolicy.link.text', 'Link to Pinterest Privacy Policy')},1)})},"privacy"),T=function(){var t=e.props,r=t.isFdbrTeenComplianceEnabled,n=t.i18n;return r?(0,Z.nk)(n._('By continuing, you agree to Pinterest\'s {{ termsLink }} and acknowledge you\'ve read our {{ privacyLink }}. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can {{deleteYourAccount}}.', 'businessAccountCreate.termsOfService.text.floridaCompliance', 'Notice that proceeding indicates acceptance of term and policy (termsLink: link element for terms of use, privacyLink: link element for privacy policy, deleteYourAccount: delete your account link)'),{termsLink:O,privacyLink:I,deleteYourAccount:(0,_.jsx)("span",{"data-test-id":"deleteYourAccount",children:(0,_.jsx)(a.xv,{color:z,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(a.rU,{display:"inlineBlock",href:G.QA0,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:n._('delete your account', 'termOfService.link.deleteYourAccount', 'Link to delete your account')},"deleteYourAccountLink")})},"deleteYourAccount")}):(0,Z.nk)(n._('By continuing, you agree to Pinterest\'s {{ termsLink }} and acknowledge you\'ve read our {{ privacyLink }}. {{ noticeAtCollection }}', 'businessAccountCreate.birthday.agreement.text', 'Notice that proceeding indicates acceptance of term and policy (termsLink: link element for terms of use, privacyLink: link element for privacy policy, noticeAtCollection: link element for notice at collection)'),{termsLink:O,privacyLink:I,noticeAtCollection:(0,_.jsx)("span",{"data-test-id":"noticeAtCollection",children:(0,_.jsx)(a.xv,{color:z,inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(a.rU,{display:"inlineBlock",href:ef,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:n._('Notice at collection', 'termOfService.link.noticeAtCollection', 'Link to notice at collection')},"noticeAtCollectionLink")})},"noticeAtCollection")})},R=u&&(!d||d&&p);return(0,_.jsxs)(n.Fragment,{children:[c&&(0,_.jsx)(a.mh,{children:(0,_.jsx)(a.xu,{alignItems:"center",bottom:!0,color:"transparent",display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,zIndex:new a.Ry(1e4),children:(0,_.jsx)(a.xu,{borderStyle:"shadow",color:"light",rounding:8,children:(0,_.jsx)(D.Z,{birthday:s,onEditBirthday:function(){e.setState({shouldShowUnderageConfirmationModal:!1}),x(!1)}})})})}),l&&(0,_.jsx)(a.mh,{children:(0,_.jsx)(a.xu,{alignItems:"center",bottom:!0,color:"transparent",display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,zIndex:new a.Ry(1e4),children:(0,_.jsx)(a.xu,{borderStyle:"shadow",color:"light",maxWidth:484,rounding:8,children:(0,_.jsx)(W.Z,{isBusiness:!0,isRegistering:b,onBackButtonClick:function(){e.setState({shouldShowConsentStep:!1})},onSubmitHandler:this.handleConsentsSubmission,validationError:""})})})}),(0,_.jsx)("form",{method:"POST",noValidate:!0,onSubmit:this.handleFormSubmission,children:(0,_.jsxs)(a.xu,{children:[(0,_.jsxs)(a.xu,{"data-test-id":"business-email",paddingY:A?4:1,position:"relative",zIndex:new a.Ry(2),children:[(0,_.jsx)(a.xu,{marginBottom:A?4:1,marginStart:2,children:(0,_.jsx)(a.__,{htmlFor:"email",children:(0,_.jsx)(a.xv,{size:A?"300":"200",children:v._('Email', 'businessAccountCreate.email.label', 'Label for email field')})})}),(0,_.jsx)(E.Z,{hasError:o.email.length>0,id:"email",name:"email",onChange:function(t){e.handleFieldChange("email",t)},onFocus:function(){return ey("email")},placeholder:this.props.i18n._('Email', 'businessAccountCreate.email.placeholder', 'Placeholder text for email field'),tooltip:o.email.length>0?o.email[0]:null,type:"email",useExperimentalTextfield:f,value:r})]}),R?null:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)(a.xu,{"data-test-id":"business-password",paddingY:A?4:1,position:"relative",zIndex:new a.Ry(2),children:[(0,_.jsx)(a.xu,{marginBottom:A?4:1,marginStart:2,children:(0,_.jsx)(a.__,{htmlFor:"password",children:(0,_.jsx)(a.xv,{size:A?"300":"200",children:v._('Password', 'businessAccountCreate.password.label', 'Label for password field')})})}),(0,_.jsx)(E.Z,{hasError:o.password.length>0,id:"password",name:"password",onChange:function(t){e.handleFieldChange("password",t)},onFocus:function(){return ey("password")},placeholder:f?this.props.i18n._('Create a password', 'businessAccountCreate.password.placeholder', 'Placeholder text for password field'):this.props.i18n._('Password', 'businessAccountCreate.password.placeholder', 'Placeholder text for password field'),tooltip:o.password.length>0?o.password[0]:null,type:"password",useExperimentalTextfield:f,value:i})]}),(0,_.jsx)(m,{errorMessage:o.birthdayString[0]||null,isInRevampPageExp:A,setBirthday:this.setBirthday,setValidState:this.setValidState,useNewFormat:S,value:s})]}),(0,_.jsx)(a.xu,{"data-test-id":"business-create-account",paddingY:A?4:1,children:(0,_.jsx)(a.zx,{color:"red",disabled:b,fullWidth:!0,size:"md",text:R?this.props.i18n._('Continue with SSO', 'businessAccountCreate.createAccount.sso', 'Button text for continuing with SSO'):this.props.i18n._('Create account', 'businessAccountCreate.createAccount.business', 'Button text for creating a business account'),type:"submit"})}),!y&&j,(0,_.jsxs)(a.xu,{"data-test-id":"business-terms-of-service",paddingY:1,children:[A?(0,_.jsx)(a.xv,{align:"start",color:z,overflow:"normal",size:"100",children:T()}):(0,_.jsx)(a.xv,{align:C?"start":"center",overflow:"normal",size:"100",children:T()}),C&&(0,_.jsx)(a.xv,{align:"start",overflow:"normal",size:"100",children:g.Z})]})]})})]})}}],es(l.prototype,r),o&&es(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function ex(e){var t=(0,c.ZP)(),r=(0,i.TH)(),n=(0,i.k6)(),a=(0,V.B)(),s=(0,A.v)().logContextEvent,l=(0,O.B$)().register,d=(0,P.SU)().viewType,p=(0,I.Z)(),h=(0,o.useDispatch)(),f=(0,u.F)().checkExperiment,m=f("ppm_p_gate").anyEnabled,y=f("adv_growth_biz_signup_birthday_format").anyEnabled,g=f("web_sso_auth_enabled").anyEnabled,b=f("fdbr_teen_compliance").anyEnabled,v=f("kr_privacy_consent").anyEnabled,x=(0,T.lO)(),S=(0,N.D)(),w=S.recaptchaV3Token,k=S.refreshToken,C=(0,F.Z)(),j=C.authenticateWithSso,z=C.verifySsoUser,E=(0,H.F9)().showToast;return(0,_.jsx)(ev,ea(ea({},e),{},{authenticateWithSso:j,history:n,i18n:t,isConsentStepNeeded:v,isFdbrTeenComplianceEnabled:b,isOnSsoExperiment:g,location:r,logContextEvent:s,login:p,newBirthdayFormat:y,pageContext:x,pixelBlocked:m,recaptchaV3Token:w,refreshRecaptchaV3Token:k,register:l,requestContext:a,setIsUnderageConfirmationModalVisible:function(e){h({type:"SET_IS_UNDERAGE_CONFIRMATION_MODAL_VISIBLE",payload:{isUnderageConfirmationModalVisible:e}})},showToast:E,unifiedSignup:!!e.unifiedSignup,verifySsoUser:z,viewer:(0,J.Z)(),viewType:d}))}function eS(e){var t,r=e.secondaryAccountFlow,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],s=o[1];return(0,_.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[i&&(0,_.jsx)(B.Z,{}),(0,_.jsx)(a.xu,{color:"default",width:268,children:(0,_.jsx)(ex,{isSubmittingForm:i,secondaryAccountFlow:r,setIsSumittingForm:s,unifiedSignup:!0})})]})}},744087:function(e,t){t.Z="*Spend $30 in your first 7 days to receive a $20 refund on your bill. Thereâ€™s a 1 offer limit per account. New accounts only. You must be a legal resident of the 50 United States or DC, and at least 18 years old to be eligible for this offer."},341152:function(e,t,r){r.d(t,{$:function(){return i},w:function(){return o}});var n=r(953565),o=300,i=function(e){return function(t){return(0,n.nP)(e+t,{sampleRate:1})}}},21829:function(e,t,r){var n=r(624797);t.Z=function(e){return!!(e&&e.search)&&"adcredits"===(0,n.mB)(e.search).utm_medium}},535941:function(e,t,r){var n=r(953565);t.Z=function(e,t){var r,o=!!(t&&t.isAuth),i=!!(t&&t.unifiedSignup),a=t&&t.country;t&&(r=t).source&&r.source.utmPartner&&"partneracquisition"===r.source.utmPartner?(0,n.nP)(e,{sampleRate:1,tags:{app_type:"web",is_paid:!0,paid_source:t.source.utmSource,is_auth:o,unified_signup:i}}):(0,n.nP)(e,{sampleRate:1,tags:{app_type:"web",is_auth:o,unified_signup:i,country:a}})}},432988:function(e,t,r){function n(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}t.Z=function(e){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(25778).then(r.bind(r,325778));case 2:return n=t.sent.NewPassword,t.abrupt("return",n(e));case 5:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function s(e){n(a,o,i,s,l,"next",e)}function l(e){n(a,o,i,s,l,"throw",e)}s(void 0)})}}},897749:function(e,t,r){r.d(t,{Z:function(){return S}});var n=r(672652),o=r(10586),i=r(840015),a=r(684404),s=r(341640),l=r(140017),c=r(5859),u=r(554786),d=r(747602),_=r(621018),p=r(588797),h=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e,t,r,n){var a=(0,o.Z)(e,"yyyy-MM-dd",new Date);if(!(0,i.Z)(a)){r((0,s.Tv)(t,!0,!0,!0)),n("date error");return}if(!(0,s.Cd)(e,_.kx)){var l=(0,s.Uy)(t);r(l),n(l);return}var c=(0,d.a3)(e,[(0,d.C9)({date:new Date(new Date().getFullYear(),0,1),message:t._('Invalid date', 'signup.emailpasswordstep.birthday.validator_message', 'Error message shown when user input a birthday date later than allowed')})]);r(c),n(c)};function S(e){var t=e.disabled,r=e.handleChangeBirthday,i=e.setValidState,d=e.birthdayErrorMessage,_=e.birthday,f=e.onChange,m=e.setBirthday,v=e.hideFieldLabel,S=(0,l.ZP)(),w=(0,u.HG)(),A=_?(0,o.Z)(_,"yyyy-MM-dd",new Date):void 0,P=b((0,n.useState)({day:A?A.getDate():void 0,month:A?A.getMonth()+1:void 0,year:A?A.getFullYear():void 0}),2),k=P[0],C=P[1],j=b((0,n.useState)(!1),2),z=j[0],O=j[1],E=b((0,n.useState)(!1),2),D=E[0],I=E[1],T=b((0,n.useState)(!1),2),R=T[0],M=T[1],U=b((0,n.useState)(""),2),Z=U[0],B=U[1],Y=(0,c.B)().locale,L=(0,n.useCallback)(function(e){var t=e.day,n=e.month,o=e.year;if(void 0!==o&&(o<s.nN||o>s.cO)?M(!0):M(!1),void 0!==n&&(n>s.Xf||n<s.Oh)?I(!0):I(!1),void 0!==t&&(t<s.p9||t>s.G)?O(!0):O(!1),z||D||R){var a=(0,s.Tv)(S,z,D,R);m(""),r(_),B(a),i("error birthday fields")}else void 0!==n&&void 0!==o&&void 0!==t?(m(o.toString()+"-"+n.toString().padStart(2,"0")+"-"+t.toString().padStart(2,"0")),r(_),x(_,S,B,i)):(m(""),r(_),B(""))},[z,D,R,S,i,m,r,_]);(0,n.useEffect)(function(){L(k)},[k,L]);var F=function(e,t){C(y(y({},k),{},g({},e.target.name,t))),null==f||f()},N=(0,h.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,h.jsx)(a.Ki,{disabled:t,id:"birthday-day",label:v?"":S._('Day', 'signup.birthdate.day', 'Signup birthdate textfield day label'),name:"day",onBlur:function(){return L(k)},onChange:function(e){F(e.event,e.value)},placeholder:S._('DD', 'signup.birthdate.placeholder.day', 'Signup birthdate textfield day placeholder'),value:k.day})}),V=(0,h.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,h.jsx)(a.Ki,{disabled:t,id:"birthday-month",label:v?"":S._('Month', 'signup.birthdate.month', 'Signup birthdate textfield month label'),name:"month",onBlur:function(){return L(k)},onChange:function(e){F(e.event,e.value)},placeholder:S._('MM', 'signup.birthdate.placeholder.month', 'Signup birthdate textfield month placeholder'),value:k.month})}),W=(0,h.jsx)(a.xu,{"data-test-id":"birthday-fields",children:(0,h.jsx)(a.Ki,{disabled:t,id:"birthday-year",label:v?"":S._('Year', 'signup.birthdate.year', 'Signup birthdate textfield year label'),name:"year",onBlur:function(){return L(k)},onChange:function(e){F(e.event,e.value)},placeholder:S._('YYYY', 'signup.birthdate.placeholder.year', 'Signup birthdate textfield year placeholder'),value:k.year})}),G=(0,p.Z)(Y);return(0,h.jsx)(a.xu,{display:"flex",marginEnd:w?-1:3,marginStart:w?2:3,paddingY:2,children:(0,h.jsx)(a.pg,{errorMessage:d||Z,id:"birthday-input-fields",legend:S._('birthday input fields', 'birthday legend', 'Label to birthday legend'),legendDisplay:"hidden",children:(0,h.jsxs)(a.kC,{gap:4,children:["YYMMDD"===G?W:"MMDDYY"===G?V:N,"YYMMDD"===G?V:"MMDDYY"===G?N:V,"YYMMDD"===G?N:W]})})})}},588797:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){var t=new Intl.DateTimeFormat(e).formatToParts(new Date).map(function(e){switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YY";default:return""}}).join("");return t.startsWith("Y")?"YYMMDD":t.startsWith("M")?"MMDDYY":"DDMMYY"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/59035-50dbf6bff2963da7.js.map