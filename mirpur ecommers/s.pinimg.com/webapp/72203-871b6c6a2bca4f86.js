"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72203],{179370:function(e,t,r){r.d(t,{F:function(){return g},M:function(){return v}});var n=r(672652),o=r(780277),i=r(262040),u=r(342513),c=r(25919),a=r(957753),l=r(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,u.Z)("ExperienceContext"),b=d.Provider,v=d.useHook;function g(e){var t,r=e.children,u=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return p(p({},e),{},{mountedPlacements:p(p({},e.mountedPlacements),{},y({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var r=p({},e);return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?p(p({},e),{},{registerdAfterActionPlacements:p(p({},e.registerdAfterActionPlacements),{},y({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],s=u[1],d=f.mountedPlacements,v=f.registerdAfterActionPlacements,g=(0,o.useDispatch)(),h=(0,o.useSelector)(function(e){return e.experiences}),O=(0,c.be)(),x=(0,c.Am)(),A=(0,c.Ig)(),P=(0,n.useMemo)(function(){var e=(0,i.bindActionCreators)({completeExperience:O,dismissExperience:x,fetchAllExperiences:c.fO,fetchAllExperiencesMulti:a.NW,fetchExperienceForPlacements:c.pz,mountPlacement:c.N,triggerExperimentsForPlacement:c.kd,viewExperience:A},g);return p(p({},e),{},{mountPlacement:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.mountPlacement.apply(e,[t].concat(n)),s({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){s({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){s({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[O,x,g,s,A]),S=(0,n.useMemo)(function(){return p({experiences:h,mountedPlacements:d,registerdAfterActionPlacements:v},P)},[h,d,v,P]);return(0,l.jsx)(b,{value:S,children:r})}},25919:function(e,t,r){r.d(t,{Am:function(){return x},Ig:function(){return h},N:function(){return j},Sd:function(){return A},YX:function(){return S},be:function(){return O},fO:function(){return b},kd:function(){return P},pz:function(){return v}});var n,o=r(672652),i=r(216167),u=r(587703),c=r(703404),a=r(957753),l=r(107366),f=r(953565);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,f.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:r})},b=function(e,t){return function(r){var n=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",n).callGet().then(function(e){return e.resource_response?r((0,a.OD)(e.resource_response.data)):void 0})}},v=function(e,t,r,o){return function(u,l){if(t)return Promise.resolve();if(o&&(n=o),1===e.length){var f=e[0],s=l().experiences[f];if(JSON.stringify((null==s?void 0:s.extraContext)||null)===JSON.stringify(r)||(0,c.E3)(s)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:o}).callGet().then(function(e){return e.resource_response?u((0,a.cL)(e.resource_response.data)):void 0})}},g=function(e,t,r,o){return function(u,c,l){var f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0,p=arguments.length>5?arguments[5]:void 0;return function(y,m){var d,v=m(),g=v.experiences,h=v.experiencesMulti,O=null,x=!0;if(f||(O=(x=g[u]&&g[u].experience_id===c)?g[u]:Array.isArray(h[u])&&(null===(d=h[u])||void 0===d?void 0:d.find(function(e){return e.experience_id===c}))),O&&O.experience_id===c||f&&u&&c){var A=i.Z.create(e,{placed_experience_id:"".concat(u,"%3A").concat(c),extra_context:null!=s?s:{},targeting:p}),P=x?a.Yb:a.xW;switch(t){case"dismissed":return A.callDelete().then(function(){y(P(u,c,t)),y(b(void 0,n)),r&&o&&r({event_type:o,object_id_str:c.toString()})});case"completed":return A.callUpdate().then(function(){!l&&(y(P(u,c,t)),y(b(void 0,n)),r&&o&&r({event_type:o,object_id_str:c.toString()}))});case"viewed":return y(P(u,c,t)),A.callUpdate().then(function(){1000162===u&&y(b()),r&&o&&r({event_type:o,object_id_str:c.toString()})});case"completedWithoutHomefeed":return A.callUpdate().then(function(){l||y(P(u,c,t)),r&&o&&r({event_type:o,object_id_str:c.toString()})})}}return Promise.resolve()}}},h=function(){var e=(0,u.Z)();return(0,o.useCallback)(g("UserExperienceViewedResource","viewed",e,4503),[e])},O=function(){var e=(0,u.Z)();return(0,o.useCallback)(g("UserExperienceCompletedResource","completed",e,6567),[e])},x=function(){var e=(0,u.Z)();return(0,o.useCallback)(g("UserExperienceResource","dismissed",e,6568),[e])},A=function(){var e=(0,u.Z)();return(0,o.useCallback)(g("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},P=function(e,t){return function(r,n){var o=n().experiences[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(function(r){var n,i=(function(e){if(Array.isArray(e))return e}(n=r.split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(n,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],u=t;o.metadata&&o.metadata[i]&&(u=y(y({},t),o.metadata[i])),(0,l.Z)({url:"/v3/experiences/".concat(r.replace(":","%3A"),"/trigger/"),method:"PUT",data:u?{extra_context:JSON.stringify(u,null,1)}:{}}).then(function(){d("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})}},S=function(e){return function(t,r){return t(P(e)),r().experiences[e]}},j=function(e,t,r){return function(o){r&&(n=r),o(P(e,t)),t&&Object.keys(t).length>0&&o(v([e],!1,t,r))}}},703404:function(e,t,r){r.d(t,{A0:function(){return l},E3:function(){return c},MQ:function(){return a},fL:function(){return f}});var n=r(684404),o=r(862249),i=r(819267);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e){return!!e&&0!==e.type}var a=function(e,t,r){var n=e[r];return t[r]&&c(n)?n:null};function l(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var f=function(e){var t,r,c=((function(e){if(Array.isArray(e))return u(e)})(r=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,i.jsx)(n.xv,{inline:!0,children:e.textContent});var t=e.href||"",r=(0,o.Z)({url:t});return(0,i.jsx)(n.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})});return(0,i.jsx)(n.xv,{inline:!0,children:c})}},957753:function(e,t,r){r.d(t,{NW:function(){return u},OD:function(){return a},Yb:function(){return c},cL:function(){return l},xW:function(){return i}});var n=r(216167),o=r(26616),i=function(e,t,r){return{type:o.V$,payload:{placementId:e,experienceId:t,status:r}}},u=function(e){return function(t){return n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var r;return e.resource_response?t((r=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:r}})):void 0})}},c=function(e,t,r){return{type:o.iY,payload:{placementId:e,experienceId:t,status:r}}},a=function(e){return{type:o._4,payload:{experiences:e}}},l=function(e){return{type:o.mR,payload:{experiences:e}}}},172203:function(e,t,r){var n=r(672652),o=r(780277),i=r(746074),u=r(179370),c=r(5859),a=r(953565);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=(0,i.P1)(function(e){return e.experiences},function(e,t){return t},function(e,t){return e[t]}),m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,a.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:r})},d=function(e,t){return"function"==typeof t?t(e):t};t.Z=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(d,r))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],a=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{if(!a&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],f=a[1],b=(0,c.B)().isBot,v=(0,u.M)(),g=v.fetchExperienceForPlacements,h=v.mountPlacement,O=v.triggerExperimentsForPlacement,x=v.unmountPlacement;(0,n.useDebugValue)("Placement Hook ID - ".concat(e)),(0,n.useEffect)(function(){var t=s({},l),r=i&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return h(e,t,r),function(){x(e)}},[]),(0,n.useEffect)(function(){Object.keys(l).length>0&&g([e],b,l)},[l]);var A=(0,o.useSelector)(function(t){return y(t,e)}),P=(0,o.useSelector)(function(t){return t.experiencesMulti[e]}),S=A?A.triggerable_placed_exps:[];return(0,n.useEffect)(function(){m("experienceservice","placementHookExperimentTrigger.1",s({platform:"web",placement_id:e},S)),O(e,l)},[JSON.stringify(S)]),{experience:A,experiencesMulti:P,setExtraContext:f}}},862249:function(e,t,r){var n=r(968946);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,n.Z)(t))}},746074:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var u=0,c=o.pop(),a=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return r(e)}).join(", ")+"]");return t}(o),l=e.apply(void 0,[function(){return u++,c.apply(void 0,arguments)}].concat(n)),f=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=a.map(function(r){return r.apply(void 0,[e,t].concat(n))});return l.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}(i))};return f.resultFunc=c,f.recomputations=function(){return u},f.resetRecomputations=function(){return u=0},f}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=null,o=null;return function(){for(var n=arguments.length,i=Array(n),u=0;u<n;u++)i[u]=arguments[u];return null!==r&&r.length===i.length&&i.every(function(e,n){return t(e,r[n])})||(o=e.apply(void 0,i)),r=i,o}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/72203-871b6c6a2bca4f86.js.map