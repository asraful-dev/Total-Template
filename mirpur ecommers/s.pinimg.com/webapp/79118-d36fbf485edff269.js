"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[79118,31076],{705318:function(e,r){var t=function(e,r){this.uid=e,this.item=r,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,r){var o=this._uidToData[e];o||(o=new t(e,r),this._uidToData[e]=o,this._numItems+=1),this._moveToFront(o),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){var r=this._uidToData[e];return r?(this._moveToFront(r),r.item):null},o.prototype.remove=function(e){var r=this._uidToData[e];r&&(delete this._uidToData[e],this._firstData===r&&(this._firstData=r.next),this._lastData===r&&(this._lastData=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},r.Z=o},831076:function(e,r,t){t.r(r),t.d(r,{default:function(){return i}});var o=t(704666),n=t(702497),a=t(885896);function i(e,r,t){if(!o.Z[e])throw Error("unknown url key: ".concat(e));t||(t={});var i,l,s=o.Z[e](t),c=(l=null,(i=t)&&(l=i.advertiserId||null),!l&&r&&(l=r.id),l),d=!!t.absolutify;return"string"==typeof c&&(s="/advertiser/"+c+s),d&&(s=(0,a.Z)(s,void 0,n.KUo)),s}},137023:function(e,r,t){t.d(r,{Z:function(){return a}});var o=t(672652),n=t(124946);function a(e){var r=e.allowSearchOnMount,t=e.children,a=e.onTypeaheadSuggestionsChange,i=e.resourceName,l=e.resourceOptions,s=e.value,c=(0,n.Z)({allowSearchOnMount:r,resourceName:i,resourceOptions:l,value:s});return(0,o.useEffect)(function(){null!=c&&c.length&&a(c)},[c]),t||null}},124946:function(e,r,t){t.d(r,{Z:function(){return b}});var o=t(672652),n=t(705318),a=t(638747),i=["bookmarks"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function c(e,r,t,o,n,a,i){try{var l=e[a](i),s=l.value}catch(e){t(e);return}l.done?r(s):Promise.resolve(s).then(o,n)}function d(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function i(e){c(a,o,n,i,l,"next",e)}function l(e){c(a,o,n,i,l,"throw",e)}i(void 0)})}}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){var o,n;o=r,n=t[r],(o=function(e){var r=function(e,r){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!==l(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===l(r)?r:String(r)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function b(e){var r,t,l,c,u,b,f,_,m,p,v,y,g,x=e.allowSearchOnMount,C=void 0!==x&&x,j=e.resourceName,P=e.resourceOptions,w=void 0===P?{}:P,S=e.value,O=(0,o.useRef)(!1),A=(0,o.useRef)({}),E=function(e){if(Array.isArray(e))return e}(g=(0,o.useState)([]))||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,i,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=a.call(t)).done)&&(l.push(o.value),l.length!==r);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(g,2)||function(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}}(g,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),z=E[0],B=E[1],k=(m=(r={resourceName:j,resourceOptions:w}).resourceName,p=r.resourceOptions,v=(0,a.vL)(),(y=(0,o.useRef)()).current||(y.current=(c=(0,(t={resourceCreator:v,resourceName:m,resourceOptions:p}).resourceCreator)(t.resourceName,h(h({},l=t.resourceOptions),{},{count:"count"in l?l.count:5})),u=new n.Z,b=function(){c.abort()},f=d(regeneratorRuntime.mark(function e(r,t){var o,n,a,l,s,d,f,_,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isCalling()){e.next=8;break}if(a=null===(o=c.options)||void 0===o?void 0:o.term,l=null===(n=c.options)||void 0===n?void 0:n.pin_scope,!(r===a&&t===l)){e.next=7;break}return e.abrupt("return",void 0);case 7:b();case 8:return(s=c.options||{}).bookmarks,d=function(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(s,i),c.options=h(h({},d),{},{term:r,pin_scope:t}),e.next=12,c.callGet({showError:!1});case 12:return _=null==(f=e.sent.resource_response.data)?void 0:f.items,p={hint:m=(null==f?void 0:f.hint)||{},items:_},u.set("".concat(t,"-").concat(r),p),e.abrupt("return",{term:r,items:_,hint:m});case 19:case"end":return e.stop()}},e)})),_=d(regeneratorRuntime.mark(function e(r,t){var o,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=u.get("".concat(t,"-").concat(r)))||!((n=o.items)&&n.length)){e.next=7;break}return b(),a=o.hint,e.abrupt("return",{hint:a,items:n,term:r});case 7:if(!(r.length>=0)){e.next=11;break}return e.abrupt("return",function(e,r){return f.apply(this,arguments)}(r,t));case 11:return e.abrupt("return",{hint:{},items:[],term:r});case 12:case"end":return e.stop()}},e)})),function(e,r){return _.apply(this,arguments)})),y.current),D=w.pin_scope||"pins",I="".concat(D,"-").concat(S);return(0,o.useEffect)(function(){d(regeneratorRuntime.mark(function e(){var r,t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=S&&""!==S&&(C||O.current))){e.next=17;break}if(!(I in A.current)){e.next=5;break}B(A.current[I]),e.next=17;break;case 5:return e.prev=5,e.next=8,k(S,D);case 8:(r=e.sent)&&(t=r.items,A.current[I]=t,B(t)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:O.current||(O.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[S,D,I]),z}},550124:function(e,r,t){t.d(r,{Z:function(){return a}});var o=t(554786),n=t(84768);function a(){return function(e){var r=e.deviceType;switch(e.site){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;default:return"phone"===r||"tablet"===r?1:0}}({deviceType:(0,o.ZP)(),site:(0,n.uo)()})}},675266:function(e,r){var t=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;r.Z=function(e){return t.test(e)}},274262:function(e,r,t){t.d(r,{Z:function(){return a}});var o=t(684404),n=t(819267);function a(e){var r=e.ariaHidden,t=e.color,a=e.size;return(0,n.jsx)("span",{"aria-hidden":void 0!==r&&r,style:{padding:"0 4px"},children:(0,n.jsx)(o.xv,{color:void 0===t?"darkGray":t,inline:!0,size:null!=a?a:"200",children:"\xb7"})})}},198705:function(e,r,t){var o=t(340523),n=t(5859),a=t(550124),i=t(446653),l=t(785059),s=t(478381);r.Z=function(){var e,r=(0,o.F)().checkExperiment("web_m10n_orbac_in_create_flow").anyEnabled,t=(0,n.B)().advertiser,c=(0,s.O9)((0,a.Z)()).isSterlingSite,d=(0,l.Z)(),u=((null===(e=(0,i.K)())||void 0===e?void 0:e.profiles)||[]).find(function(e){return(null==e?void 0:e.id)===(null==t?void 0:t.owner_user_id)});return r&&c&&u||d}},35222:function(e,r,t){var o=t(149722),n=t(785059),a=t(199677);r.Z=function(){var e=(0,o.Z)(),r=(0,n.Z)();return(0,a.lJ)(e,r)}},955367:function(e,r,t){t.d(r,{Z:function(){return O}});var o=t(672652),n=t(780277),a=t(684404),i=t(481177),l=t(140017),s=t(340523),c=t(149722),d=t(198705),u=t(199677),h=t(796122),b=t(823813),f=t(112544),_=t(819267);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach(function(r){P(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function g(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,w(o.key),o)}}function x(e,r){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function C(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,r,t){return(r=w(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e){var r=function(e,r){if("object"!==m(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!==m(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===m(r)?r:String(r)}var S=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&x(e,r)}(l,e);var r,t,o,n=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=j(l);if(r){var o=j(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,r){if(r&&("object"===m(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function l(){var e;!function(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}(this,l);for(var r=arguments.length,t=Array(r),o=0;o<r;o++)t[o]=arguments[o];return P(C(e=n.call.apply(n,[this].concat(t))),"handleSubmit",function(r){var t=e.props,o=t.advertiserId,n=t.createBoard,a=t.onBoardCreate,i=t.viewer,l=t.orbacActingAs,s=t.shouldShowAddCollaborators,c=t.handleInviteSelectedCollaborators,d=(0,u.lJ)(i,l);return n({boardCreateOptions:y(y({name:r.name,description:r.description,privacy:r.privacy,collab_board_email:r.collab_board_email,collaborator_invites_enabled:r.collaborator_invites_enabled},o?{advertiser_id:o}:{}),d?{orbac_subject_id:d}:Object.freeze({}))}).then(function(e){s&&c(e.id),a(e)})}),P(C(e),"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:e.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(e.props.viewer,e.props.orbacActingAs)},pin_count:0}),e}return t=[{key:"render",value:function(){var e=this.props,r=e.advertiserId,t=e.isAdAccountOwner,o=e.onClose,n=e.privacy,l=e.useModalWithNoLayer,s=e.showSecretBoardCreateToggle,c=e.shouldShowAddCollaborators,d=e.setSelectedContacts,u=e.selectedContacts;return(0,_.jsx)(h.Z,{board:y(y({},this.emptyBoardData),{privacy:t?n:i.Z.BoardPrivacy.PROTECTED}),currentUserIsOwner:!0,isAdAccount:!!r,isAdAccountOwner:t,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:o,onSubmit:this.handleSubmit,selectedContacts:u,setSelectedContacts:d,shouldShowAddCollaborators:c,showSecretBoardCreateToggle:s,submitText:this.props.i18n._('Create', ' - ', ' -- '),title:(0,_.jsx)(a.xu,{paddingY:8,width:"100%",children:(0,_.jsx)(a.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})}),useModalWithNoLayer:l})}}],g(l.prototype,t),o&&g(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.Component);function O(e){var r,t=(0,f.Z)(),a=(0,l.ZP)(),i=(0,c.Z)(),h=(0,n.useSelector)(function(e){var r=e.advertiser;return r?r.id:void 0}),m=(0,d.Z)(),v=(0,u.lJ)(i,m),g=(0,n.useSelector)(function(e){var r=e.advertiser;return!r||i.isAuth&&r.owner_user_id===i.id||!!v}),x=(0,b.zC)(),C=(0,b.DK)(),j=(0,s.F)().checkExperiment,P=e.isBoardCreateFromProfile&&j("sg_dweb_create_board_add_collaborators_profile").anyEnabled,w=function(e){if(Array.isArray(e))return e}(r=(0,o.useState)([]))||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,i,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=a.call(t)).done)&&(l.push(o.value),l.length!==r);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(r,2)||function(e,r){if(e){if("string"==typeof e)return p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,r)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=w[0],A=w[1];return(0,_.jsx)(S,y(y({},e),{},{advertiserId:h,createBoard:t,dispatch:(0,n.useDispatch)(),handleInviteSelectedCollaborators:function(e){var r=O.filter(function(e){return"email"===e.type||"email_share_suggestion"===e.type}),t=O.filter(function(e){return"user"===e.type||"user_share_suggestion"===e.type});t.length>0&&C(e,t.map(function(e){return e.id})),r.length>0&&x(e,r.map(function(e){return e.id}))},i18n:a,isAdAccountOwner:g,orbacActingAs:m,selectedContacts:O,setSelectedContacts:A,shouldShowAddCollaborators:P,viewer:i}))}P(S,"defaultProps",{privacy:i.Z.BoardPrivacy.PUBLIC})},796122:function(e,r,t){t.d(r,{Z:function(){return ed}});var o=t(672652),n=t(684404),a=t(481177),i=t(930837),l=t(140017),s=t(339001),c=t(5859),d=t(14583),u=t(427514),h=t(13848),b=t(554786),f=t(747602),_=t(168477),m=t(205841),p=t(340523),v=t(757640),y=t(137023),g=t(675266),x=t(819267);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach(function(r){var o,n;o=r,n=t[r],(o=function(e){var r=function(e,r){if("object"!==C(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!==C(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===C(r)?r:String(r)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,i,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=a.call(t)).done)&&(l.push(o.value),l.length!==r);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,r)||O(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,r){if(e){if("string"==typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,r)}}function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function E(e){var r=e.selectedContacts,t=void 0===r?[]:r,a=e.setSelectedContacts,i=(0,l.ZP)(),s=(0,(0,p.F)().checkExperiment)("sg_dweb_create_board_add_collaborators_profile").group,c=(0,v.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).data,d=S((0,o.useState)([]),2),u=d[0],h=d[1];(0,o.useEffect)(function(){c&&"enabled_default_suggestions"===s&&h(c.map(function(e){return"email_share_suggestion"===e.type?w(w({},e),{},{id:e.email||""}):e}))},[c,s]);var b=S((0,o.useState)(""),2),f=b[0],_=b[1],C=t.map(function(e){return e.id}),P=(0,g.Z)(f)&&!C.includes(f)?{id:f,type:"email"}:null,O=[].concat(j(t),[P],j(u.filter(function(e){return!C.includes(e.id)}))).filter(Boolean),A=function(e){C.includes(e.id)?null==a||a((t||[]).filter(function(r){return r.id!==e.id})):null==a||a([].concat(j(t),[e]))};return(0,x.jsxs)(n.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,x.jsx)(n.xu,{paddingY:2,children:(0,x.jsx)(n.xv,{size:"100",children:i._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,x.jsx)(n.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,x.jsx)(n.xu,{children:(0,x.jsx)(y.Z,{onTypeaheadSuggestionsChange:function(e){h(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:f,children:(0,x.jsx)(n.Um,{accessibilityLabel:i._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:function(e){_(e.value)},placeholder:i._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:f})})})}),(0,x.jsx)(n.xu,{overflow:"scrollY",children:O.map(function(e){return(0,x.jsxs)(n.xu,{display:"flex",paddingY:2,children:[(0,x.jsxs)(n.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,x.jsx)(n.JO,{accessibilityLabel:i._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,x.jsx)(n.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,x.jsx)(m.qE,{name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,x.jsx)(n.kC,{alignItems:"center",children:(0,x.jsx)(n.xu,{children:(0,x.jsx)(n.xv,{size:"300",children:e.id})})}):(0,x.jsxs)(n.kC,{direction:"column",justifyContent:"center",children:[(0,x.jsx)(n.xu,{marginBottom:1,tabIndex:0,children:(0,x.jsx)(n.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,x.jsx)(n.xu,{tabIndex:0,children:(0,x.jsx)(n.xv,{size:"200",children:"@".concat(e.username||"")})})]})]}),(0,x.jsx)(n.kC,{flex:"none",children:(0,x.jsx)(n.zx,{onClick:function(){return A(e)},selected:C.includes(e.id),size:"lg",text:C.includes(e.id)?i._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):i._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]},e.id)})})]})}var z=t(14774),B=function(e){var r=e.label,t=e.labelId;return t?(0,x.jsx)(n.__,{htmlFor:t,children:(0,x.jsx)(n.xv,{size:"100",children:r})}):(0,x.jsx)(n.xv,{size:"100",children:r})};function k(e){var r=e.children,t=e.label,a=e.labelId;return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(n.xu,{marginBottom:2,children:(0,x.jsx)(B,{label:t,labelId:a})}),r]})}function D(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function I(e){var r,t=e.coverPin,a=e.handleShowBoardCoverEditModal,i=(0,l.ZP)(),s=function(e){if(Array.isArray(e))return e}(r=(0,o.useState)(!1))||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,i,l=[],s=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=a.call(t)).done)&&(l.push(o.value),l.length!==r);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(r,2)||function(e,r){if(e){if("string"==typeof e)return D(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,r)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=s[0],u=s[1],h=(0,c.B)().isRTL;return(0,x.jsx)(k,{label:i._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,x.jsx)(n.xu,{position:"relative",width:138,children:(0,x.jsx)(n.iP,{onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTap:a,rounding:4,children:null!=t&&t.custom_cover?(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(n.zd,{height:138,rounding:4,width:138,children:(0,x.jsx)(n.Ee,{alt:t.image_url,color:"gray",fit:"cover",naturalHeight:t.size&&t.size[0]||138,naturalWidth:t.size&&t.size[0]||138,src:t.image_url})}),(0,x.jsx)(n.xu,{bottom:!0,left:h,padding:2,position:"absolute",right:!h,children:(0,x.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:d?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,x.jsx)(n.JO,{accessibilityLabel:i._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,x.jsx)(n.xu,{alignItems:"center",color:d?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,x.jsx)(n.JO,{accessibilityLabel:i._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function T(e){var r=e.children,t=e.label,a=e.labelId,i=e.subtext;return(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[r,(0,x.jsx)(n.xu,{marginStart:2,children:(0,x.jsxs)(n.__,{htmlFor:a,children:[(0,x.jsx)(n.xv,{size:"300",weight:"bold",children:t}),i]})})]})})}function F(e){var r=e.hasCollabBoardEmail,t=e.isCollaborative,o=e.onCheckboxChange,a=(0,l.ZP)();return t&&(0,x.jsx)(T,{label:a._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:a._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,x.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(n.xu,{marginEnd:1,children:(0,x.jsx)(n.XZ,{checked:r,id:"emailNotificationsCheckbox",name:"email",onChange:o})})})})}var Z=t(274262),R=t(847754);function M(e){var r,t=e.board,o=e.onCollaboratorInviteClick,a=(0,l.ZP)(),i=(0,R.Z)({boardId:t.id,ownerName:null!==(r=t.owner.full_name)&&void 0!==r?r:"",ownerUsername:t.owner.username,ownerImgSrc:t.owner.image_medium_url||t.owner.image_small_url||""}),c=i.slice(0,3).map(function(e){return e.name}),d="";switch(i.length){case 3:d=(0,s.Wc)("".concat(a._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(c[0]),second:"".concat(c[1]),last:"".concat(c[2])});break;case 2:d=(0,s.Wc)("".concat(a._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(c[0]),second:"".concat(c[1])});break;default:d=c.join(", ")}var u=i.length>3?(0,s.Wc)(a.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', i.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:d,leftCount:"".concat(i.length-3)}):(0,s.Wc)("".concat(a._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:d});return(0,x.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,x.jsx)(n.HE,{accessibilityLabel:u,collaborators:i.map(function(e){var r=e.name,t=e.src;return{src:null!=t&&t.endsWith("/default_75.png")?void 0:t,name:r}}),size:"md"}),(0,x.jsx)(n.hU,{accessibilityLabel:a._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:o,size:"lg"})]})}function N(e){var r=e.board,t=e.onCollaboratorInviteClick,o=(0,l.ZP)(),a=(0,x.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(n.xv,{inline:!0,size:"100",children:o._('Collaborators', ' - ', ' -- ')}),(0,x.jsx)(Z.Z,{}),(0,x.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:o._('Learn more', ' - ', ' -- ')})})]});return(0,x.jsx)(k,{label:a,labelId:"collaborators",children:(0,x.jsx)(M,{board:r,onCollaboratorInviteClick:t})})}function L(e){var r=e.collaboratorInvitesEnabled,t=e.isCollaborative,o=e.onCheckboxChange,a=(0,l.ZP)();return t&&(0,x.jsx)(T,{label:a._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,x.jsx)(n.XZ,{checked:r,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:o})})}function H(e){var r=e.description,t=e.descriptionValidatorErrors,o=e.onChange,a=(0,l.ZP)(),i="boardEditDescription";return(0,x.jsx)(k,{label:a._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,x.jsx)(n.Kx,{errorMessage:t.join(", "),id:i,name:"description",onChange:o,placeholder:a._('What\'s your board about?', ' - ', ' -- '),value:r})})}var V=function(e){var r=e.children;return(0,x.jsx)(n.xu,{paddingX:8,role:"list",children:o.Children.map(r,function(e,t){return e&&(0,x.jsx)(n.xu,{marginBottom:t===o.Children.count(r)-1?1:8,role:"listitem",children:e},t)})})};function U(e){var r=e.name,t=e.nameValidatorErrors,o=e.onChange,a=e.disabled,i=(0,l.ZP)();return(0,x.jsx)(k,{label:i._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,x.jsx)(n.nv,{disabled:a,errorMessage:t.join(", "),id:"boardEditName",name:"boardName",onChange:o,placeholder:i._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:r})})}var W=function(e){var r=e.board,t=e.collabBoardEmail,o=e.collaboratorInvitesEnabled,a=e.coverPin,i=e.currentUserIsOwner,s=e.description,c=e.descriptionValidatorErrors,d=e.handleBoardLeave,u=e.isCollaborative,h=e.showCoverEdit,b=e.name,f=e.nameValidatorErrors,_=e.handleShowBoardCoverEditModal,m=e.handleChangeName,p=e.handleChangeDescription,v=e.handleShowCollaboratorsModal,y=e.handleChangeCollabBoardEmail,g=e.handleChangeCollaboratorInvitesEnabled,C=(0,l.ZP)();return(0,x.jsxs)(V,{children:[h&&(0,x.jsx)(I,{coverPin:a,handleShowBoardCoverEditModal:_}),(0,x.jsx)(U,{disabled:!0,name:b,nameValidatorErrors:f,onChange:m}),(0,x.jsx)(H,{description:s,descriptionValidatorErrors:c,onChange:p}),i&&!!d&&(0,x.jsx)(N,{board:r,onCollaboratorInviteClick:v}),u&&(0,x.jsx)(n.xu,{marginBottom:-7,children:(0,x.jsx)(n.xv,{size:"100",children:C._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(F,{hasCollabBoardEmail:t,isCollaborative:u,onCheckboxChange:y}),(0,x.jsx)(L,{collaboratorInvitesEnabled:o,isCollaborative:u,onCheckboxChange:g})]})};function X(e){var r=e.isProtectedToggler,t=e.isToggleDisable,i=e.onChange,s=e.onCheckboxChange,c=e.privacy,d=(0,l.ZP)();if(!0===r)return(0,x.jsx)(T,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,x.jsx)(n.xu,{paddingY:2,children:(0,x.jsx)(n.rs,{disabled:t,id:"protected",onChange:i,switched:c===a.Z.BoardPrivacy.PROTECTED})})});if(c!==a.Z.BoardPrivacy.PROTECTED){var u=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),h=(0,x.jsx)(o.Fragment,{children:(0,x.jsxs)(n.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,x.jsx)(n.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,x.jsx)(T,{label:u,labelId:"secret",subtext:h,children:(0,x.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(n.XZ,{checked:c===a.Z.BoardPrivacy.SECRET,disabled:t,id:"secret",name:"secret",onChange:s})})})}return null}function G(e){var r=e.allowHomefeedRecommendations,t=e.onCheckboxChange,o=(0,l.ZP)();return(0,x.jsx)(T,{label:o._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:o._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,x.jsx)(n.XZ,{checked:r,id:"recommendation",name:"recommendation",onChange:t})})}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function K(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach(function(r){er(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function J(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,et(o.key),o)}}function $(e,r){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function Q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,r,t){return(r=et(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function et(e){var r=function(e,r){if("object"!==Y(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!==Y(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===Y(r)?r:String(r)}var eo=(0,o.lazy)(function(){return Promise.all([t.e(97270),t.e(95241)]).then(t.bind(t,732420))}),en=(0,o.lazy)(function(){return Promise.all([t.e(87348),t.e(38700),t.e(15502),t.e(19373),t.e(15993)]).then(t.bind(t,219373))}),ea=function(e,r){return(0,f.Gy)({max:e,maxErrorString:(0,u.Z)(r._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},ei=function(e){return[ea(a.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},el=function(e){return[(0,f.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),ea(a.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},es=function(e){var r=e.condition,t=e.children;return r?(0,x.jsx)(n.xu,{position:"absolute",zIndex:i.b7,children:t}):t},ec=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&$(e,r)}(c,e);var r,t,a,l=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=ee(c);if(r){var o=ee(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return function(e,r){if(r&&("object"===Y(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");return Q(e)}(this,e)});function c(e){!function(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")}(this,c),er(Q(r=l.call(this,e)),"handleChangeName",function(e){var t=e.value,o=(0,f.FU)(el(r.props.i18n),t);r.setState({name:t,nameValidatorErrors:o})}),er(Q(r),"handleChangeDescription",function(e){var t=e.value,o=(0,f.FU)(ei(r.props.i18n),t);r.setState({description:t,descriptionValidatorErrors:o})}),er(Q(r),"handleChangePrivacyToggle",function(e){var t=e.value,o="public";t&&(o=r.props.isAdAccount?"protected":"secret"),r.state.privacy!==o&&r.setState({privacy:o})}),er(Q(r),"handleEnableSecret",function(){r.setState({privacy:"secret",showSecretConfirmation:!1})}),er(Q(r),"handleHideSecretConfirmation",function(){r.setState({showSecretConfirmation:!1})}),er(Q(r),"handleChangeRecommendationToggle",function(e){var t=e.value;r.setState({allowHomefeedRecommendations:t})}),er(Q(r),"handleChangeCollabBoardEmail",function(e){var t=e.value;r.setState({collab_board_email:t})}),er(Q(r),"handleChangeCollaboratorInvitesEnabled",function(e){var t=e.value;r.setState({collaboratorInvitesEnabled:t})}),er(Q(r),"handleCheckboxChange",function(e){return function(r){return e({event:r.event,value:r.checked})}}),er(Q(r),"handleSubmit",function(e){var t=r.props.onSubmit,o=r.state,n=o.collab_board_email,a=o.collaboratorInvitesEnabled,i=o.description,l=o.name,s=o.privacy,c=o.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!r.submitDisabled()){var d=l.trim(),u=i.trim();r.setState({submitting:!0,submitError:""}),t({name:d,collab_board_email:n,collaborator_invites_enabled:a,description:u,privacy:s,allow_homefeed_recommendations:c}).then(function(){r.setState({submitting:!1})}).catch(function(e){var t=r.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){var o=e.message,n=e.message_detail;t=n?"".concat(o," ").concat(n):o}else"string"==typeof e&&(t=e);r.setState({submitting:!1,submitError:t})})}}),er(Q(r),"handleShowBoardCoverEditModal",function(){r.setState({showBoardCoverEdit:!0})}),er(Q(r),"handleHideBoardCoverEditModal",function(){r.setState({showBoardCoverEdit:!1})}),er(Q(r),"handleShowCollaboratorsModal",function(){r.setState({showCollaboratorsModal:!0})}),er(Q(r),"handleHideCollaboratorsModal",function(){r.setState({showCollaboratorsModal:!1})}),er(Q(r),"handleSaveBoardCoverEditModal",function(e){r.handleHideBoardCoverEditModal();var t=r.props.onCropChange;t&&t(e)});var r,t=e.board,o=t.collab_board_email,n=t.collaborator_invites_enabled,a=t.description,i=t.name,s=t.pin_count,d=t.privacy,u=t.allow_homefeed_recommendations;return r.state={collab_board_email:o,description:a,name:i,pin_count:s,privacy:d,allowHomefeedRecommendations:u,collaboratorInvitesEnabled:n,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:i,previousDescription:a,previousPrivacy:d},r}return t=[{key:"getFormFooter",value:function(){var e=this.props.submitText,r=this.state.submitError;return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(n.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,x.jsx)(n.xu,{children:(0,x.jsx)(n.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(n.xu,{height:48,children:(0,x.jsx)(n.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),r&&(0,x.jsx)(n.xu,{"aria-live":"polite",paddingX:1,tabIndex:"0",children:(0,x.jsx)(n.xv,{color:"error",children:r})})]})}},{key:"submitDisabled",value:function(){var e=this.state,r=e.descriptionValidatorErrors,t=e.name,o=e.nameValidatorErrors,n=e.submitting;return!t||o.length>0||r.length>0||n}},{key:"render",value:function(){var e=this.props,r=e.board,t=e.board,a=t.archived_by_me_at,l=t.cover_pin,c=t.id,u=t.is_collaborative,h=e.coverImageHeight,b=e.coverImageWidth,f=e.currentUserIsOwner,m=e.handleBoardLeave,p=e.isAdAccount,v=e.isAdAccountOwner,y=e.isDeletable,g=e.isDesktop,C=e.isEditable,j=e.isNameAndSecretView,P=e.onClose,w=e.onDeleteButtonClick,S=e.requestContext,O=e.title,A=e.useModalWithNoLayer,B=e.showSecretBoardCreateToggle,k=e.shouldShowAddCollaborators,D=e.setSelectedContacts,T=e.selectedContacts,Z=this.state,R=Z.allowHomefeedRecommendations,M=Z.collab_board_email,Y=Z.collaboratorInvitesEnabled,q=Z.description,K=Z.descriptionValidatorErrors,J=Z.name,$=Z.nameValidatorErrors,Q=Z.pin_count,ee=Z.privacy,er=Z.showBoardCoverEdit,et=Z.showCollaboratorsModal,ea=Z.showSecretConfirmation,ei=C&&Q>0,el=r.is_ads_only,ec=(0,x.jsxs)(V,{children:[ei&&(0,x.jsx)(I,{coverPin:l,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,x.jsx)(U,{disabled:el,name:J,nameValidatorErrors:$,onChange:this.handleChangeName}),(0,x.jsx)(H,{description:q,descriptionValidatorErrors:K,onChange:this.handleChangeDescription}),f&&!!m&&(0,x.jsx)(N,{board:r,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(n.xu,{marginBottom:-7,children:(0,x.jsx)(n.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(X,{isProtectedToggler:!!p,isToggleDisable:!!p&&!v,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),!a&&(0,x.jsx)(G,{allowHomefeedRecommendations:R,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(F,{hasCollabBoardEmail:M,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,x.jsx)(L,{collaboratorInvitesEnabled:Y,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),y&&(0,x.jsxs)(n.xu,{marginTop:-6,paddingY:4,children:[(0,x.jsx)(n.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,x.jsxs)(n.iP,{onTap:w,children:[(0,x.jsx)(n.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,x.jsx)(n.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:_.Xq})})]})]})]});f?j&&(ec=(0,x.jsxs)(V,{children:[(0,x.jsx)(U,{disabled:el,name:J,nameValidatorErrors:$,onChange:this.handleChangeName}),!B&&(0,x.jsx)(X,{isProtectedToggler:!!p,isToggleDisable:!!p&&!v,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:ee}),k&&(0,x.jsx)(E,{selectedContacts:T,setSelectedContacts:D})]})):ec=(0,x.jsxs)(V,{children:[!!m&&(0,x.jsx)(N,{board:r,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(F,{hasCollabBoardEmail:M,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!a&&el&&(0,x.jsx)(G,{allowHomefeedRecommendations:R,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(n.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,x.jsx)(n.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:r.owner.full_name})})})]});var ed=A?n.u_:i.ZP,eu=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),eh=(0,x.jsxs)(n.xu,{paddingY:8,position:"relative",children:[(0,x.jsx)(n.X6,{align:"center",size:"500",children:eu}),(0,x.jsx)(n.xu,{left:S.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!S.isRTL,top:!0,children:(0,x.jsx)(n.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(es,{condition:!!A,children:!er&&!et&&(0,x.jsx)(ed,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),footer:this.getFormFooter(),heading:O,onDismiss:P,size:"sm",children:(0,x.jsx)(n.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,x.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!el&&ec,el&&(0,x.jsx)(W,{board:r,collabBoardEmail:M,collaboratorInvitesEnabled:Y,coverPin:l,currentUserIsOwner:f,description:q,descriptionValidatorErrors:K,handleBoardLeave:m,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:u,name:J,nameValidatorErrors:$,showCoverEdit:ei})]})})})}),er&&g&&(0,x.jsx)(d.Z,{children:(0,x.jsx)(eo,{boardId:c,boardName:J,coverPinId:null==l?void 0:l.pin_id,frameHeight:h,frameWidth:b,heading:eh,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ea&&(0,x.jsx)(z.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),et&&(0,x.jsx)(d.Z,{children:(0,x.jsx)(en,{board:r,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}],a=[{key:"getDerivedStateFromProps",value:function(e,r){var t={};return e.board.name&&e.board.name!==r.previousName&&(t.previousName=e.board.name,t.nameValidatorErrors=(0,f.FU)(el(e.i18n),e.board.name)),e.board.description&&e.board.description!==r.previousDescription&&(t.previousDescription=e.board.description,t.descriptionValidatorErrors=(0,f.FU)(ei(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==r.previousPrivacy&&(t.previousPrivacy=e.board.privacy),t}}],t&&J(c.prototype,t),a&&J(c,a),Object.defineProperty(c,"prototype",{writable:!1}),c}(o.Component);function ed(e){var r=(0,l.ZP)(),t=(0,b.ZP)();return(0,x.jsx)(ec,K(K({},e),{},{i18n:r,isDesktop:"desktop"===t,requestContext:(0,c.B)(),toastManagerContext:(0,h.F9)()}))}er(ec,"defaultProps",{isNameAndSecretView:!1})},168477:function(e,r,t){t.d(r,{FC:function(){return l},FP:function(){return a},M0:function(){return n},Xq:function(){return s},s0:function(){return o},z9:function(){return i}});var o=44,n=236,a=157,i=320,l=213,s=7},14774:function(e,r,t){t.d(r,{Z:function(){return l}});var o=t(684404),n=t(930837),a=t(140017),i=t(819267);function l(e){var r=e.cancelButtonLabel,t=e.confirmButtonLabel,l=e.heading,s=e.message,c=e.onCancel,d=e.onConfirm,u=(0,a.ZP)(),h=l||u._('Are you sure?', ' - ', ' -- '),b=r||u._('Cancel', ' - ', ' -- ');return(0,i.jsx)(n.ZP,{accessibilityModalLabel:h,footer:(0,i.jsxs)(o.xu,{marginEnd:-1,marginStart:-1,children:[(0,i.jsx)(o.xu,{"data-test-id":"cancel-button",padding:1,children:(0,i.jsx)(o.zx,{fullWidth:!0,onClick:c,size:"lg",text:b})}),(0,i.jsx)(o.xu,{"data-test-id":"confirm-button",padding:1,children:(0,i.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:t})})]}),heading:h,onDismiss:c,role:"alertdialog",children:(0,i.jsx)(o.xu,{padding:4,children:(0,i.jsx)(o.xv,{children:s})})})}},847754:function(e,r,t){t.d(r,{I:function(){return d}});var o=t(340523),n=t(757640),a=t(35222),i=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}var c=function(e){var r=e.boardId,t=e.ownerUsername,i=e.ownerName,c=e.ownerImgSrc,d=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,u=(0,a.Z)(),h=(0,n.Z)({name:"BoardInvitesResource",options:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){var o,n;o=r,n=t[r],(o=function(e){var r=function(e,r){if("object"!==l(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,r||"default");if("object"!==l(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===l(r)?r:String(r)}(o))in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({board_id:r,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},d&&u?{orbac_subject_id:u}:{})}),b=h.data,f=h.isLoaded,_=[{name:i,src:c,href:"/".concat(t,"/"),isDim:!1}];return f&&b&&b.length>0&&b.forEach(function(e){_.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),_};function d(e){return(0,e.children)(c(function(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,i)))}r.Z=c},112544:function(e,r,t){t.d(r,{Z:function(){return u}});var o=t(780277),n=t(654369),a=t(216167),i=t(25919),l=t(288240),s=t(227258),c=t(827625);function d(e,r,t,o,n,a,i){try{var l=e[a](i),s=l.value}catch(e){t(e);return}l.done?r(s):Promise.resolve(s).then(o,n)}function u(){var e,r,t=(0,o.useDispatch)(),u=(0,o.useSelector)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(r){var o,d,h,b,f,_,m,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=r.boardCreateOptions,h=r.deprecatedSchemaForNormalization,e.next=3,a.Z.create("BoardResource",d).callCreate();case 3:return f=(b=e.sent).resource_response.data,_=h?(0,n.Fv)(f,h):void 0,t((0,c.XM)("BoardResource",d,b,_)),t((0,i.fO)({event_type:20})),null!==(o=f.owner)&&void 0!==o&&o.id&&t((0,s.b)("UserResource",{options:{user_id:f.owner.id,field_set_key:"save_behavior"}})),m=u.BoardsResource||{},p=u.BoardsFeedResource||{},Object.keys(m).forEach(function(e){var r;(0,l.k)(e).username===(null===(r=f.owner)||void 0===r?void 0:r.username)&&t((0,c.jB)("BoardsResource",e))}),Object.keys(p).forEach(function(e){var r;(0,l.k)(e).username===(null===(r=f.owner)||void 0===r?void 0:r.username)&&t((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",f);case 14:case"end":return e.stop()}},e)}),r=function(){var r=this,t=arguments;return new Promise(function(o,n){var a=e.apply(r,t);function i(e){d(a,o,n,i,l,"next",e)}function l(e){d(a,o,n,i,l,"throw",e)}i(void 0)})},function(e){return r.apply(this,arguments)}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/79118-d36fbf485edff269.js.map