"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[84952],{876605:function(e,t,n){var r=n(216167);t.Z=function(e){return r.Z.create("UserPasswordResource",e).callUpdate({showError:!1})}},7829:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(757640),i=n(149722),o=n(328038),a=n(5859),s=n(554786),l=n(624797);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["getOptions","checkExperiments","disableFetch"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){var t,n,p,_,m,f,y,g,v,h,b,P,k,w,O,x,j,A,E,S,z,B,T,D=e.getOptions,C=e.checkExperiments,L=e.disableFetch,I=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,c),R=(_=(n={checkExperiments:C,disableFetch:L,viewer:{country:(t=(0,i.Z)()).country||void 0,id:t.id||void 0,isAuth:t.isAuth,isEmployee:!!t.isEmployee,isPartner:!!t.isPartner,username:t.username||void 0}}).checkExperiments,m=n.disableFetch,f=n.viewer,y=(0,o.TH)(),g=(0,o.$B)(),b=(h={advertiser:(v=(0,a.B)()).advertiser,deviceType:(0,s.Mq)(v),location:y,match:g,viewer:f,inviteCode:null!==(p=v.inviteCode)&&void 0!==p?p:""}).advertiser,P=h.deviceType,w=(k=h.location).pathname,O=k.search,x=h.inviteCode,A=(j=h.match).params,E=j.path,S=h.viewer,z={advertiser:b,deviceType:P,routeData:{inviteCode:x,matchPath:E,params:A,parsedSearch:(0,l.mB)(O),pathname:w,search:O},user:{country:S.country||void 0,id:S.id||void 0,isAuth:S.isAuth,isEmployee:!!S.isEmployee,isPartner:!!S.isPartner,username:S.username||void 0}},T=!!(B=!!m&&m(z))||!_||_(v.experimentsClient),{args:z,fetchDisabled:B||!T}),N=R.args,U=R.fetchDisabled,F=D?D(N):void 0;return(0,r.Z)(U?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({options:F},I))}},975048:function(e,t,n){n.d(t,{i:function(){return r}});var r={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},394966:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r=n(672652),i=n(780277),o=n(684404),a=n(224796),s=n(214877),l=n(321329),u=n(107366),c=n(930837),d=n(140017),p=n(339001),_=n(340523),m=n(5859),f=n(7829),y=n(975048),g=n(731714),v=n(494125),h=n(149722),b=n(427952),P=n(864254),k=n(856641),w=n(623281),O=n(953565),x=n(819267);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){A(o,r,i,a,s,"next",e)}function s(e){A(o,r,i,a,s,"throw",e)}a(void 0)})}}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e){var t,n,j=e.onSubmitSurvey,A=e.experienceId,S=e.placementId,B=e.viewType,T=e.onCloseSurvey,D=e.urlParam,C=(0,d.ZP)(),L=(0,l.Z)(),I=(0,s.v)().logContextEvent,R=(0,i.useDispatch)(),N=(0,m.B)().advertiser,U=(0,h.Z)(),F=(0,i.useSelector)(function(e){return e.marketingPlan}),G=(0,_.F)().checkExperiment,H=null!==(n=U.id)&&void 0!==n?n:"",Z=(null==N?void 0:N.id)||"",M=(null==N?void 0:N.currency)||0,q=(null==N?void 0:N.country)||0,W=(null==N?void 0:N.merchant_id)||"",K=(0,r.useMemo)(function(){return(0,b.Y8)(q,M)},[q,M]),V=Object.keys(K)[Object.keys(K).length-1],Q=V.slice(0,-1),X=K[V].budgetRangePrefill/1e6,Y=(0,r.useCallback)(function(e,t){R((0,w._L)({field:e,value:t,onSettingSavedHn:function(){},showErrorHn:function(){},surfaceTag:y.i.SETTINGS,userId:H}))},[R,H]),$=(0,f.Z)({name:"UserSettingsResource",noCache:!0}).data,J=function(e){R((0,k.L)("topBusinessGoal",e)),Y("top_business_goal",e),I(z(z({},D?{aux_data:{url_param:D}}:{}),{},{view_type:B,event_type:15488,view_parameter:3949}))},ee=function(e){R((0,k.L)("dailyAdsBudget",e)),Y("daily_ads_budget",K[e].spendTier),I(z(z({},D?{aux_data:{url_param:D}}:{}),{},{view_type:B,event_type:15487,view_parameter:3949})),!1!==F.showCustomBudgetField&&R((0,k.L)("showCustomBudgetField",!1))};(0,v.Z)(function(){var e;(e=E(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.Rv)(Z,"business.desktop.personalized_marketing_plan.conversions");case 2:t=e.sent,R((0,k.L)("weeklyAddToCarts",t.ADD_TO_CART)),R((0,k.L)("weeklyLeads",t.LEAD)),R((0,k.L)("weeklyCheckouts",t.CHECKOUT));case 6:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()}),(0,r.useEffect)(function(){var e,t,n=(null==$?void 0:null===(e=$.partner)||void 0===e?void 0:e.top_business_goal)||"";!F.topBusinessGoal&&n&&R((0,k.L)("topBusinessGoal",n));var r=(null==$?void 0:null===(t=$.partner)||void 0===t?void 0:t.daily_ads_budget)||"";if(!F.dailyAdsBudget&&r){var i=(0,P.Yp)(K,r),o=i.spendTier,a=i.dailyAdsBudget;Object.keys(b.$K).includes(r)&&Y("daily_ads_budget",o),R((0,k.L)("dailyAdsBudget",a))}},[F]),(0,r.useEffect)(function(){var e;W&&(e=E(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.Z)({url:"/v3/catalogs/".concat(W,"/feed_profiles/"),data:{include_last_successful_ingestion:!0}});case 3:(e.sent.resource_response.data||[]).length>0&&R((0,k.L)("hasFeed",!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,O.nP)("business.desktop.personalized_marketing_plan.get_feeds.failure",{sampleRate:1});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(){return e.apply(this,arguments)})()},[W]),(0,v.Z)(function(){null!=S&&A&&L.viewExperience(S,A),I(z(z({},D?{aux_data:{url_param:D}}:{}),{},{view_type:B,event_type:13,view_parameter:3949}))});var et=function(){I(z(z({},D?{aux_data:{url_param:D}}:{}),{},{view_type:B,event_type:123,view_parameter:3949})),T&&T(),null!=S&&A&&L.dismissExperience(S,A),R((0,k.L)("isSurveyOpen",!1))};return(0,x.jsx)(c.ZP,{accessibilityModalLabel:C._('Personalized marketing plan survey', 'personalized_marketing_plan.survey.heading.modal.accessibility_label', 'Accessibility label for personalized marketing plan survey'),footer:(0,x.jsx)(o.kC,{justifyContent:"end",children:(0,x.jsx)(o.zx,{color:"red",disabled:!F.topBusinessGoal||!F.dailyAdsBudget||F.showCustomBudgetField&&!F.customDailyAdsBudget,onClick:function(){F.customDailyAdsBudget&&Y("custom_daily_ads_budget",F.customDailyAdsBudget.toString()),g.Z.setItem(a.sb,F),j(),I(z(z({},D?{aux_data:{url_param:D}}:{}),{},{view_type:B,event_type:7110,element:11906,view_parameter:3949})),R((0,k.L)("isSurveyOpen",!1)),null!=S&&A&&L.completeExperience(S,A)},size:"lg",text:C._('Submit', 'personalized_marketing_plan.marketing_plan_survey.button.submit', 'Button text to submit personalized marketing plan modal')})}),onDismiss:et,size:656,children:(0,x.jsxs)(o.xu,{margin:8,maxWidth:608,children:[(0,x.jsxs)(o.kC,{alignItems:"baseline",justifyContent:"between",children:[(0,x.jsx)(o.X6,{size:"500",children:C._('Get your personalized marketing plan', 'personalized_marketing_plan.survey.new_heading', 'Heading for personalized marketing plan survey')}),(0,x.jsx)(o.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:et,size:"md"})]}),(0,x.jsx)(o.xu,{marginTop:6,children:(0,x.jsx)(o.xv,{size:"200",children:C._('Need help figuring out which marketing plan works best for your business? Answer two quick questions and we\'ll use your answers as well as data from your business account to provide you with a personalized marketing plan!', 'personalized_marketing_plan.marketing_plan_survey.description', 'Question asking if a business needs help with their marketing plan')})}),(0,x.jsx)(o.xu,{marginTop:6,children:(0,x.jsx)(o.xv,{children:C._('What is your top business goal on Pinterest?', 'personalized_marketing_plan.marketing_plan_survey_intro.new_top_goal_question', 'Question for top business goal in personalized marketing plan survey')})}),(0,x.jsx)(o.xu,{marginTop:2,children:(0,x.jsx)(o.EI,{id:"goalSelectionList",label:C._('What is your top business goal on Pinterest?', 'personalized_marketing_plan.marketing_plan_survey_intro.top_goal_label', 'Label for list options for top business goal in personalized marketing plan survey'),labelDisplay:"hidden",onChange:function(e){var t=e.value;t!==(0,b.Gw)(C)&&J(t)},placeholder:C._('Select your business goal', 'personalized_marketing_plan.marketing_plan_survey_intro.top_goal_placeholder', 'Placeholder for list options for top business goal question in personalized marketing plan modal'),size:"lg",value:F.topBusinessGoal,children:(0,x.jsx)(o.EI.Group,{label:C._('Select your business goal', 'personalized_marketing_plan.marketing_plan_survey_intro.top_goal_placeholder', 'Placeholder for list options for top business goal question in personalized marketing plan modal'),children:(0,P.sm)(C).map(function(e){return(0,x.jsx)(o.EI.Option,{label:e.text,value:e.value},e.text)})})})}),(0,x.jsx)(o.xu,{marginTop:8,children:(0,x.jsx)(o.xv,{children:C._('How much money would you like to spend on Pinterest advertising per day?', 'personalized_marketing_plan.marketing_plan_survey_intro.daily_spend_question', 'Description for radio options for daily ad spend question in personalized marketing plan modal')})}),(0,x.jsx)(o.xu,{marginTop:2,children:(0,x.jsx)(o.EI,{id:"budgetSelectionList",label:C._('How much money would you like to spend on Pinterest advertising per day?', 'personalized_marketing_plan.marketing_plan_survey_intro.daily_spend_label', 'Label for list options for daily ad spend question in personalized marketing plan modal'),labelDisplay:"hidden",onChange:function(e){var t=e.value;t!==(0,b.jJ)(C)&&ee(t)},placeholder:C._('Select your budget range', 'personalized_marketing_plan.marketing_plan_survey_intro.daily_spend_placeholder', 'Placeholder for list options for daily ad spend question in personalized marketing plan modal'),size:"lg",value:F.dailyAdsBudget,children:(0,x.jsx)(o.EI.Group,{label:C._('Select your budget range', 'personalized_marketing_plan.marketing_plan_survey_intro.daily_spend_placeholder', 'Placeholder for list options for daily ad spend question in personalized marketing plan modal'),children:Object.keys(K).map(function(e){return(0,x.jsx)(o.EI.Option,{label:e,value:e},e)})})})}),F.dailyAdsBudget&&(null===(t=K[F.dailyAdsBudget])||void 0===t?void 0:t.spendTier)==="4"&&G("adv_growth_pmp_100_plus_budget_default").anyEnabled?(I(z(z({},D?{aux_data:{url_param:D}}:{}),{},{view_type:B,event_type:13,view_parameter:3949,element:14375})),!0!==F.showCustomBudgetField&&R((0,k.L)("showCustomBudgetField",!0)),(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(o.xu,{marginTop:8,children:(0,x.jsx)(o.xv,{children:(0,p.nk)(C._('For budgets above {{ highestBudget }} per day, please specify your daily advertising amount', 'personalized_marketing_plan.marketing_plan_survey_intro.custom_daily_spend_helper_text', 'Helper text to inform users to specify their daily ad spend if it is above the highest budget, highestBudget: highest available default budget option'),{highestBudget:Q})})}),(0,x.jsx)(o.xu,{marginTop:2,children:(0,x.jsx)(o.Ki,{errorMessage:F.showCustomBudgetFieldError?(0,p.nk)(C._('Please enter a value greater than {{ highestBudgetValue }}', 'personalized_marketing_plan.marketing_plan_survey_intro.custom_daily_spend_error', 'Error message for custom daily ad spend input in personalized marketing plan modal. highestBudgetValue: value that input must be greater than'),{highestBudgetValue:X}).join(""):void 0,id:"customDailyBudget",onBlur:function(e){var t=e.value;t&&t<=X&&R((0,k.L)("showCustomBudgetFieldError",!0))},onChange:function(e){var t=e.value;t&&t>X?(R((0,k.L)("customDailyAdsBudget",t)),R((0,k.L)("showCustomBudgetFieldError",!1))):R((0,k.L)("customDailyAdsBudget",void 0))},placeholder:(0,p.nk)(C._('Example: {{ exampleBudget }}', 'personalized_marketing_plan.marketing_plan_survey_intro.custom_daily_spend_placeholder', 'Placeholder for custom daily ad spend input in personalized marketing plan modal, exampleBudget: example number input'),{exampleBudget:1.2*X}).join(""),size:"lg",value:F.customDailyAdsBudget?F.customDailyAdsBudget:void 0})})]})):(0,x.jsx)(r.Fragment,{})]})})}},856641:function(e,t,n){n.d(t,{L:function(){return r},v:function(){return i}});var r=function(e,t){return{type:"UPDATE_PMP_FIELD",field:e,value:t}},i=function(e){return{type:"UPDATE_PMP_INITIAL_STATE",value:e}}},623281:function(e,t,n){n.d(t,{Cp:function(){return f},GT:function(){return u},V6:function(){return s},W2:function(){return d},W6:function(){return y},_L:function(){return m},fm:function(){return l},hT:function(){return c}});var r=n(216167),i=n(876605),o=n(227258);function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}var l=function(e){return{type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}},u=function(e){return{type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}}};function c(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}var d=function(e,t,n){return function(r){r({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})}},p=function(e,t,n){return function(r){r({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})}},_=function(e){var t=e.split(" ");return{first_name:t[0],last_name:t[1]}},m=function(e){var t,n,i=e.field,s=e.value,l=e.passcode,u=e.onSettingSavedHn,c=e.showErrorHn,m=e.surfaceTag,f=e.userId,y=e.passcodeSkipAcknowledged,g=void 0!==y&&y;return t=regeneratorRuntime.mark(function e(t,n){var a,y,v,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().users[f],y={user_id:f,surface_tag:m},"full_name"===i?a.is_partner?y.business_name=s:(v=_(s),y.first_name=v.first_name,y.last_name=v.last_name||""):y[i]=s,l&&(y.passcode=l),"opt_in_private_account"===i&&null!=g&&(y.user_confirm_skip_passcode=g),e.prev=5,e.next=8,r.Z.create("UserSettingsResource",y).callUpdate();case 8:"profile_image_url"===i?t((0,o.b)("UserResource",{options:y})):"full_name"===i&&(a.is_partner?t(d(f,"first_name",s)):(t(d(f,"first_name",(h=_(s)).first_name)),t(d(f,"last_name",h.last_name)))),a.is_partner&&("account_type"===i||"contact_name"===i)?t(p(f,i,s)):t(d(f,i,s)),u(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),c(e.t0);case 16:case"end":return e.stop()}},e,null,[[5,13]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})},function(e,t){return n.apply(this,arguments)}},f=function(e,t,n,r,o,a,s){return function(){(0,i.Z)({new:t,new_confirm:n,old:e,passcode:r,recaptcha_v3_token:o}).then(a,s)}},y=function(e,t,n,i,o,a){return function(s){s(d(e,"".concat(t,".").concat(n),i));var l={},u="EmailSettingsResource";void 0!==o?(l={section:t,option:n,value:i,od:o.od,user_id:o.user_id},u="UnsubEmailSettingsResource"):l={section:t,option:n,value:i},r.Z.create(u,l).callUpdate().then(a).catch(function(){return s(d(e,"".concat(t,".").concat(n),!i))})}}},946453:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){!function(e,t,n){var i;i=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(i)?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/84952-f3adaa84c3cfbf6d.js.map