"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[91440],{681508:function(e,t,n){n.d(t,{Q4:function(){return l},Rq:function(){return i},Vf:function(){return d},ab:function(){return u},jd:function(){return c},nw:function(){return s},oy:function(){return a}});var r=n(658583),o=n(622541),i=function(e){return"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436},d=28,c=function(e){return window.innerHeight>=748&&i(e)},a=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},u=function(){r.t8(o.oj,String(!0),(0,r.kZ)(o.oj))},s=function(){return!!r.U2(o.oj)},l=function(){a()&&!s()&&(u(),"undefined"!=typeof window&&window.location.reload(!0))}},165706:function(e,t,n){n.r(t),n.d(t,{DEFAULT_HEIGHT:function(){return E},FixedFooter:function(){return P},FixedHeader:function(){return w}});var r=n(672652),o=n(684404),i=n(44801),d=n(696534),c=n(30378),a=n(71328);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n=arguments.length,r=Array(n),d=0;d<n;d++)r[d]=arguments[d];return b(f(t=o.call.apply(o,[this].concat(r))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!==(e=t.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)}),b(f(t),"lastScrollPos",0),b(f(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),b(f(t),"handleScroll",(0,a.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,d=window.scrollY,c=d-t.lastScrollPos,a="none",u=document.documentElement||{},s=u.scrollHeight,l=u.clientHeight;Number.isNaN(s)||Number.isNaN(l)||(a=c<0?d<=Math.abs((window.scrollMinY||0)+Math.max(c,20))?"start":"none":d>=(window.scrollMaxY||s-l)-Math.max(c,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?c>20&&i&&d>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(c<-20&&!i||d<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!==(e=t.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===a&&!i||d<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(d>f||"end"===a)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(c<-20||"start"===a)&&i||d<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(c>20||"end"===a)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=d},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!==(t=e.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(r=e.navFooterConfig)&&void 0!==r&&r.isDockedNavOnPlp&&!(null!==(o=this.props.navFooterConfig)&&void 0!==o&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],s(i.prototype,n),r&&s(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component),I=n(819267),h=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug"],_=["alignCenter","appUpsellFooterConfig","footerInLego","hasTopShadow","navFooterConfig"];function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=64;function T(e){var t,n,a=e.children,u=e.footerConfig,s=e.headerConfig,l=e.height,f=e.hideOnScroll,p=e.hideOnScrollState,b=p.isHidden,v=p.updateHiddenState,y=e.noPadding,h=e.paddingY,_=e.type,S=e.zIndex,O=s||{},m=O.headerLimitedOverflow,T=O.ignoreObstructions,w=O.zIndexForGestaltBug,P=u||{},j=P.appUpsellFooterConfig,D=P.footerInLego,C=P.navFooterConfig,R=!!j,B="header"===_?"top":"bottom",A=(0,d.vs)(),N=(0,r.useRef)(null),x=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!T){var e=N.current;x.current=m&&e&&Array.isArray(e.children)?e.children[0]:e,x.current instanceof HTMLElement&&c.Z.addObstruction(B,x.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!T&&x.current instanceof HTMLElement&&c.Z.removeObstruction(B,x.current)}},[T,m,B,A]);var F="top"===B?"relative":"fixed",Z=(null!=l?l:E)+((null==s?void 0:s.overrideTop)||0),L=f||C?g({transition:D?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},b?{transform:"translateY(".concat("top"===B?-Z:Z,"px)"),opacity:D?0:1}:Object.freeze({})):{},H="relative"!==F||null!=s&&s.noGutter?0:2,k=H?-H:0,M=A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return A&&("header"===_?t=-1:n=-1),(0,I.jsx)(o.xu,{ref:N,bottom:"footer"===_,dangerouslySetInlineStyle:{__style:g(g(g(g(g({top:t,bottomStyle:n},!S||w?{zIndex:w||1}:Object.freeze({})),m?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({})),null!=s&&s.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({})),null!=u&&u.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),L)},"data-test-id":_,display:R?"flex":void 0,height:l&&!D?l:void 0,left:!0,marginEnd:D?"auto":k,marginStart:D?"auto":k,onTransitionEnd:function(){(f||C)&&x.current&&(b?c.Z.removeObstruction(B,x.current):c.Z.addObstruction(B,x.current))},position:F,right:!0,top:"header"===_,width:D||"fixed"!==F?void 0:"100%",zIndex:w?void 0:S,children:(0,I.jsx)(o.xu,{alignItems:null!=u&&u.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:g(g({backgroundColor:(null==s?void 0:s.isTranslucent)&&M||(null==s?void 0:s.isTransparentBackground)&&i.o7L||i.k95,height:D?R?void 0:null!=l?l:E:"100%",boxShadow:D?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:D&&!(null!=C&&C.docked)?16:void 0},m?{pointerEvents:"auto"}:Object.freeze({})),null!=s&&s.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:D||null!=u&&u.alignCenter?"flex":void 0,marginEnd:D?"auto":void 0,marginStart:D?"auto":void 0,paddingX:("footer"!==_||y?0:4)+H,paddingY:y?0:void 0===h?3:h,position:"relative",rounding:D&&!(null!=C&&C.docked)?"pill":void 0,width:C?C.footerWidth:R?void 0:"100%",children:"function"==typeof a?a({updateHiddenState:v}):a})})}function w(e){var t=e.hasBorder,n=e.headerLimitedOverflow,r=e.ignoreObstructions,i=e.isTranslucent,d=e.isTransparentBackground,c=e.noGutter,a=e.overrideTop,u=e.useRoundedCorners,s=e.zIndexForGestaltBug,l=O(e,h),f=l.noPadding,p=l.paddingY,b=l.zIndex;return(0,I.jsx)(o.Le,{height:n?44+8*(f?0:void 0===p?3:p):void 0,top:a||0,zIndex:b||void 0,children:(0,I.jsx)(y,{hideOnScroll:l.hideOnScroll,children:function(e){return(0,I.jsx)(T,g(g({},l),{},{headerConfig:{isTranslucent:i,isTransparentBackground:d,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:r,noGutter:c,overrideTop:a,zIndexForGestaltBug:s,useRoundedCorners:u},hideOnScrollState:e,type:"header"}))}})})}function P(e){var t=e.alignCenter,n=e.appUpsellFooterConfig,r=e.footerInLego,o=e.hasTopShadow,i=e.navFooterConfig,d=O(e,_);return(0,I.jsx)(y,{appUpsellFooterConfig:n,hideOnScroll:d.hideOnScroll,navFooterConfig:null==i?void 0:i.scrollConfig,children:function(e){return(0,I.jsx)(T,g(g({},d),{},{footerConfig:{alignCenter:t,appUpsellFooterConfig:n,footerInLego:r,hasTopShadow:o,navFooterConfig:i},hideOnScrollState:e,type:"footer"}))}})}},179425:function(e,t,n){n.r(t);var r=n(684404),o=n(213377),i=n(681508),d=n(403862),c=n(5859),a=n(819267);t.default=function(e){var t=e.children,n=e.dataLayoutShiftBoundaryId,u=e.hasFixedHeader,s=e.hasGutter,l=void 0===s||s,f=e.height,p=e.showKeychainError,b=e.useViewport,v=(0,c.B)(),y=(0,i.jd)(v.userAgent.platform)?i.Vf:0;return(0,a.jsx)(r.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:void 0!==b&&b?"calc(100vh - ".concat(y,"px)"):f,paddingX:l?o.D6:void 0,paddingY:void 0!==u&&u||void 0!==p&&p?void 0:3,children:(0,a.jsx)(d.C,{value:!!l,children:t})})}},403862:function(e,t,n){n.d(t,{C:function(){return i},V:function(){return d}});var r=n(672652),o=(0,r.createContext)(!1),i=o.Provider,d=function(){return(0,r.useContext)(o)}},887311:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(149722);function o(e){return(0,r.Z)().isAuth&&e}},945488:function(e,t){t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},402287:function(e,t,n){n.d(t,{$n:function(){return m},A4:function(){return w},CE:function(){return I},ET:function(){return R},F$:function(){return O},Kw:function(){return D},Nv:function(){return j},PA:function(){return T},X_:function(){return C},d9:function(){return g},e1:function(){return y},o4:function(){return P},vB:function(){return _}});var r=n(654369),o=n(216167),i=n(107366),d=n(227258),c=n(827625),a=n(821419),u=n(64819),s=n(430408),l=n(539426),f=n(937310);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){return function(t){var n=e.boardId,r=e.sectionIdBefore,o=e.sectionIdAfter,d=e.sourceSectionId,c=e.targetSectionId;t((0,u._f)({feedType:f.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:d,targetItemId:c}));var a=Object.freeze({});return r&&(a=v(v({},a),{},{section_before:r})),o&&(a=v(v({},a),{},{section_after:o})),(0,i.Z)({url:"/v3/board/sections/".concat(d,"/reorder/"),method:"POST",data:a})}}function I(e,t){return function(n){return n((0,d.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}function h(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function _(e,t,n,r){var i=e.boardId,d=e.sourceBoardId,l=void 0===d?"":d,p=e.sourceSectionId,b=void 0===p?"":p,y=e.name,I=e.nameSource,_=e.pinImport,S=e.initialPinIds,O=0;"RECOMMENDATION"===I?O=1:"EDITED_RECOMMENDATION"===I&&(O=2);var m=v({board_id:i,initial_pins:_&&!_.all?_.pinIds:void 0===S?[]:S,name:y,name_source:O},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return o.Z.create("BoardSectionResource",m).callCreate({showError:!1}).then(function(o){var d=o.resource_response.data;r({event_type:7100,object_id_str:d.id}),e(h(i,d)),e((0,u.vX)({feedId:i,feedType:f.Z.BOARD_SECTIONS,itemIds:[d.id],itemType:"boardsection"})),e((0,a.Tq)(i,"pin_count")),e((0,c.jB)("BoardSectionsRepinResource",{board_id:i,orbac_subject_id:n}));var p=_||{all:!1,pinIds:[]},v=p.all,y=p.pinIds;return v?new Promise(function(n,r){return e((0,s.Z)({inverseSelection:!0,selectedPinIds:y,source:{boardId:l||i,sectionId:b||null},target:{boardId:i,sectionId:d.id}},t)).then(function(){return n(d)}).catch(r)}):(y.length>0&&e((0,u.N8)(f.Z.BOARDFEED,i)),d)})}}function S(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function O(e,t,n){return function(r){return o.Z.create("BoardSectionEditResource",v({section_id:t},n?{orbac_subject_id:n}:Object.freeze({}))).callDelete({showError:!1}).then(function(){return Promise.all([r(S(e,t)),r((0,u.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),r((0,a.Tq)(e,"pin_count")),r((0,c.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:n}))])})}}function m(e,t,n,r){return function(i){return o.Z.create("BoardSectionEditResource",v({section_id:t,title:n},r?{orbac_subject_id:r}:Object.freeze({}))).callCreate({showError:!1}).then(function(t){var n=t.resource_response.data;return i(function(t){var r,o,i,d,c,s=n.board;s&&s.id!==e?(t(S(e,null!==(r=n.id)&&void 0!==r?r:"")),t((0,u.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(o=n.id)&&void 0!==o?o:""],itemType:"boardsection"})),t((0,a.Tq)(e,"pin_count")),t(h(null!==(i=s.id)&&void 0!==i?i:"",n)),t((0,u.vX)({feedId:null!==(d=s.id)&&void 0!==d?d:"",feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(c=n.id)&&void 0!==c?c:""],itemType:"boardsection"})),t((0,a.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:n}})}),i((0,c.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r})),n})}}function g(e,t,n){return function(r){return(0,i.Z)({url:"/v3/board/sections/".concat(t,"/merge/").concat(n,"/"),method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(function(o){return Promise.all([r(S(e,t)),r((0,c.jB)("BoardSectionsRepinResource",{board_id:e})),r(I(n)),r((0,u.N8)(f.Z.BOARD_SECTION_PINS,n))]).then(function(){return o})})}}var E=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}},T=function(e,t){return function(n){return o.Z.create("BoardSectionEditResource",v(v({},t),{},{section_id:e})).callCreate().then(function(r){return n(E(e,t)),r.resource_response.data})}},w=function(e){return function(t){return o.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(n){return t(E(e,n.resource_response.data||{id:"",title:""})),n})}},P=function(e,t,n,r){return function(i){var d=o.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return i({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:r}}),d}},j=function(e,t,n,i){return function(d){var a={board_id:e,initial_pins:t,name:n},s="BoardSectionResource";return o.Z.create(s,a).callCreate().then(function(n){var o=n.resource_response.data,p=(0,r.Fv)(o,l.Z[s]);return i({event_type:7100,object_id_str:o.id}),d((0,c.XM)(s,a,n,p)),d(h(e,o)),d((0,u.vX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),t.length&&d({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:t}}),n})}},D=function(e){return function(t){var n=e.source,i=e.target,d=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||i.boardId!==n.boardId){var a={board_id:i.boardId,pin_ids:d,section_id:i.sectionId};return o.Z.create("BulkEditResource",a).callUpdate()}if(i.sectionId){var u={section_id:i.sectionId,pins:d},s="BoardSectionEditResource";return o.Z.create(s,u).callUpdate().then(function(e){var n=(0,r.Fv)(e.resource_response.data,l.Z[s]);return t((0,c.XM)(s,u,e,n)),e})}var f={section_id:n.sectionId,pins:d};return o.Z.create("BoardSectionPinsResource",f).callDelete()}},C=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var n=e.source,r=e.target,i=e.excludePinIds,d={board_id:n.boardId,new_board_id:r.boardId,pin_ids:i,old_section_id:n.sectionId,new_section_id:r.sectionId};return o.Z.create("BulkEditSelectAllResource",d).callUpdate()}},R=function(e,t,n,r,o){return function(i){return i(j(e,[],t,o)).then(function(t){return i(C({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:t.resource_response.data.id},excludePinIds:n}))})}}},430408:function(e,t,n){n.d(t,{Z:function(){return p},S:function(){return f}});var r=n(216167),o=n(821419),i=n(402287),d=n(64819),c=n(937310),a=n(622888),u=function(e){return function(t){a.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},s=function(e){return(0,d.N8)(e.sectionId?c.Z.BOARD_SECTION_PINS:c.Z.BOARDFEED,e.sectionId||e.boardId)};function l(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t((0,o.Tq)(n.boardId,"pin_count")),t((0,o.Tq)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,o.Tq)(r.boardId,"pin_count")),n.sectionId&&t((0,i.CE)(n.sectionId)),r.sectionId&&t((0,i.CE)(r.sectionId))}function f(e){return function(t){var n=e.selectedPinIds,r=e.source,o=e.target;t((0,d.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?c.Z.BOARD_SECTION_PINS:c.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,d.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?c.Z.BOARD_SECTION_PINS:c.Z.BOARDFEED,itemIds:n,itemType:"pin"})),l(e,t)}}function p(e,t){return function(n){return(function(e,t,n){var o=e.inverseSelection,i=e.selectedPinIds,a=e.source,l=e.target,f=e.orbacSubjectId;if(a.boardId===l.boardId&&(a.sectionId||null)===(l.sectionId||null))return Promise.reject();if(o){var p={board_id:a.boardId,new_board_id:l.boardId,old_section_id:a.sectionId||void 0,new_section_id:l.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(s(a)),t(s(l))])}).catch(u(n))}var b=function(e,n){t((0,d.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?c.Z.BOARD_SECTION_PINS:c.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,d.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?c.Z.BOARD_SECTION_PINS:c.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};b(a,l);var v=function(){return b(l,a)};if(l.boardId===a.boardId){if(l.sectionId){var y={section_id:l.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",y).callUpdate({showError:!1}).catch(function(e){v(),u(n)(e)})}var I={section_id:a.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",I).callDelete({showError:!1}).catch(function(e){v(),u(n)(e)})}var h={board_id:l.boardId,section_id:l.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditResource",h).callUpdate({showError:!1}).catch(function(e){v(),u(n)(e)})})(e,n,t).then(function(){return l(e,n)})}}},937310:function(e,t){t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/91440-8c113f3d250a70a6.js.map