"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[65252,44801,84687,24115,27914,34679,44075],{185239:function(e,t,n){n.r(t);var r,o,i,a,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c1573d08de1f5e2bd319bb94cd06ffebb56fa02cec6e8237acb22e9a93f8db29",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="f53c5ab0ea026ed59b44e43f1f60b412",t.default=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},473734:function(e,t,n){n.d(t,{BW:function(){return en},Be:function(){return B},Cj:function(){return ee},Cp:function(){return V},G1:function(){return $},G5:function(){return q},Lp:function(){return et},Nb:function(){return H},TG:function(){return ei},Wd:function(){return Q},cT:function(){return G},cY:function(){return X},hA:function(){return er},ln:function(){return el},mQ:function(){return W},ml:function(){return es},p:function(){return eo},tX:function(){return K},tt:function(){return F},xw:function(){return ea}});var r,o,i,a,s,l,c,u=n(684404),d=n(44801),p=n(602950),f=n(893426);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){var r;return(r=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===_(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=new u.Ry(10),b=new u.H3([y]),v=new u.H3([b]),x=new u.H3([v]),E=new u.H3([x]),S=Object.freeze({red:d.x_d,white:"#FFF",lightGray:"#EFEFEF",gray:"#8E8E8E",darkGray:"#333",green:"#0FA573",pine:"#0A6955",olive:"#364A4C",blue:"#4A90E2",navy:"#004B91",midnight:"#133A5E",purple:"#B469EB",orchid:"#8046A5",eggplant:"#5B2677",maroon:"#6E0F3C",watermelon:"#F13535",orange:"#E3780C"}),P=Object.freeze({AGE_18_24:"18-24",AGE_21_24:"21-24",AGE_18_20:"18-20",AGE_25_34:"25-34",AGE_35_44:"35-44",AGE_45_49:"45-49",AGE_50_54:"50-54",AGE_55_64:"55-64",AGE_65_PLUS:"65+"}),O=Object.freeze({2:"18-20",3:"21-24",4:"25-34",5:"35-44",6:"45-49",7:"50-54",8:"55-64",9:"65+"}),I=Object.freeze((m(r={},P.AGE_18_20,2),m(r,P.AGE_21_24,3),m(r,P.AGE_25_34,4),m(r,P.AGE_35_44,5),m(r,P.AGE_45_49,6),m(r,P.AGE_50_54,7),m(r,P.AGE_55_64,8),m(r,P.AGE_65_PLUS,9),m(r,"AGE_UNSUPORTED",10),r)),T=f.Z.ONE_MONTH,A=Object.freeze((m(o={},f.Z.ONE_WEEK,p.Z.DAILY),m(o,f.Z.ONE_MONTH,p.Z.DAILY),m(o,f.Z.THREE_MONTH,p.Z.WEEKLY),m(o,f.Z.SIX_MONTH,p.Z.WEEKLY),m(o,f.Z.ONE_YEAR,p.Z.WEEKLY),o)),w=Object.freeze({DETAIL:"/detail/",HOME:"/"}),j=Object.freeze(["JP"]),R=Object.freeze((m(i={},f.Z.ONE_WEEK,1),m(i,f.Z.ONE_MONTH,2),m(i,f.Z.THREE_MONTH,3),m(i,f.Z.SIX_MONTH,4),m(i,f.Z.ONE_YEAR,5),i)),D=Object.freeze((m(a={},f.Z.ONE_WEEK,7),m(a,f.Z.ONE_MONTH,30),m(a,f.Z.THREE_MONTH,90),m(a,f.Z.SIX_MONTH,180),m(a,f.Z.ONE_YEAR,365),a)),N=Object.freeze({TRUE:"true",FALSE:"false"}),C=Object.freeze({MALE:"male",FEMALE:"female",UNSPECIFIED:"unspecified"}),k=Object.freeze(g(g({},C),{},{UNSPECIFIED:"unknown"})),M=Object.freeze((m(s={},C.MALE,0),m(s,C.FEMALE,1),m(s,C.UNSPECIFIED,2),s)),L=Object.freeze({0:"male",1:"female",2:"unknown"}),z=Object.freeze({TOP_TRENDS_INTERNAL:"1",GROWING_TRENDS_INTERNAL:"2",BREAKOUT_TRENDS_INTERNAL:"3",SEASONAL_TRENDS_INTERNAL:"4",TOP_MONTHLY_TRENDS:"1",TOP_YEARLY_TRENDS:"2",GROWING_TRENDS:"3",SEASONAL_TRENDS:"4"}),U=Object.freeze((m(l={},z.TOP_TRENDS_INTERNAL,"Top Trends"),m(l,z.GROWING_TRENDS_INTERNAL,"Growing Trends"),m(l,z.BREAKOUT_TRENDS_INTERNAL,"Breakout Trends"),l)),Z=Object.freeze((m(c={},z.TOP_MONTHLY_TRENDS,"Top Monthly Trends"),m(c,z.TOP_YEARLY_TRENDS,"Top Yearly Trends"),m(c,z.GROWING_TRENDS,"Growing Trends"),m(c,z.SEASONAL_TRENDS,"Seasonal Trends"),c)),B="trends_internal_media_planning_v0",H="trends_for_your_pins",G=Object.freeze({L1:1,L2:2,L3:3}),F=Object.freeze({ONE_MONTH:2,THREE_MONTHS:3,SIX_MONTHS:4,ONE_YEAR:5}),V=Object.freeze({HIGH_VOLUME:1,GROWTH:2}),Y=Object.freeze({HIGH_VOLUME:"HIGH_VOLUME",GROWTH:"GROWTH"}),W=Object.freeze({NC_ENGAGEMENT_PLUS_ACTIVE_FOLLOWERS_90d:1}),X="https://business.pinterest.com/en-us/blog/how-to-build-audience-pinterest/",q="https://www.pinterest.com/advertiser/quick-promote/",K="https://trends.pinterest.com".concat(w.DETAIL),$="conversion-trends-default-tour-id",Q="conversion-trends-fre-modal-tour-id",J=Object.freeze([f.Z.ONE_MONTH,f.Z.ONE_YEAR,f.Z.THREE_MONTH,f.Z.ONE_MONTH]),ee="https://i.pinimg.com/originals/61/40/59/61405960405378c80913b9b93c510b7f.png",et="https://i.pinimg.com/originals/21/92/49/219249b36e852fe7c2efb3789aee3d72.png",en={p100Banner:"https://i.pinimg.com/originals/a6/e5/f1/a6e5f1b32689de6329119d52156799b3.png",p100Banner2024:"https://i.pinimg.com/originals/a8/fc/ce/a8fcce222cb75af1bc93339ae3004bd4.png",bannerImageLeft:"https://i.pinimg.com/originals/1b/72/a3/1b72a3c673ae270ef358ccc2823ffea4.png",bannerImageRight:"https://i.pinimg.com/originals/f1/fc/dc/f1fcdc5416c9ab74048549a3f8a98281.png",bannerImageBackground:"https://i.pinimg.com/originals/a7/d5/5f/a7d55feded560ca866d12154412e58d4.png"},er="https://i.pinimg.com/originals/3d/2f/41/3d2f41008f24a1839f25021cf78e908d.png",eo=444,ei="ads_interest_resource",ea=["conversions","brandAwareness","consideration"],es=10,el=91;t.ZP={TRENDS_REGIONS_INTERNAL_ONLY:j,PAGES:w,TOAST_DURATION:3e3,Z_INDEX_TRENDS_HEADER:y,Z_INDEX_TRENDS_FEEDBACK_BUTTON:b,Z_INDEX_TRENDS_AUTOCOMPLETE_BOX:v,Z_INDEX_TRENDS_SEARCH_FORM:x,Z_INDEX_TRENDS_TOOLTIP:E,DEPRECATED_GESTALT_COLORS_HEX_VALUES:S,MOBILE_MAX_WIDTH:576,FEEDBACK_CHAR_LIMIT:3e3,DEFAULT_CARD_WIDTH:357,DEFAULT_CARD_HEIGHT_RATIO:.65,FIVE_CARD_WIDTH:204,FIVE_CARD_HEIGHT_RATIO:.74,FIVE_LEFT_IMAGE_WIDTH_RATIO:.65,SMALL_CARD_WIDTH:220,DEFAULT_DAYS:"360",CARD_PADDING:10,FIVE_CARD_PADDING:24,PAGE_PADDING:160,MOBILE_HEIGHT:280,DESKTOP_HEIGHT:340,DESKTOP_PREDICTION_CHART_HEIGHT:480,MOBILE_WIDTH:360,DESKTOP_WIDTH:900,CARD_WIDTH_PLUS_PADDING:377,AGE_21_PLUS:"21+",DEFAULT_COUNTRY:"US",TOP_TRENDS_PARAMETER:"topTrendsParameter",DEFAULT_DESIRED_CARD_PER_ROW:3,EXTERNAL_DESIRED_CARD_PER_ROW:5,DATE_FILTER_FORMAT:"MM/DD/YY",ALL:"all",TRENDS_CAMPAIGN_PLANNER:"TRENDS_CAMPAIGN_PLANNER",TRENDS:"TRENDS",PICK:"pick",PLUS_ICON:"+",MINUS_ICON:"-",FILTERABLE_TABLE_ROWS_PER_PAGE:Object.freeze({FIFTY:"50",ONE_HUNDRED:"100",TWO_HUNDRED_FIFTY:"250"}),DEBOUNCE_MILISECONDS:300,FILTER_SECTION:{FILTER_BAR_WIDTH:270,FILTER_BAR_MIN_HEIGHT:432,DATE_RANGE_WIDTH:178,DATE_PICKER_WIDTH:166},DEFAULT_NUM_TOP_TRENDS:250,DEFAULT_EXTERNAL_NUM_TOP_TRENDS:50,GENDER:C,GENDER_MP:k,GENDER_TO_THRIFT_CONST:M,AGE_BUCKETS:P,AGE_TO_THRIFT_CONST:I,THRIFT_TO_AGE_CONST:O,THRIFT_TO_GENDER_CONST:L,LOOK_BACK_WINDOW:f.Z,LOOK_BACK_WINDOW_DEFAULT:T,LOOK_BACK_WINDOW_TO_THRIFT_CONST:R,LOOK_BACK_WINDOW_TO_AGGREGATION_CONST:A,LOOK_BACK_WINDOW_TO_DAYS:D,TRENDS_TYPES:z,TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS:U,TRENDS_EXTERNAL_TYPES_VALUES_TO_LABELS:Z,URL_PARAM_BOOLEAN_VALUES:N,SEASONALITY_SCORE_THRESHOLD:.825,SEASONALITY_SCORE_OLD_THRESHOLD:.75,SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE:"2024-04-08",SORT_ORDER:Object.freeze({DESC:"desc",ASC:"asc"}),FILTER_TYPES:Object.freeze({OPPORTUNITY:"OPPORTUNITY",CAMPAIGN:"CAMPAIGN"}),SORT_BY:Object.freeze({TREND_RANK:"TREND_RANK",TOTAL_SEARCH:"TOTAL_SEARCH",WEEKLY_CHANGE:"WEEKLY_CHANGE",MONTHLY_CHANGE:"MONTHLY_CHANGE",YEARLY_CHANGE:"YEARLY_CHANGE"}),URL_JOIN_SIGN:"|",CONCATENATED_STRING_SEPARATOR:", ",CSV_SEPARATOR:",",TERM_ALL:"all",DEBOUNCE_AUDIENCE_SIZE:1e3,MAX_ADD_TERMS:50,L1_SECTIONS:{ALL:{value:"all",label:"All categories"},FOOD_AND_DRINK:{value:"foodanddrink",label:"Food and drinks",id:"918530398158"},BEAUTY:{value:"beauty",label:"Beauty",id:"935541271955"},HOME_DECOR:{value:"homedecor",label:"Home decor",id:"935249274030"},FASHION:{value:"fashion",label:"Fashion",id:"948967005229"},TRAVEL:{value:"travel",label:"Travel",id:"908182459161"},ART:{value:"art",label:"Art",id:"961238559656"},QUOTES:{value:"quotes",label:"Quotes",id:"948192800438"},ENTERTAINMENT:{value:"entertainment",label:"Entertainment",id:"953061268473"},DIY_AND_CRAFTS:{value:"diyandcrafts",label:"DIY and crafts",id:"934876475639"},HEALTH:{value:"health",label:"Health",id:"898620064290"},WEDDINGS:{value:"weddings",label:"Wedding",id:"903260720461"},EVENT_PLANNING:{value:"eventplanning",label:"Event planning",id:"941870572865"},LAWN_AND_GARDEN:{value:"lawnandgarden",label:"Gardening",id:"909983286710"},ANIMALS:{value:"animals",label:"Animals",id:"925056443165"},PARENTING:{value:"parenting",label:"Parenting",id:"920236059316"},EDUCATION:{value:"education",label:"Education",id:"922134410098"},VEHICLES:{value:"vehicles",label:"Vehicles",id:"918093243960"},DESIGN:{value:"design",label:"Design",id:"902065567321"},SPORTS:{value:"sports",label:"Sport",id:"919812032692"},ELECTRONICS:{value:"electronics",label:"Electronics",id:"960887632144"},FINANCE:{value:"finance",label:"Finance",id:"913207199297"},ARCHITECTURE:{value:"architecture",label:"Architecture",id:"918105274631"}},BASE_BANNER_HEIGHT:627,COUNT_TYPES:{COUNT:"count",NORMALIZED_COUNT:"normalizedCount"},EXTERNAL_LOOKBACK_WINDOW_MAPPED_TREND_TYPES:J,FEEDBACK_SLACK_CHANNEL:"slack://channel?team=T024LJUGB&id=CKBF9A6EL",MAX_TERMS:4,COUNTRY_FULL_NAMES:{US:"the United States",CA:"Canada",GB:"the United Kingdom"},CONCATENATED_INTERESTS_PARAM_KEY:"concatenatedInterests",FILTER_INTEREST_IDS_PARAM_KEY:"filterInterestIds",FILTER_AGE_IDS_PARAM_KEY:"filterAgeIds",FILTER_GENDERS_PARAM_KEY:"filterGenders",EXPORT_TYPES:{DISCOVER:"discover",DETAILS:"details",CAMPAIGN:"campaignPlan"},EXPORT_NA:"N/A",EXPORT_ALL:"All",EXPORT_NONE:"None",ENGLISH_LANGUAGE_CODE:"en",KEYWORD_SPLIT_CHARACTER:"\n",COUNTRY_PREFIX_POSTAL_CODE_SEPARATOR:":",EXPORT_MESSAGE_HEADER:"Export in progress",DEPRECATED_COLOR_VALUES:["blue","green","purple","orange","red","maroon","orchid","navy","pine","watermelon"],EXPORT_MESSAGE:"This should only take a few seconds. Don't go back.",POPULAR_PINS_MAXIMUM_IMAGES:9,MAXIMUM_TERM_IMAGES_BULK_SIZE:250,NUM_TOP_TRENDS_FOR_YOUR_PINS_TO_RETURN:10,TERM_IMAGE_MEMCACHE_KEY_PREFIX:"timg:",EXTRA_TERM_IMAGES:80,DESIRED_PIN_IMAGE_SIZE:"236x",PIN_IMAGE_URL_PREFIX:"https://i.pinimg.com/",PIN_IMAGE_URL_SUFFIX:".jpg",PIN_IMAGE_DEFAULT_CACHE_TIME_S:86400,PERSONALIZED_TRENDS_INTEREST_AVAILABLE_THRESHOLD:3,PERSONALIZED_TRENDS_MINI_TABLE_REQUEST_SIZE:25,PERSONALIZED_TRENDS_MINI_TABLE_ROWS_PRE_PAGE:5,PERSONALIZED_TRENDS_TABLE_BREAK_LINE_WINDOW_WIDTH:1284,DOUBLE_ROW_CARD_WIDTH:170,TOP_TRENDS_CAROUSEL_TERMS:9,TRENDS_FOR_PINS_MODULE_BREAK_WIDTH:1380,TRENDS_SEARCHBAR_HEIGHT:193,TOP_TRENDS_CAROUSEL_EXTENDED_TERMS:30,TOP_TRENDS_UNAUTH_CAROUSEL_TERMS:25,TOP_TRENDS_DOUBLE_ROW_MAX_TERMS:6,DETAILS_PAGE_SEARCH_OVERTIME_SUBTITLE_WIDTH:750,PT_IMAGE_SIZE:"236x",FILTERED_TABLE_IMAGE_SIZE:"30x30",TOP_TREND_CAROUSEL_IMAGE_SIZE:"236x",PERSONALIZED_TREND_TYPES:Y,PERSONALIZED_TRENDS_LOOKBACK:"THREE_MONTHS"}},81133:function(e,t,n){var r=(0,n(672652).createContext)({isUpsellUnauthModalOpen:!1,openUpsellUnauthModal:function(){},closeUpsellUnauthModal:function(){}});t.Z=r},602950:function(e,t){var n=Object.freeze({DAILY:1,WEEKLY:2,BIWEEKLY:3,MONTHLY:4});t.Z=n},582103:function(e,t,n){n.d(t,{D9:function(){return y},J5:function(){return m},Ns:function(){return v},QT:function(){return S},Xs:function(){return h},kc:function(){return x},nc:function(){return E},pV:function(){return g},y1:function(){return b}});var r=n(672652),o=n(328038),i=n(421888),a=n(81133),s=n(115413),l=n(214877),c=n(5859),u=n(233440),d=n(494125),p=n(149722);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){return{setValueToSession:function(t){return u.Z.setItem(e,t)},getValueFromSession:function(t){return u.Z.getItem(e)||t}}},g=function(){var e=(0,o.TH)();return(0,r.useMemo)(function(){return new URLSearchParams(e.search).get("country")||"US"},[e])},m=function(e){var t=(0,o.TH)(),n=(0,l.v)().logContextEvent,r=new URLSearchParams(t.search);(0,d.Z)(function(){Object.values(s.Z.URL_PARAM_UTM_VALUES).some(function(e){return null!==r.get(String(e))})&&n({event_type:13,view_type:e,aux_data:Object.values(s.Z.URL_PARAM_UTM_VALUES).reduce(function(e,t){return e[String(t)]=r.get(String(t)),e},{})})}),(0,i.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_SOURCE,"replaceWithoutRefresh","")(),(0,i.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_MEDIUM,"replaceWithoutRefresh","")(),(0,i.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CAMPAIGN,"replaceWithoutRefresh","")(),(0,i.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CONTENT,"replaceWithoutRefresh","")(),(0,i.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_TERM,"replaceWithoutRefresh","")(),(0,i.Z)(s.Z.URL_PARAM_UTM_VALUES.UTM_CREATIVE,"replaceWithoutRefresh","")()},y=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)(function(){t.current=e},[e]),t.current},b=function(e,t){var n=(0,r.useRef)(),o=function(){n.current&&clearTimeout(n.current)};return(0,r.useEffect)(function(){return o},[]),function(r){o(),n.current=setTimeout(function(){e(r)},t)}};function v(e,t){var n=(0,r.useRef)(e),o=(0,r.useRef)();return(0,r.useEffect)(function(){n.current=e},[e]),(0,r.useEffect)(function(){return function(){return clearTimeout(o.current)}},[t]),(0,r.useCallback)(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];o.current&&clearTimeout(o.current),o.current=window.setTimeout(function(){n.current.apply(n,r)},t)},[t])}var x=function(e){var t=f((0,r.useState)(!1),2),n=t[0],o=t[1];return(0,r.useEffect)(function(){var t=new IntersectionObserver(function(e){o(f(e,1)[0].isIntersecting)});return e.current?(t.observe(e.current),function(){t.disconnect()}):function(){}},[]),n};function E(){return(0,r.useContext)(a.Z)}var S=function(){var e=(0,p.Z)(),t=(0,c.B)();return t.advertiser?t.advertiser.owner_user_id:e.id||""}},421888:function(e,t,n){var r=n(672652),o=n(328038),i=n(256743),a=n(624797);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t,n){var s=(0,o.k6)(),l=(0,o.TH)(),d=l.search,p=l.pathname,f=void 0===p?"/":p,_=(0,r.useMemo)(function(){return new URLSearchParams(d)},[d]),h=function(r){var o="reset"!==t?(0,a.mB)(window.location.search):{},l=(0,i.Km)(c(c({},o),{},u({},e,r)));if(t){var d=(0,a.ru)(n?"".concat(n):f,c({},l));"push"===t&&s.push(d),"replace"===t&&s.replace(d),"reset"===t&&(window.location.href=d),"replaceWithoutRefresh"===t&&o[e]!==r&&window.history.replaceState(null,"",d)}};return function(t){"function"==typeof t?h(t((0,i.AY)(_.get(e)))):h(t)}}},893426:function(e,t){var n=Object.freeze({ONE_WEEK:"7D",ONE_MONTH:"30D",THREE_MONTH:"90D",SIX_MONTH:"180D",ONE_YEAR:"365D"});t.Z=n},115413:function(e,t){var n=Object.freeze({IS_SEASONAL:"seasonal",TERMS:"terms",COUNTRY:"country",SHOULD_MOCK:"shouldMock",EMPTY_HERO_BANNER_MOCK:"emptyHeroBanner",TRENDS_PRESET:"trendsPreset",ADVERTISER_ID:"advertiserId",END_DATE:"endDate",SELECTED_END_DATE:"selectedEndDate",AGE_BUCKET:"ageBucket",GENDER:"gender",LOOK_BACK_WINDOW:"lookbackWindow",COUNTS_TYPE:"countsType",DATE_RANGE:"dateRange",AGGREGATION_LEVEL:"aggregationLevel",SORT_BY:"sortBy",SORT_ORDER:"sortOrder",L1_INTEREST_IDS:"l1InterestIds",L2_INTEREST_IDS:"l2InterestIds",L3_INTEREST_IDS:"l3InterestIds",KEYWORDS_TO_EXCLUDE:"keywordsToExclude",KEYWORDS_TO_INCLUDE:"keywordsToInclude",RANKING_METHOD:"rankingMethod",AGE_DETAILS_PAGE:"ageDetailsPage",GENDER_DETAILS_PAGE:"genderDetailsPage",TOP_TRENDS:"topTrends",MOMENTS:"moments",SHOW_PREDICTION:"showPrediction",URL_PARAM_UTM_VALUES:Object.freeze({UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_CAMPAIGN:"utm_campaign",UTM_CONTENT:"utm_content",UTM_TERM:"utm_term",UTM_CREATIVE:"utm_creative"})});t.Z=n},256743:function(e,t,n){n.d(t,{$X:function(){return h},AY:function(){return P},BC:function(){return B},KD:function(){return g},KP:function(){return _},Km:function(){return x},Lp:function(){return j},Nh:function(){return R},Rw:function(){return U},Sy:function(){return b},Xb:function(){return D},Xy:function(){return f},Ye:function(){return E},ZB:function(){return T},ZQ:function(){return N},_S:function(){return M},cq:function(){return Z},d2:function(){return C},dV:function(){return S},g9:function(){return y},hm:function(){return p},id:function(){return H},k2:function(){return O},oH:function(){return w},qA:function(){return v},qn:function(){return m},tB:function(){return A}});var r=n(473734),o=n(624797);n(987034);var i=n(506868);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){return e||![3,4].includes(t)},f=function(e){return!e||0===e.length},_=function(e,t){return!!e||!r.ZP.TRENDS_REGIONS_INTERNAL_ONLY.includes(t)},h=function(e){return f(e)?"":"".concat(e).replace(/\D/g,"")},g=function(e){return(0,o.mB)(e.search)};function m(e,t){return Math.round(e*Math.pow(10,t))/10}var y=function(e){return e.join(r.ZP.PLUS_ICON)},b=function(e){return e&&""!==e?e.split(r.ZP.PLUS_ICON):[]},v=function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(r.ZP.DEPRECATED_COLOR_VALUES);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!e.includes(o))return o}}catch(e){n.e(e)}finally{n.f()}return r.ZP.DEPRECATED_COLOR_VALUES[0]},x=function(e){var t={};for(var n in e){var r=e[n];null!==n&&""!==n.trim()&&null!=r&&""!==r.toString().trim()&&(t[n]=r)}return t},E=function(e){return e&&e!==r.ZP.ALL?e.split(r.ZP.URL_JOIN_SIGN):null},S=function(e,t,n){return e?c(e).sort(function(e,o){var i=function(e,n){return t===r.ZP.SORT_ORDER.ASC?e-n:n-e};return n===r.ZP.SORT_BY.TOTAL_SEARCH?i(e.searchCount,o.searchCount):n===r.ZP.SORT_BY.WEEKLY_CHANGE?i(e.wow_change.index,o.wow_change.index):n===r.ZP.SORT_BY.MONTHLY_CHANGE?i(e.mom_change.index,o.mom_change.index):n===r.ZP.SORT_BY.YEARLY_CHANGE?i(e.yoy_change.index,o.yoy_change.index):i(e.reverseRank,o.reverseRank)}):[]},P=function(e){return null!=e&&/^\d+$/.test(e.toString())?parseInt(e,10):e},O=function(e){return e>=r.ZP.SEASONALITY_SCORE_THRESHOLD_CUTOVER_DATE?r.ZP.SEASONALITY_SCORE_THRESHOLD:r.ZP.SEASONALITY_SCORE_OLD_THRESHOLD},I=function(e,t){return e>=O(t)?"Yes":""},T=function(e){var t,n=e.keywordsToInclude,o=e.keywordsToExclude,i=e.ageBucket,a=e.gender,s=e.lookbackWindow,l=e.seasonal,c=e.rankingMethod,u=e.searchParams,d=e.nonUrlParams,p=e.tableData,f=E(n)||[r.ZP.EXPORT_ALL],_=E(o)||[r.ZP.EXPORT_NONE],h=E(a)||[r.ZP.EXPORT_ALL],g=E(i)||[r.ZP.EXPORT_ALL],m=r.ZP.LOOK_BACK_WINDOW_TO_DAYS[s||r.ZP.LOOK_BACK_WINDOW_DEFAULT],y=(null==d?void 0:null===(t=d.checkedTerms)||void 0===t?void 0:t.length)>0?d.checkedTerms.map(function(e){var t=p.find(function(t){return e===t.term});return{trend:null==t?void 0:t.term,totalSearches:null==t?void 0:t.total_count,weeklyChange:null==t?void 0:t.wow_change.value,monthlyChange:null==t?void 0:t.mom_change.value,yearlyChange:null==t?void 0:t.yoy_change.value,isSeasonal:I(null==t?void 0:t.seasonality_score,u.dateRange.endDate)}}):p.map(function(e){return{trend:e.term,totalSearches:e.total_count,weeklyChange:e.wow_change.value,monthlyChange:e.mom_change.value,yearlyChange:e.yoy_change.value,isSeasonal:I(e.seasonality_score,u.dateRange.endDate)}});return{dateRangeDate:u.dateRange.endDate,dateRangeDaysBefore:m,interests:d[r.ZP.CONCATENATED_INTERESTS_PARAM_KEY]||r.ZP.EXPORT_ALL,includeKeywords:f.join(", "),excludeKeywords:_.join(", "),ages:g.join(", "),genders:h.join(", "),seasonalOnly:l===r.ZP.URL_PARAM_BOOLEAN_VALUES.TRUE?"Yes":"No",trendType:r.ZP.TRENDS_INTERNAL_TYPES_VALUES_TO_LABELS[c],selectedTrends:y}},A=function(){var e=window.open("http://example.com/waiting.html","_blank");return null==e||e.document.write("<h4>".concat(r.ZP.EXPORT_MESSAGE_HEADER,"</h4><p>").concat(r.ZP.EXPORT_MESSAGE,"</p>")),e},w=function(e){return f(e)||"all"===e?"":e.split(r.ZP.URL_JOIN_SIGN).join(", ")},j=function(e,t){if(!f(e)){var n,o=(l(n={},r.ZP.GENDER.FEMALE,t._('Female', 'trends.filter.gender.female', 'Gender Female')),l(n,r.ZP.GENDER.MALE,t._('Male', 'trends.filter.gender.male', 'Gender Male')),l(n,r.ZP.GENDER.UNSPECIFIED,t._('Unspecified', 'trends.filter.gender.unspecified', 'Unspecified Gender')),n);return e.split(r.ZP.URL_JOIN_SIGN).map(function(e){return o[e]}).join(", ")}return""},R=function(e){return f(e)||"all"===e?0:e.split(r.ZP.URL_JOIN_SIGN).length},D=function(e){return Object.entries(e).reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||u(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return Array.isArray(o)&&(e[r]=o.map(function(e){return{images:{"474x":{height:0,width:0,url:e}}}})),e},{})},N=function(e,t){var n,r=c((null===(n=e.results)||void 0===n?void 0:n.terms)||[]).sort(function(e,t){return t.affinity-e.affinity});return void 0!==t&&t>0?r.filter(function(e){return e.affinity>=t}):r},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!(null==e||0===e.trim().length||(n?0>Number.parseFloat(e.trim()):0>=Number.parseFloat(e.trim()))||void 0!==t&&e.trim().length<t)},k=function(e){for(var t,n="",r=0;r<3;r+=1){t=0;for(var o=0;o<5;o+=1){var i=e.substring(5*r+o,5*r+o+1);i.toUpperCase()===i&&i>="A"&&i<="Z"&&(t+=1<<o)}t<=25?n+="ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(t,t+1):n+="012345".substring(t-26,t-25)}return n},M="000000000000000000",L=/^[A-z0-9]{18}$/,z=/\b([A-z0-9]{18})\b/,U=function(e){return L.test(e)&&e.substr(15)===k(e.substr(0,15))&&"006"===e.slice(0,3)||e===M},Z=function(e){if(e.length<18)return e;var t=e.match(z);return t&&t[0]?t[0]:e},B=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null===(t=e.current)||void 0===t||t.scrollIntoView(),window.scrollBy(0,-n)},H=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},i.eg);return n.adGroups[0].targeting.keywords=(null==t?void 0:t.join(r.ZP.KEYWORD_SPLIT_CHARACTER))||"",n.adGroups[0].targeting.selectedLocations=(null==e?void 0:e[0].split(r.ZP.PLUS_ICON))||[],n.adGroups[0].autoTargetingEnabled=!1,n}},150984:function(e,t,n){function r(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return i.apply(this,arguments)}function i(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new File([r],"image.png"));case 7:case"end":return e.stop()}},e)}),(i=function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,l,"next",e)}function l(e){r(a,o,i,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}n.d(t,{Z:function(){return o}})},512691:function(e,t,n){function r(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function o(e,t){return i.apply(this,arguments)}function i(){var e;return e=regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var r=new FileReader;r.onload=function(){var o=new Image;o.src=r.result,o.onload=function(){var r=o.height,i=o.width;i>474&&(r*=474/i,i=474),n({src:o.src,height:r,width:i});var a=document.createElement("canvas");a.width=i,a.height=r,a.getContext("2d").drawImage(o,0,0,i,r),a.toBlob(function(n){e(new File([n],t.name,{type:"image/jpeg"}))},"image/jpeg",.9)}},r.readAsDataURL(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),(i=function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,l,"next",e)}function l(e){r(a,o,i,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}n.d(t,{Z:function(){return o}})},341309:function(e,t,n){n.d(t,{Z:function(){return i},t:function(){return o}});var r=n(447479),o=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],i=296},705318:function(e,t){var n=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){var r=this._uidToData[e];r||(r=new n(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},t.Z=r},343902:function(e,t,n){n.d(t,{N:function(){return a},Z:function(){return i}});var r=n(684404),o=n(819267);function i(e){var t=e.children,n=e.fullWidth;return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:t})}function a(e){var t=e.children;return e.enabled?(0,o.jsx)(i,{children:t}):t}},928162:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(684404),o=n(819267),i={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,t,n){switch(n){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,o=r[e];return o.border="1px solid #FFFFFF",o.transition="all 150ms ease-out",o};function s(e){var t,n=e.fanOut,s=e.card,l=e.index,c=e.size,u=e.rounding,d=i[c],p=s.height,f=void 0===p?d.HEIGHT_PX:p,_=s.url,h=s.width,g=void 0===h?d.WIDTH_PX:h,m=s.colorRGB,y=s.opacity;return _?t=(0,o.jsx)(r.Ee,{alt:_,fit:"cover",naturalHeight:f,naturalWidth:g,src:_}):m&&y&&(t=(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(m.join(", "),", ").concat(y,")")}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(l,n,c)},position:"absolute",rounding:null!=u?u:5,children:(0,o.jsx)(r.zd,{height:d.HEIGHT_PX,rounding:5,wash:!0,width:d.WIDTH_PX,children:t})})}},160567:function(e,t,n){n.d(t,{Pw:function(){return r},SB:function(){return o},ZP:function(){return a},x9:function(){return i}});var r=80,o=56,i=function(e){return"phone"===e?o:r};function a(e,t){return t?0:i(e)}},860208:function(e,t,n){function r(e){return[0,24,21,26].includes(e)}function o(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return o},y:function(){return r}})},549629:function(e,t,n){n.d(t,{Q:function(){return d},Z:function(){return p}});var r=n(672652),o=n(587703),i=n(525364),a=n(996523),s=n(5859);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,i.sV)().setViewContextData,l=(0,s.B)().requestIdentifier,c=(0,o.Z)(),d=(0,i.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:l}))}},[t])}function p(e){var t=e.children;return d(e.log),t||null}},543867:function(e,t){t.Z=function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}},886569:function(e,t){t.Z=function(e){var t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},378720:function(e,t,n){var r=n(672652);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return(0,r.useEffect)(function(){i(!0)},[]),n}},541841:function(e,t,n){var r=n(672652),o=n(843362);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,d,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=c(f);if(t){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(l(e=p.call.apply(p,[this].concat(n))),"observer",null),u(l(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}],a(f.prototype,n),d&&a(f,d),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component);t.Z=p},200397:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(672652),o=n(684404),i=n(401429),a=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(_,e);var t,n,r,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(_);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function _(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,_);for(var e,t,n,r,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=u(e=f.call.apply(f,[this].concat(i))),r={paused:!1,showPulsar:!1},(n=p(n="state"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return n=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),r=n.height,i=n.width;return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+r/2),marginLeft:-(68-i/2),cursor:"pointer",pointerEvents:"none"}},"data-test-id":"pulsar-box",position:"absolute",zIndex:new o.Ry(1),children:(0,a.jsx)(o.o3,{paused:t})})}},{key:"renderFlyout",value:function(e){var t=this.props,n=t.anchor,r=t.flyoutSize,i=t.idealDirection;return(0,a.jsx)(o.Li,{anchor:n,idealDirection:i||"down",message:e,onDismiss:function(){},size:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.experienceIds,r=t.placementId,s=t.shouldTimeoutDismiss,l=this.state.showPulsar;return(0,a.jsx)(i.Z,{eligibleIds:n,eligibleTypes:[8],placementId:r,children:function(t){var n=t.complete,r=t.dismiss,i=t.experience;e.experience=i;var c=i.display_data;return c.has_pulsar||c.has_tooltip?(s&&c.disappearTime&&c.disappearTime>0&&(e.timer=setTimeout(function(){return r(),null},c.disappearTime)),(0,a.jsxs)(o.xu,{"data-test-id":"experience-tooltip-no-buttons",zIndex:new o.Ry(10),children:[l&&e.renderPulsar(),c.has_tooltip&&(!c.has_pulsar||e.state.paused)&&e.renderFlyout(c.text)]})):(n(),null)}})}}],l(_.prototype,n),r&&l(_,r),Object.defineProperty(_,"prototype",{writable:!1}),_}(r.Component)},547643:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(340523),o=n(5859);function i(e){var t,n=(0,o.B)().isAuthenticated?"web_masonry_v2_auth":"web_masonry_v2_unauth",i=(0,(0,r.F)().checkExperiment)(n,{dangerouslySkipActivation:null!==(t=null==e?void 0:e.skipActivation)&&void 0!==t&&t}),a=i.anyEnabled,s=i.group;return{expName:n,anyEnabled:a,group:s,isMeasureAllEnabled:"enabled_measure_all"===s||"enabled_measure_all_impression_fix"===s,isImpressionFixEnabled:"control_impression_fix"===s||"enabled_impression_fix"===s||"enabled_measure_all_impression_fix"===s}}},213377:function(e,t,n){n.d(t,{$H:function(){return a},$q:function(){return y},D6:function(){return c},KN:function(){return v},Lo:function(){return o},P2:function(){return h},TS:function(){return x},Wv:function(){return b},ZZ:function(){return d},g5:function(){return p},jC:function(){return s},lX:function(){return _},nW:function(){return f},oX:function(){return g},qG:function(){return m},tG:function(){return i},yF:function(){return r},yc:function(){return u},yt:function(){return l}});var r=236,o=157.33333333333334,i=175,a=24,s=4,l=8,c=2,u=2,d=14,p=16,f=12,_=16,h=24,g=16,m=-1,y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?_:f:h},b=function(e){var t=e.contentVisibleItemCount,n=e.gap,o=e.isDesktop,a=e.moduleWidth;return t||a?Math.min((a-Math.ceil(t)*n)/t,o?r:i):r},v=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d,i=e+o;return"\n@media (min-width: ".concat(t*i,"px) and (max-width: ").concat((n+1)*i-1,"px) {\n  ").concat(r,"\n}\n")},x=function(e,t,n){var o=n?3:2,a=t?5:o,s=t?r:i,c=t?g:l,u=s*a+c*a-(t?12:!t&&n?12:6);if(!e)return u;for(var d=a;d>=2&&!(e>u);d-=1)u=s*d+c*d;return u}},699750:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){return e.reduce(function(e,n){var r="function"==typeof t?t(n):n[t];return r in e||(e[r]=[]),e[r].push(n),e},{})}},666472:function(e,t,n){n.d(t,{F:function(){return v},Z:function(){return b}});var r=n(672652),o=n(263032),i=n(214877),a=n(547643),s=n(30378),l=n(5859),c=n(554786),u=n(369708),d=n(953565),p=n(84768),f=["children"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){var r;return(r=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===_(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},CuratedBoard:{impressionType:"curatedBoardImpressions",idType:"curatedBoardIdStr",eventType:15555}};function b(e){var t=e.carouselData,n=e.closeupImpressionType,f=e.closeupNavigationType,_=e.componentType,h=e.contextLogData,b=e.clientTrackingParams,v=e.elementType,x=e.impressionAuxFields,E=e.inImpressionExp,S=e.impressionType,P=e.impressionsFramework,O=e.isPaused,I=e.loggingId,T=e.objectIdStr,A=e.slotIndex,w=e.trackCarousel,j=e.viewData,R=e.viewParameter,D=e.viewType,N=e.isPromoted,C=e.storyPinProductEventData,k=e.pinData,M=(0,i.v)().logContextEvent,L=(0,u.rG)().logMrcVideoAdEventOnPlay,z=P||s.Z,U=(0,r.useRef)(null),Z=function(e){var r,i,a,s,l,c,u,d,p=y[S],E=p.idType,P=g(g((m(N={clientTrackingParams:b,endTime:e.endTime},E,I),m(N,"slotIndex",A),m(N,"time",e.startTime),m(N,"renderDuration",e.endTime-e.startTime),m(N,"type",n),N),x),{},{forcedExit:"removed"===e.forcedExit?0:void 0}),O={};if("Pin"===S&&(P=g(g({},P),{},{pinCellWidth:(null===(z=U.current)||void 0===z?void 0:z.offsetWidth)||0,pinCellHeight:(null===(Z=U.current)||void 0===Z?void 0:Z.offsetHeight)||0,windowWidth:null===(B=window)||void 0===B?void 0:B.innerWidth,windowHeight:null===(H=window)||void 0===H?void 0:H.innerHeight}),null!=x&&x.chromeAraViewExp&&k&&k.isPromoted)){var N,z,Z,B,H,G,F,V,Y,W,X,q,K=k.attributionSourceId;(0,o.YS)(S,null!==(G=k.isPromoted)&&void 0!==G?G:null,null!=K?K:null,null!==(F=k.link)&&void 0!==F?F:null,null!==(V=k.campaignId)&&void 0!==V?V:null,null!==(Y=x.araAuxData)&&void 0!==Y?Y:null,null!==(W=k.advertiserId)&&void 0!==W?W:null,null!==(X=k.domain)&&void 0!==X?X:null,null!==(q=k.adDestinationUrl)&&void 0!==q?q:null,null==x?void 0:x.araHardcodedReportingUrlExp),O={is_arapi:!0,attribution_source_id:K||""}}var $={component:_,object_id_str:T,view_type:D,view_data:j||{},view_parameter:R};if(w)t&&w&&M(g(g({event_type:7352,event_data:{pinCarouselSlotImpressions:[g(g({},P),"canonical"===t.type?{carouselDataId:Number(null!==(r=t.carouselId)&&void 0!==r?r:0),slotIndex:t.index,carouselSlotId:(null===(i=t.carouselSlots)||void 0===i?void 0:i[null!==(a=t.index)&&void 0!==a?a:0])&&Number(t.carouselSlots[null!==(s=t.index)&&void 0!==s?s:0].slotId)}:{carouselDataId:Number(null!==(l=t.id)&&void 0!==l?l:0),carouselSlotId:(null===(c=t.carousel_slots)||void 0===c?void 0:c[null!==(u=t.index)&&void 0!==u?u:0])&&Number(t.carousel_slots[null!==(d=t.index)&&void 0!==d?d:0].id),slotIndex:t.index})]}},$),{},{aux_data:g(g({},h),O)}));else{var Q=g(g({clientTrackingParams:b,event_type:p.eventType},$),{},{element:v,event_data:g(m({},p.impressionType,"Story"===S?P:[P]),C?{storyPinProductEventData:C}:{}),aux_data:g(g({closeup_navigation_type:f},h),O)});M(Q),L(Q)}},B=(0,a.Z)({skipActivation:!0}),H=B.expName,G=B.group,F=(0,c.ZP)(),V=(0,p.MM)(),Y=(0,l.B)().isAuthenticated,W=(0,r.useCallback)(function(){try{var e=U.current;e instanceof HTMLElement&&(!N||e.getElementsByTagName("img").length>0)&&(z.start(e).onExitViewport(Z).setDebugId(I||"unknown"),G&&(0,d.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:F,experimentName:H,group:G,handlerId:V,isAuthenticated:Y,slotIndex:null!=A?A:"unknown"}}))}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[U.current]);return(0,r.useEffect)(function(){return E&&!z.inExperiment&&z.setExperimentStatus(!0),O||W(),function(){var e=U.current;e instanceof HTMLElement&&(!N||e.getElementsByTagName("img").length>0)&&z.stop(e)}},[O,W]),U}var v=function(e){return(0,e.children)({impressionTrackerRef:b(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,f))})}},984234:function(e,t,n){var r=n(624797);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var l={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},ideaPinExtendVideoLength:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinExtendVideoLengthAboveTwoMin:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration_above_two_min",groups:/^(employees_min|enabled_min)/,scenarios:["story_pin_v2"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var t=e.user;return!!(null!=t&&t.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0},orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinCreationWithoutThinking:{authOnly:!0,experiment:"web_snc_pin_creation_without_thinking",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]}},c=new(function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),a(this,"_experiments",null),a(this,"_viewer",null),a(this,"_advertiser",null),a(this,"_scenario",null),a(this,"_language",null),a(this,"_context",null),a(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var t=e.requestContext,n=e.viewer,o=e.location,i=e.advertiser,a=e.scenario,s=e.orbacActingAs;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=n,this._advertiser=i,this._orbacActingAs=s;var l=(0,r.mB)(o.search).adCreate;a?this._scenario=a:l?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var t,n,r=l[e],o=r.advertisers,i=r.authOnly,a=r.customEnabledCheck,s=r.experiment,c=r.groups,u=r.hasCustomEnabledCheck,d=r.languages,p=r.orbacDisabled,f=r.orbacExperiment,_=r.partnerOnly,h=r.scenarios,g=r.skipActivation;if(null!==(t=this._orbacActingAs)&&void 0!==t&&t.id&&this._orbacActingAs.id!==this._viewer.id&&(p||f&&"enabled"!==this._experiments.checkExperiment(f).group))return!1;if(u&&a&&this._context&&u(this._context))return!!this._context&&a(this._context);if(g&&this._experiments){var m=this._experiments.checkExperiment;return!!s&&m(s,{dangerouslySkipActivation:!0}).anyEnabled}return!!o&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!_||!!this._viewer.isPartner)&&(!h||!!h.includes(this._scenario))&&(!d||!!d.includes(this._language))&&(!s||(void 0===c?/.*/:c).test((null===(n=this._experiments)||void 0===n?void 0:n.checkExperiment(s).group)||""))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var t=l[e].experiment;return t?this._experiments.checkExperiment(t).group:null}}],i(n.prototype,e),t&&i(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}());t.Z=c},471314:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(672652),o=n(342513),i=n(297329),a=n(297315),s=n(608029),l=n(107860),c=n(309300),u=n(521525),d=n(819281),p=n(793250),f=n(363404),_=n(840387),h=n(889998),g=n(59648),m=n(404373),y=n(970126);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t,n){var r;return(r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===b(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=(0,s.XV)("PwtStopwatch"),T=function(e,t){if(y.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,o=t.navigationType;return(0,i.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:y.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)I("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return I("ignoring action - stopwatch is not actively timing",t),(0,i.A9)("WARN.".concat(a,".noTiming.").concat(t.type)),e}}if("annotate"===t.type){var s=y.Z.now();return I("adding annotation {".concat(t.label,": ").concat(s,"}")),P(P({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:s}])})}if("binaryAnnotate"===t.type)return I("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),P(P({},e),{},{binaryAnnotations:P(P({},e.binaryAnnotations),O({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var g=t.binaryAnnotationValueAndType,b=g.value,x=g.type;if(!e.binaryAnnotations[t.name])return P(P({},e),{},{binaryAnnotations:P(P({},e.binaryAnnotations),O({},t.name,{value:b,type:x}))});var E=e.binaryAnnotations[t.name].value||0;return I("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(E),"\n          operand: ").concat(String(b),"\n        }")),P(P({},e),{},{binaryAnnotations:P(P({},e.binaryAnnotations),O({},t.name,{value:b?t.operation(E,b):E,type:x}))})}if("addSubspan"===t.type){I("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&I("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var S=t.id||(0,m.Z)();-1!==e.spans.findIndex(function(e){return e.id===S})&&I("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(S,"}"));var T=0;return t.startTime?T=t.startTime:e.startTime?T=e.startTime:I("WARNING: adding subspan {".concat(t.name,"} without start time")),P(P({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:S,startTime:T,endTime:t.endTime||1/0,annotationMap:P({},t.annotations),binaryAnnotationMap:P({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){I("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&I("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var A,w=t.id||(0,m.Z)();-1!==e.spans.findIndex(function(e){return e.id===w})&&I("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(w,"}"));var j=t.parentName?null===(A=e.spans.find(function(e){return e.name===t.parentName}))||void 0===A?void 0:A.id:null;return P(P({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:w,parentId:t.parentId||j,startTime:y.Z.now(),endTime:1/0,annotationMap:P({},t.annotations),binaryAnnotationMap:P({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){I("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.filter(function(e){return e.name===t.name}).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var R=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return R>-1?(e.spans[R].endTime=y.Z.now(),t.annotations&&(e.spans[R].annotationMap=P(P({},e.spans[R].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[R].binaryAnnotationMap=P(P({},e.spans[R].binaryAnnotationMap),t.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(function(e){return e.name===t.currentName}).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var D=e.spans.findIndex(function(e){return e.name===t.currentName});return D>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(v(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(I("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[D].name=t.newName):(0,i.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var N=e.startTime,C=e.metricId,k=e.pwtStaticContext,M=e.annotations,L=e.binaryAnnotations,z=e.isSampled,U=e.spans,Z=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),z){var B=t.stopTime||y.Z.now(),H=v(U.map(function(t){t.endTime===1/0&&(t.endTime=B);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(I("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===U.length){var G=(0,m.Z)();H.push.apply(H,[{name:"network_resources",id:G,startTime:N,endTime:B,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(v((t.customStopwatchBuffer||[]).map(function(e){return(0,_.Z)((0,p.p)(e,[]),G)}).filter(Boolean))))}var F="initial_app_load"===C.navigationType&&(0,d.Z)(),V={type:"COMPLETE",traceId:Z,startTime:N,endTime:B,spans:H,annotationMap:P(P(P({},(0,h.Z)(M)),(0,c.jh)("browser_",F?(0,c.D3)(F):{})),(0,c.jh)("mark_",(0,l.gQ)())),binaryAnnotationMap:(0,u.ng)({metricId:C,pwtStaticContext:k,binaryAnnotations:L,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,f.Z)({metricId:C,pwtStaticContext:k,result:V})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("error"===t.type){var Y=t.error,W=t.stopwatchPerformanceObserver;return Y&&(0,i.H)(Y),W&&W.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var X=e.metricId,q=e.pwtStaticContext,K=t.reason||"";return(0,f.Z)({metricId:X,pwtStaticContext:q,result:{type:"ABORT",reason:K}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}}return e},A=function(e){var t,n=e.name,o=e.sampleRate,i=e.navigationType,s=e.manualAndResourceSpans,l=void 0!==s&&s,c=(0,a.N5)(),u=(0,r.useRef)([]),d=(0,r.useRef)(null),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(T,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||x(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],_=p[1];return c?{isTiming:f.isTiming,start:function(e){return window.PerformanceObserver&&(u.current=[],d.current=(0,g.Z)({entryTypes:["resource"]},function(e){u.current=u.current.concat(e.getEntries()),u.current.length>1e3&&(u.current=u.current.slice(-1e3))})),_({type:"start",startTime:e,name:n,navigationType:i,pwtStaticContext:c,isSampled:!o||Math.random()<o})},stop:function(e){return _({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:u.current,manualAndResourceSpans:l})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){_({type:"error",stopwatchPerformanceObserver:d.current,error:e})}),abort:function(e){return _({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:u.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return _({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:o})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;return _({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,a=e.parentId,s=e.id,l=e.bypassIsTimingCheck;return _({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===o?{}:o,binaryAnnotations:void 0===i?{}:i,parentId:void 0===a?null:a,id:void 0===s?null:s,bypassIsTimingCheck:void 0!==l&&l})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,a=e.id,s=e.bypassIsTimingCheck;return _({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===o?null:o,parentName:void 0===i?null:i,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==s&&s})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,a=e.bypassIsTimingCheck;return _({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,o=e.updateWhenStopwatchCompletes;return _({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===o||o})},getSpans:function(e,t){return f.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return f.traceId}}:null},w=n(819267),j=function(e){var t=e.name,n=e.sampleRate,s=e.abortOnUnloadOrClientNavigation,l=void 0===s||s,c=e.navigationType,u=e.manualAndResourceSpans,d=void 0!==u&&u,p=(0,o.Z)("Stopwatch_".concat(t)),f=p.Provider;return{Provider:function(e){var o=e.children,s=A({name:t,sampleRate:n,navigationType:c,manualAndResourceSpans:d}),u=(0,a.fM)(),p=u?u.time:0,_=(0,r.useRef)(!1),h=null==s?void 0:s.isTiming,g=(0,r.useCallback)(function(e){_.current?(_.current=!1,null==s||s.abort(e)):(0,i.A9)("WARN.".concat(t,".noTiming.abort"))},[s]),m=(0,r.useCallback)(function(e,t){null==s||s.annotate(e,t)},[s]),y=(0,r.useCallback)(function(e,t,n,r){null==s||s.binaryAnnotate(e,t,n,r)},[s]),b=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;null==s||s.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:i})},[s]),v=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,a=e.parentId,l=e.id,c=e.bypassIsTimingCheck;null==s||s.addSubspan({name:t,startTime:n,endTime:r,annotations:o,binaryAnnotations:i,parentId:a,id:l,bypassIsTimingCheck:c})},[s]),x=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,a=e.id,l=e.bypassIsTimingCheck;null==s||s.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:o,parentName:i,id:a,bypassIsTimingCheck:l})},[s]),E=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,a=e.bypassIsTimingCheck;null==s||s.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:a})},[s]),S=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,o=e.updateWhenStopwatchCompletes;null==s||s.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:o})},[s]),P=(0,r.useCallback)(function(e,t){return s?s.getSpans(e,t):[]},[s]),O=(0,r.useCallback)(function(){return s?s.getTraceId():0},[s]),I=(0,r.useCallback)(function(e){_.current?(_.current=!1,null==s||s.error(e)):(0,i.A9)("WARN.".concat(t,".noTiming.error"))},[s]),T=(0,r.useCallback)(function(e){_.current&&(null==s||s.abort("duplicated_init_stopwatch_action")),_.current=!0,null==s||s.start(e)},[s]),j=(0,r.useCallback)(function(e){_.current?(_.current=!1,null==s||s.stop(e)):(0,i.A9)("WARN.".concat(t,".noTiming.stop"))},[s]);(0,r.useEffect)(function(){return function(){l&&g("unloadOrClientNavigation")}},[p]);var R=(0,r.useMemo)(function(){return{isTiming:h,abort:g,addAnnotation:m,addBinaryAnnotation:y,binaryAnnotationOperation:b,addSubspan:v,subspanStart:x,subspanStop:E,getSpans:P,getTraceId:O,updateSubspanName:S,stop:j,error:I,start:T}},[h,g,m,y,b,v,x,E,P,O,S,j,I,T]);return(0,w.jsx)(f,{value:R,children:o})},useHook:p.useMaybeHook}}},59709:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(672652),o=function(e,t){var n=RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;var r=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,r),e.slice(r,r+t.length)]},i=n(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){var t=e.searchDelightText,n=e.searchDelightConfig,r=n.text_background_color,o=n.text_colors,a=void 0===o?[]:o,s=r?{backgroundColor:r,margin:"-2px",padding:"2px"}:void 0;if(!(a.length>1))return(0,i.jsx)("span",{style:l({color:a[0],whiteSpace:"pre-wrap"},s),children:t},"searchDelight-".concat(t));var c=0;return(0,i.jsx)("span",{style:l({whiteSpace:"pre-wrap"},s),children:t.split("").map(function(e,t){var n=a[c];return" "!==e&&(c=(c+1)%a.length),(0,i.jsx)("span",{style:{color:n},children:e},"searchDelight-".concat(t))})})}var u=n(684404),d=function(e){var t=e.children,n=e.gray,r=e.weight;return(0,i.jsx)(u.xv,{color:n?"subtle":void 0,inline:!0,weight:void 0===r?"normal":r,children:(0,i.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:t})})};function p(e){var t=e.allBold,n=e.searchDelightParts,o=e.searchDelightConfig,a=e.text,s=e.weightPivot,l=n[1],u=a.indexOf(l),p=u+l.length;return s<=u?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,s)}),(0,i.jsxs)(d,{weight:"bold",children:[a.substring(s,u),(0,i.jsx)(c,{searchDelightConfig:o,searchDelightText:l}),a.substring(p)]})]}):s<=p?(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,u)}),(0,i.jsxs)(d,{weight:"bold",children:[(0,i.jsx)(c,{searchDelightConfig:o,searchDelightText:l}),a.substring(p)]})]}):(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,u)}),(0,i.jsx)(d,{weight:"bold",children:(0,i.jsx)(c,{searchDelightConfig:o,searchDelightText:l})}),(0,i.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:a.substring(p,s)}),(0,i.jsx)(d,{weight:"bold",children:a.substring(s)})]})}function f(e){var t=e.allBold,n=e.searchDelightConfig,a=e.query,s=void 0===a?"":a,l=e.text,c=(l.toLowerCase().startsWith(s.toLowerCase())?s:"").length,u=n?n.search_query_list.map(function(e){return o(l,e)}).filter(Boolean).sort(function(e,t){return e&&t?t[1].length-e[1].length:0}).shift():null;return u&&n?(0,i.jsx)(p,{allBold:t,searchDelightConfig:n,searchDelightParts:u,text:l,weightPivot:c}):(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(d,{gray:!0,weight:t?"bold":"normal",children:l.substr(0,c)}),(0,i.jsx)(d,{weight:"bold",children:l.substr(c)})]})}},760132:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(672652),o=n(328038),i=n(684404),a=n(214274),s=n(140017),l=n(406893),c=n(340523),u=n(819267);function d(e){var t=e.gradientPrimaryColor,n=e.gradientSecondaryColor,r=e.gradientDirection,o=e.position;return(0,u.jsx)(i.xu,{bottom:"bottom"===o,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(t,", ").concat(n,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===o,width:"100%",zIndex:new i.Ry(1)})}var p=function(e){var t=e.children;return(0,u.jsx)(i.xv,{color:"subtle",inline:!0,lineClamp:1,children:t})};function f(e){var t,n=e.suggestedSearchTerms,o=e.defaultPlaceholder,a=e.height,c=e.gradientSecondaryColor,f=void 0===c?"#FFF":c,_=(0,s.ZP)(),h=0===n.length,g=(0,r.useRef)(null);return(0,u.jsx)(i.xu,{ref:g,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===a?48:a,overflow:"hidden",position:"relative",children:h?(0,u.jsx)(i.xv,{color:"subtle",inline:!0,children:o}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(d,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:f,position:"top"}),(0,u.jsx)(d,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:f,position:"bottom"}),(0,u.jsxs)(i.kC,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,u.jsx)(i.xv,{color:"subtle",inline:!0,overflow:"noWrap",children:_._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,u.jsx)(l.Z,{unsafeCSS:"\n@keyframes slide-3-terms{\n  0%,32.61%{\n    transform: translateY(0%);\n  }\n  50%,82.61%{\n    transform: translateY(-33.33%);\n  }\n  100%{\n    transform: translateY(-66.66%);\n  }\n}\n@keyframes slide-4-terms{\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-5-terms{\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,u.jsx)(i.xu,{children:(0,u.jsxs)(i.xu,{dangerouslySetInlineStyle:(t=n.length,{__style:{animation:"slide-".concat(t,"-terms-loop ").concat(2.3*(t+1),"s ease-out infinite forwards")}}),display:"inlineBlock",marginStart:1,children:[n.map(function(e){return(0,u.jsx)(i.xu,{marginBottom:7,children:(0,u.jsx)(p,{children:e})},e)}),(0,u.jsx)(i.xu,{marginBottom:7,children:(0,u.jsx)(p,{children:n[0]})})]})})]})]})})}var _=n(899384),h=n(370833),g=n(219117),m=n(149722);function y(e){var t=e.dataTestId,n=e.focusOptionId,d=e.isFocused,p=e.name,y=e.onBlur,b=e.onChange,v=e.onClick,x=e.onFocus,E=e.onKeyDown,S=e.onSearchTrigger,P=e.placeholder,O=e.value,I=e.disabled,T=e.searchBoxHovered,A=e.suggestedSearchTerms,w=(0,s.ZP)(),j=(0,r.useRef)(null),R=(0,c.F)().checkExperiment,D=(0,m.Z)().isAuth,N=(0,o.TH)(),C=(0,i.JZ)(),k=(0,_.b)(N),M=k.pageType,L=k.isEligiblePageTypeForDynamicSearchPlceholder,z=!D&&L&&!C&&R((0,g.Z)(M)).anyEnabled;(0,r.useEffect)(function(){j.current&&S&&j.current.addEventListener("searchTrigger",S)},[]),(0,r.useEffect)(function(){j.current&&document.activeElement===j.current!==d&&(d?j.current.focus():j.current.blur())},[d]);var U=z&&!O,Z=P||w._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box');return(0,u.jsxs)(i.xu,{flex:"grow",height:"100%",children:[(0,u.jsx)(l.Z,{unsafeCSS:"input::placeholder{ color: #767676".concat(U?"; opacity: 0":"","}")}),(0,u.jsx)("input",{ref:j,"aria-activedescendant":n,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":d,"aria-label":w._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-test-id":t,disabled:void 0!==I&&I,name:p,onBlur:y,onChange:function(e){b(e.target.value)},onClick:void 0===v?function(){}:v,onFocus:x,onKeyDown:E,placeholder:Z,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:a.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:O}),U&&(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,u.jsx)(f,{defaultPlaceholder:Z,gradientSecondaryColor:T?h.w:h.S,searchBoxHovered:T,suggestedSearchTerms:void 0===A?[]:A})}),(0,u.jsx)(i.xu,{display:"none",id:"searchBoxAccessibleText",children:w._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},899384:function(e,t,n){n.d(t,{Z:function(){return O},b:function(){return S}});var r,o=n(672652),i=n(780277),a=n(308082),s=n(328038),l=n(684404),c=n(96157),u=n(340523),d=n(5859),p=n(219117),f=n(217058),_=n(487487),h=n(554786),g=n(800516);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=void 0!==r?r:r=n(185239),S=function(e){var t={pageType:"other",isEligiblePageTypeForDynamicSearchPlceholder:!1};return(0,c.uM)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlceholder=!0):(0,c.am)(e)&&(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlceholder=!0),t},P=function(e){var t=e.fetchedSuggestedTerms,n=e.deviceType,r=e.pageType,o={deviceType:n,dataType:e.dataType,pageType:r};return t.length<3?((0,f.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",x({termsCount:t.length},o)),t=[]):(t=t.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,f.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",x({termsCount:t.length},o)),t=[]),t};function O(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,o.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||y(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1],m=(0,s.TH)(),v=(0,l.JZ)(),x=(0,_.Z)(m.pathname)||"",O=(0,d.B)().isAuthenticated,I=(0,u.F)().checkExperiment,T=(0,h.ZP)(),A=(0,c.uM)(m),w=(0,c.am)(m),j=S(m),R=j.pageType,D=j.isEligiblePageTypeForDynamicSearchPlceholder,N=(0,p.Z)(R),C=!O&&D&&N&&!v&&I(N).anyEnabled||!1,k=(0,a.useRelayEnvironment)(),M=(0,i.useSelector)(function(e){return(0,g.Z)(e)[m.pathname]}),L=(0,o.useCallback)(function(){(0,a.fetchQuery)(k,E,{pinId:x},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var t,n,o,i,a,s=[];null!==(t=e.v3GetPinQuery)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.isUnsafe?(0,f.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!==(o=e.v3GetPinQuery)&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&null!==(a=i.pinJoin)&&void 0!==a&&a.visualAnnotation&&(s=e.v3GetPinQuery.data.pinJoin.visualAnnotation),s=P({fetchedSuggestedTerms:s,deviceType:T,pageType:R,dataType:"vase"})),r(s.slice(0,5))},error:function(e){(0,f.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[T,x,k,R]),z=(0,o.useCallback)(function(){if(null!=M&&M.seo_related_interests){var e=M.seo_related_interests.reduce(function(e,t){return t.name?[].concat(function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.name]):e},[]);r((e=P({fetchedSuggestedTerms:e,deviceType:T,pageType:R,dataType:"board_annotations"})).slice(0,5))}},[M,R,T]);return(0,o.useEffect)(function(){!O&&C&&("desktop"!==T?r([]):(A&&L(),w&&z()))},[M,A,w,C,O,T,L,z]),(0,o.useEffect)(function(){A||w||0===n.length||r([])},[A,n.length,w]),n}},124946:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(672652),o=n(705318),i=n(638747),a=["bookmarks"];function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t,n,s,c,d,f,_,h,g,m,y,b,v,x=e.allowSearchOnMount,E=void 0!==x&&x,S=e.resourceName,P=e.resourceOptions,O=void 0===P?{}:P,I=e.value,T=(0,r.useRef)(!1),A=(0,r.useRef)({}),w=function(e){if(Array.isArray(e))return e}(v=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(v,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(v,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=w[0],R=w[1],D=(g=(t={resourceName:S,resourceOptions:O}).resourceName,m=t.resourceOptions,y=(0,i.vL)(),(b=(0,r.useRef)()).current||(b.current=(c=(0,(n={resourceCreator:y,resourceName:g,resourceOptions:m}).resourceCreator)(n.resourceName,p(p({},s=n.resourceOptions),{},{count:"count"in s?s.count:5})),d=new o.Z,f=function(){c.abort()},_=u(regeneratorRuntime.mark(function e(t,n){var r,o,i,s,l,u,_,h,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isCalling()){e.next=8;break}if(i=null===(r=c.options)||void 0===r?void 0:r.term,s=null===(o=c.options)||void 0===o?void 0:o.pin_scope,!(t===i&&n===s)){e.next=7;break}return e.abrupt("return",void 0);case 7:f();case 8:return(l=c.options||{}).bookmarks,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(l,a),c.options=p(p({},u),{},{term:t,pin_scope:n}),e.next=12,c.callGet({showError:!1});case 12:return h=null==(_=e.sent.resource_response.data)?void 0:_.items,m={hint:g=(null==_?void 0:_.hint)||{},items:h},d.set("".concat(n,"-").concat(t),m),e.abrupt("return",{term:t,items:h,hint:g});case 19:case"end":return e.stop()}},e)})),h=u(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.get("".concat(n,"-").concat(t)))||!((o=r.items)&&o.length)){e.next=7;break}return f(),i=r.hint,e.abrupt("return",{hint:i,items:o,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",function(e,t){return _.apply(this,arguments)}(t,n));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}},e)})),function(e,t){return h.apply(this,arguments)})),b.current),N=O.pin_scope||"pins",C="".concat(N,"-").concat(I);return(0,r.useEffect)(function(){u(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=I&&""!==I&&(E||T.current))){e.next=17;break}if(!(C in A.current)){e.next=5;break}R(A.current[C]),e.next=17;break;case 5:return e.prev=5,e.next=8,D(I,N);case 8:(t=e.sent)&&(n=t.items,A.current[C]=n,R(n)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:T.current||(T.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[I,N,C]),j}},207099:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(337478);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t=e.query,n=e.rs,a=e.scope,s=e.guideAdded,l=e.filters,c=e.user,u=e.requestParams,d=e.selectedOneBarModules;if(!t)return"/";var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({q:t,rs:n},u);if(l&&(p.filters=l),c&&(p.user=c),d&&(p.selected_one_bar_modules=d),s&&s.term&&(p.add_refine="".concat(s.term,"|guide|word|").concat(s.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(p));var f=a;return["pins","buyable_pins","my_pins","boards","users","idea_pins","videos"].includes(f)||(f="pins"),f?"/search/".concat(f,"/?").concat((0,r.Z)(p)):"".concat(window.location.pathname,"?").concat((0,r.Z)(p))}},370833:function(e,t,n){n.d(t,{S:function(){return o},w:function(){return r}});var r="#E1E1E1",o="#F1F1F1"},768806:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(624797);function o(e){var t,n=(0,r.mB)(e.search)||{};if(n.q){var o=e.pathname.split("/");t=o.length>2?o[2]:"pins"}if(n.q&&t){var i=Array.isArray(n.q)?n.q.join(" "):n.q,a=Array.isArray(n.rs)?"":n.rs,s=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:s,query:i||"",rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},219117:function(e,t){t.Z=function(e){return"pin"===e?"dweb_unauth_dynamic_search_placeholder":"board"===e?"dweb_unauth_dynamic_search_placeholder_board":""}},314018:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(860208),o=n(337478);function i(e){var t=e.bubbleId,n=e.pinId,i=e.query,a=e.referringSource,s=e.storyCategory,l=e.storyId,c=e.title,u=[0,24,21,26].includes(s),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:l,top_pin_id:n}),p=u&&c?(0,r.x)({title:c,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return u?p:"/search/pins/".concat(d?"?"+d:"")}},980803:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},575742:function(e,t,n){n.d(t,{J:function(){return r},Z:function(){return o}});var r=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},873955:function(e,t,n){var r=n(958881),o=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,r.Z)(o,e,t)}},498659:function(e,t){t.Z=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}},958881:function(e,t){t.Z=function(e,t,n){return t?t.replace(e,function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""}):""}},427514:function(e,t,n){var r=n(873955),o=n(498659);t.Z=function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]?(0,o.Z)(t[e].toString()):""}),(0,r.Z)(e,n)}},627408:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(672652),o=n(541841),i=n(901855),a=n(5859),s=n(520893),l=n(503325),c=(0,n(342513).Z)("timeSpentContext"),u=c.Provider,d=c.useMaybeHook,p=n(822987),f=n(19447),_=n(819267);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(c,e);var t,n,i,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(c);if(t){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function c(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),E(v(t=a.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),E(v(t),"getContext",function(){var e=t.props,n=e.clientTrackingParams,r=e.component,o=e.element,i=e.objectId,a=e.timeSpentContext,s=e.view,l=e.viewParameter;return{view:s||(null==a?void 0:a.view),viewParameter:l||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:o,objectId:i||(null==a?void 0:a.objectId),clientTrackingParams:n||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),E(v(t),"getLoggerContext",function(){var e=m({},t.getContext());return delete e.getParentUuid,e}),E(v(t),"getParentId",function(){var e=t.props,n=e.timeSpentContext,r=e.shouldUseGrandparentId;if(void 0!==r&&r&&n&&n.getGrandparentUuid){var o=n.getGrandparentUuid();if(o)return o}return n&&n.getParentUuid?n.getParentUuid():void 0}),E(v(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),E(v(t),"getTimedPair",function(){return t.state.timedPair}),E(v(t),"setTimedPair",function(e,n){t.setState({timedPair:e},function(){n&&n()})}),E(v(t),"isRegistered",!1),E(v(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(v(t)),t.isRegistered=!0}),E(v(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(v(t)),t.isRegistered=!1)}),E(v(t),"handleVisibilityChange",function(e){var n=e[0].intersectionRatio,r=e[0].intersectionRect,o=r.bottom,i=r.left,a=r.right,s=r.top;n>0?t.registerComponent():0===n&&(0===o&&0===i&&0===a&&0===s?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new l.Z(t.getLoggerContext())},t}return n=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props.children;return(0,_.jsx)(u,{value:this.getContext(),children:(0,_.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(e)})})}}],y(c.prototype,n),i&&y(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.Component);function O(e){var t,n=(0,i.Hv)(),o=d(),s=(0,p.w)(),l=(0,f.H0)(),c=(0,a.B)().requestIdentifier,u=m({app_instance_id:(void 0===c?"":c).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{});return(0,r.useEffect)(function(){null==s||s.setHistoryStackContext(n)},[n,s]),(0,r.useEffect)(function(){null==s||s.setPins(null!=l?l:{})},[l,s]),s?(0,_.jsx)(P,m(m({},e),{},{auxData:u,timeSpentContext:o,timeSpentManager:s,children:e.children})):e.children}O.displayName="TimeSpent";var I=O},843964:function(e,t){t.Z=function(){return window.location.pathname}},373543:function(e,t,n){var r=n(623891);t.Z=function(e){var t=e.url;if(t){var n=t.split("?");if(n[1])return(0,r.Z)(n[1])}return(0,r.Z)()}},973435:function(e,t){t.Z=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},477458:function(e,t,n){n.d(t,{q:function(){return s}});var r=n(672652);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=o((0,r.useState)(!1),2),a=i[0],s=i[1],l=o((0,r.useState)(!1),2),c=l[0],u=l[1];return{active:t,focused:a,hovered:c,onBlur:function(){s(!1),n(!1)},onFocus:function(){return s(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function s(e){return(0,e.children)(a())}t.Z=a},872038:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(672652),o=n(684404),i=n(819267);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var h={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"#d7edff",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"#ffe0e0",boxShadow:"0 0 0 1px #e60023"}},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(_,e);var t,n,r,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(_);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function _(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(d(e=s.call.apply(s,[this].concat(n))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),f(d(e),"handleOnDragEnter",function(t){var n=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),n&&n(t)}),f(d(e),"handleOnDragLeave",function(t){var n=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)}),f(d(e),"handleOnDragOver",function(t){var n=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),n&&n(t)}),f(d(e),"handleOnDrop",function(t){var n=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)}),f(d(e),"handleMouseEnter",function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})}),f(d(e),"handleMouseLeave",function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})}),f(d(e),"setContainedHeight",function(t){e.setState({containedHeight:t})}),e}return n=[{key:"getDragContainerStyles",value:function(e,t){return t&&"default"===e?l(l({},h[e]),{},{backgroundColor:t}):h[e]}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.dropRounding,a=e.hasError,s=e.height,c=e.position,u=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,_=d.containedHeight,h=p?"drag":a?"error":"default";return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:l(l({},this.getDragContainerStyles(h,n)),r?{borderRadius:r}:{})},"data-test-id":"drag-behavior-container",height:s||_||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:c,rounding:2,width:u||"100%",children:t(p,f,this.setContainedHeight,_)})}}],c(_.prototype,n),r&&c(_,r),Object.defineProperty(_,"prototype",{writable:!1}),_}(r.Component)},979702:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(672652),o=n(684404),i=n(872038),a=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var _={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,n,r,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(h);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=f.call.apply(f,[this].concat(n))),"handleChange",function(t){var n=e.props.onChange;t.preventDefault(),t.stopPropagation(),n&&n(t),t.target.value=""}),p(u(e),"handleClick",function(t){var n=e.props.onClick;n&&n(t)}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.accessibilityLabel,s=t.allowMultipleFiles,l=t.children,c=t.color,u=t.dropRounding,d=t.hasError,p=t.height,f=t.id,h=t.onDrop,g=t.position,m=t.rounding,y=void 0===m?2:m,b=t.width,v=t.isAriaHidden,x=void 0===v?void 0:v,E=t.experimentsClient;return(0,a.jsx)(i.Z,{color:c,dropRounding:u,experimentsClient:E,hasError:d,height:p,onDrop:h,position:g,width:b,children:function(t){return(0,a.jsxs)(o.xu,{height:"100%",position:"relative",rounding:y,children:[l(t),(0,a.jsx)("input",{accept:n,"aria-hidden":x,"aria-label":r,"data-test-id":f,id:f,multiple:s,onChange:e.handleChange,onClick:e.handleClick,style:_,tabIndex:x?-1:0,type:"file"})]})}})}}],l(h.prototype,n),r&&l(h,r),Object.defineProperty(h,"prototype",{writable:!1}),h}(r.Component)},478492:function(e,t,n){n.d(t,{P7:function(){return o},Zx:function(){return s},sc:function(){return a},ss:function(){return i},xl:function(){return r}});var r=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],o=["bmp","gif","jpg","jpeg","png","tiff","webp"],i=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],s={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},622270:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(339001),o=n(203966),i=n(984234);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,s,l){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:t._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:n,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:t._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var c,u=function(e){if(Array.isArray(e))return e}(c=i.Z.enabled("pinQuality")||null!=l&&l.isStoryPin?[300,200]:[100,100])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(c,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],p=u[1];return{dispatchId:n,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(t._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:d,minWidth:p,pixelString:t.ngettext('pixel', 'pixels', p, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:n,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:t._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:n,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(t.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var f=Math.floor(4);return{dispatchId:n,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', f, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:f}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var _=o.W_;return{dispatchId:n,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', _, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:_}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:t._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:n,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:t._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:n,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(o.P9)}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":var h=Math.floor(o.FH)/60;return{dispatchId:n,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:h}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":var g=Math.floor(null!=s?s:o.FH)/60;return{dispatchId:n,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN",type:"error",message:(0,r.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:g}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:n,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var m=o.Lr/1024/1024;return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', m, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:m}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:t._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:t._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:n,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:t._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:n,id:"GENERAL_ERROR",type:"error",message:t._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},643749:function(e,t,n){var r=n(512419),o=n(622270);t.Z=function(e){return function(t){return new Promise(function(n,i){var a=new Image;a.addEventListener("load",function(){return n({fileSrc:t,height:a.height,id:(0,r.Z)(),name:t.name,size:t.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return i((0,o.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(t)})}}},744627:function(e,t,n){var r=n(512419),o=n(622270),i=n(354185);t.Z=function(e){return function(t){return new Promise(function(n,a){var s,l=new FileReader,c=((null===(s=window.navigator)||void 0===s?void 0:s.userAgent)||"").includes("Safari")?t.slice(0,t.size,"video/mp4"):t,u=URL.createObjectURL(c);l.addEventListener("load",function(){var s=document.createElement("video");s.addEventListener("loadedmetadata",function(){return n({id:(0,r.Z)(),duration:s.duration,fileSrc:t,height:s.videoHeight,name:t.name,size:t.size,src:s.src,thumbnail:0,type:"localVideo",width:s.videoWidth})}),s.addEventListener("error",function(){a((0,o.Z)((0,i.Z)(),e))}),s.src=u}),l.readAsDataURL(t)})}}},354185:function(e,t,n){n.d(t,{Z:function(){return r}});function r(){var e,t=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(t.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(t.includes("SamsungBrowser")||t.includes("Opera")||t.includes("OPR")||t.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(t.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},324115:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(478492),o=n(622270),i=n(643749),a=n(984234),s=n(622350);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=n(203966),u=n(744627),d=n(354185),p="enabled_min",f="employees_min";function _(e){var t,n,_=e.i18n,h=e.file,g=e.options,m=e.ideaPinRenamingEnabled,y=g||{},b=y.allowVideo,v=y.videoOnly;return r.ss.includes(h.type)&&b?(n=(t=(g||{}).forStoryPin)?c.Lr:2147483648,h.size>n?Promise.resolve((0,o.Z)(t?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",_)):(0,u.Z)(_)(h).then(function(e){var t,n,r,i,s,l,u,h,m,y,b;return t=_,n=e,i=(r=g||{}).forStoryPin,s=r.allowAllAspectRatios,h=(u=(l=!!i)&&a.Z.enabled("ideaPinExtendVideoLength"))&&a.Z.enabled("ideaPinExtendVideoLengthAboveTwoMin"),m=function(){if(h){var e=a.Z.getExperimentGroup("ideaPinExtendVideoLengthAboveTwoMin");if(e){var t=e.startsWith(p)&&e.length>p.length?parseInt(e.substring(p.length),10):e.startsWith(f)&&e.length>f.length?parseInt(e.substring(f.length),10):-1;if(t>0)return 60*t+.5}}return u?c.FH:c.P9}(),y=l?c.W_:4,b=l?m:900,n.duration<y?(0,o.Z)(l?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",t):n.duration>b?(0,o.Z)(l?h?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":u?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",t,void 0,m):n.width&&n.height?!s&&(n.width/n.height<.5||n.width/n.height>1.91)?(0,o.Z)("VIDEO_UNSUPPORTED_RATIO",t):n.width<100||n.height<100?(0,o.Z)("VIDEO_UNDER_MIN_DIMENSIONS",t):n:(0,o.Z)((0,d.Z)(),t)}).catch(function(e){return e})):!r.xl.includes(h.type)||v?Promise.resolve((0,o.Z)("FILE_UNRECOGNIZED_TYPE",_)):h.size>20971520?Promise.resolve((0,o.Z)("IMAGE_OVER_MAX_FILE_SIZE",_)):(0,i.Z)(_)(h).then(function(e){var t,n,r,o,i,c;return r=(n=function(e){if(Array.isArray(e))return e}(t=a.Z.enabled("pinQuality")||null!=g&&g.isStoryPin?[300,200]:[100,100])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=n[1],i=(null==g?void 0:g.minHeight)||r,c=(null==g?void 0:g.minWidth)||o,e.height*e.width>89478485?(0,s.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:_,ideaPinRenamingEnabled:m}):e.height<i||e.width<c?(0,s.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:_,ideaPinRenamingEnabled:m,options:g}):e}).catch(function(e){return e})}},987034:function(e,t,n){n.d(t,{$R:function(){return y},Gd:function(){return u},I3:function(){return E},Kr:function(){return l},MJ:function(){return S},MP:function(){return p},Mm:function(){return r},OV:function(){return s},Tp:function(){return f},YB:function(){return o},bA:function(){return h},c3:function(){return v},h0:function(){return i},js:function(){return a},lc:function(){return g},mU:function(){return m},mw:function(){return x},nt:function(){return b},nv:function(){return d},rb:function(){return c},wt:function(){return _}});var r=",",o="-",i="\n",a="/",s=", ",l=["brandAwareness","consideration","videoViews"],c="Product | Media Planning Tool",u="http://pinch/mediaplanningpod",d="https://docs.google.com/document/d/1ExHoefENHwEiq56tGxUAHOxoX16Lc_7JGr99RVgDScM/edit#bookmark=kix.8xm9361cbpul",p="https://docs.google.com/document/d/1uSmZXN-TEjwm7_AjrDSEV5NzFM6P6FX8GFa7IeSXjwM/edit#bookmark=id.d23e6qi02ovi",f=Object.freeze({UTM_SOURCE:"utm_source"}),_={"Collections ad":"SHOP_THE_PIN","Shopping ad":"SHOPPING"},h={ALL:"ALL",SEARCH:"SEARCH",BROWSE:"BROWSE"},g="PUBLISHED",m="UNPUBLISHED",y={READY:"READY",INITIALIZING:"INITIALIZING",PERSONAS_INELIGIBLE_SIZE:"PERSONAS_INELIGIBLE_SIZE",TOO_SMALL:"TOO_SMALL",IN_PROGRESS:"IN_PROGRESS",INITIALIZING_PERSONA:"INITIALIZING_PERSONA"},b=1000535,v=506009,x="gpt-4-turbo",E="/internal/planning_hub/gpt/",S="POST"},506868:function(e,t,n){n.d(t,{B:function(){return p},db:function(){return u},eg:function(){return f}});var r=n(512419),o=n(543867),i=n(886569);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=/.*\((\d{12})\)$/,u=function(e){var t=e;if(isNaN(e)){var n=e.match(c);n&&(t=n[1])}return t},d={name:"".concat((0,o.Z)(new Date)," | Ad group"),autoTargetingEnabled:!0,optimization:"PIN_CLICK",optimizationConversionEvent:"CHECKOUT",conversionWindow:"7/7/1",targeting:{selectedAges:[],selectedAdFormats:[],selectedLanguages:[],selectedDevices:[],selectedGenders:[],selectedLocations:["US"],selectedRegions:{},selectedMetros:{},selectedZipCodes:[],keywords:"",selectedInterests:{},selectedInterestsLabels:[],audienceListsInclude:[],audienceListsExclude:[],selectedAudienceLists:[],productGroups:{},placement:["all"],frequency:{timeRange:"optional"}}},p=function(e){return l(l({},l(l({},d),{},{optimization:e||d.optimization})),{},{id:(0,r.Z)()})},f={id:"",name:"",budgetType:"daily",objective:"consideration",budgetMicro:void 0,startDate:(0,i.Z)((0,o.Z)(new Date)),endDate:void 0,adGroups:[p()],tiersBudgetMicro:[],tiersBudgetPercentage:[],isExportTiers:!1,isSpotlightEnabled:!1}},939809:function(e,t,n){n.d(t,{Cy:function(){return p},HE:function(){return f},Mv:function(){return l},PR:function(){return m},Y4:function(){return _},dL:function(){return s},fS:function(){return h},fv:function(){return u},lu:function(){return g},qS:function(){return d},uc:function(){return c}});var r=n(666472);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},l=function(e){var t=(0,r.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},c=function(e){var t=(0,r.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},u=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},d=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},h=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},g=function(e){var t,n=(0,r.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(t=e.slotIndex)&&void 0!==t?t:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:n})},m=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},3889:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(328038),o=n(684404),i=n(525364),a=n(96157),s=n(48481),l=n(554786),c=n(472980),u=n(126189),d=n(686703),p=n(253812),f=n(669501),_=n(82147),h=n(866265),g=n(819267),m={signup:{attributionLabel:"click_signup_on_header",signupFlow:{type:"signup"},source:"defaultSource"},login:{attributionLabel:"click_login_on_header",signupFlow:{type:"login"},source:"login"}},y=function(e){var t=e.deviceType,n=(0,r.TH)(),s=(0,c.Z)(),l=(0,h.Z)(),m=(0,d.n)(),y=(0,i.SU)(),b=y.viewParameter,v=y.viewType,x=(0,g.jsxs)(o.xu,{color:"default",children:["tablet"===t?!(0,a.En)(n)&&!(0,a.Xn)(n)&&(0,g.jsx)(f.Z,{}):l&&!(n.pathname.includes("_created")||n.pathname.includes("boards")&&!(0,a.En)(n)||n.pathname.includes("_saved"))&&!s&&(0,g.jsx)(_.Z,{})," "]});return m.showReferredAppUpsell?(0,g.jsx)(u.Z,{onDismiss:function(){return m.setShowReferredAppUpsellVal(!1)},viewParameter:b,viewType:v}):(0,a.mP)(n)?(0,g.jsx)(o.xu,{position:"fixed",width:"100%",zIndex:p.J,children:x}):(0,g.jsx)(o.Le,{top:0,zIndex:p.J,children:x})};function b(e){var t=e.showDesktopSignupModal,n=(0,l.ZP)(),i=(0,r.TH)(),c=(0,s.Z)();if("desktop"===n){var u=(0,g.jsx)(f.Z,{showDesktopSignupModal:t&&function(e){return(0,a.C$)(i)?c({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"login"===e?"click_login_on_header":"click_signup_on_header",desktopOptions:{modalType:e,modalOptions:{source:"homePage",container:"home_page"}}}):t({signupFlow:m[e].signupFlow,attributionLabel:m[e].attributionLabel,source:m[e].source,container:"unauth_header",reason:"CLICK_LOGIN_OR_SIGNUP"})}});return(0,a.mP)(i)||(0,a.hd)(i)?(0,g.jsx)(o.xu,{position:"fixed",width:"100%",zIndex:p.$,children:u}):!((0,a.Ni)(i)||(0,a.Xn)(i))&&"/invited/"!==i.pathname&&u}return(0,g.jsx)(y,{deviceType:n})}},253812:function(e,t,n){n.d(t,{$:function(){return i},J:function(){return o}});var r=n(684404),o=new r.Ry(5),i=new r.Ry(1e3)},572345:function(e,t,n){n.d(t,{O:function(){return c},Z:function(){return u}});var r=n(672652),o=n(684404),i=n(140017),a=n(702497),s=n(819267),l={xs:12,sm:16,md:20,lg:24};function c(e){var t=e.children,n=(0,i.ZP)();return(0,s.jsx)(o.u,{link:(0,s.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,s.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.iconOnly,n=e.isVerifiedIdentity,a=e.isVerifiedMerchant,u=e.showText,d=e.size,p=(0,i.ZP)(),f=(0,s.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(o.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),u&&(0,s.jsx)(o.xu,{marginStart:2,children:(0,s.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(r.Fragment,{children:[a&&!t&&(0,s.jsx)(c,{children:f}),a&&t&&f,n&&!a&&(0,s.jsx)(o.JO,{accessibilityLabel:p._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},67664:function(e,t,n){n.d(t,{A:function(){return s},Z:function(){return l}});var r=n(672652),o=n(684404),i=n(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l(e){var t,n,l,c=e.backgroundColor,u=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,_=e.id,h=e.isHovered,g=e.onClick,m=e.onMouseDown,y=e.onMouseEnter,b=e.onMouseLeave,v=e.searchBoxRenderStopwatch,x=e.url,E=e.width,S=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=S[0],O=S[1],I=function(){y?y():O(!0)},T=function(){b?b():O(!1)},A=h||P,w=A?s.hoverOverlay:s.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:x,onBlur:T,onFocus:I,onMouseDown:m,onMouseEnter:I,onMouseLeave:T,onTap:function(){null==g||g(_)},rounding:4,tabIndex:p?-1:void 0,children:(0,i.jsx)(o.zd,{height:f,rounding:4,width:E||"100%",children:null!=d&&d.url?(0,i.jsxs)(o.Ee,{alt:"",color:c,fit:"cover",naturalHeight:null!==(n=d.height)&&void 0!==n?n:1,naturalWidth:null!==(l=d.width)&&void 0!==l?l:1,onLoad:function(){null==v||v.stop()},role:"presentation",src:d.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:w},height:"100%",width:"100%"}),"function"==typeof u?u({isHovered:A}):u]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},height:"100%",width:"100%"})})})}},739711:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(672652),o=n(684404),i=n(107366),a=n(930837),s=n(454514),l=n(140017),c=n(13848),u={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}},d=n(819267);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(a);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=i.call.apply(i,[this].concat(n))),"state",{hovered:!1}),b(m(e),"handleMouseEnter",function(){return e.setState({hovered:!0})}),b(m(e),"handleMouseLeave",function(){return e.setState({hovered:!1})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.backgroundHaloSize,n=e.onClick,r=e.color,i=Object.freeze({height:t,width:t}),a=_({border:0,display:"block",background:"transparent",cursor:"pointer"},u.buttonFocus),s=_(_(_({},u.pog),u.transparent),this.state.hovered?u.transparentHovered:{}),l=_(_({},i),s);return(0,d.jsx)("button",{onClick:function(e){return n&&n({event:e})},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,d.jsx)("div",{style:l,children:(0,d.jsx)(o.xu,{rounding:"circle",children:(0,d.jsx)(o.JO,{accessibilityLabel:"",color:void 0===r?"subtle":r,icon:"flag",size:t/2})})})})}}],h(a.prototype,n),r&&h(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component),E=n(825784);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(u,e);var t,n,l,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=j(u);if(t){var r=j(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function u(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var e,t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return R(w(e=c.call.apply(c,[this].concat(r))),"state",{showModal:!1,reportType:null}),R(w(e),"handleDismiss",function(){return e.setState({showModal:!1})}),R(w(e),"handleClick",function(){"image"===e.state.reportType?e.reportSuggestionImage():e.reportSuggestionText()}),R(w(e),"reportSuggestionImage",(t=regeneratorRuntime.mark(function t(){var n,r,o,a,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=e.props).imgSignature,o=n.reportImage,e.setState({showModal:!1}),t.next=4,(0,i.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:r}});case 4:s=(a=t.sent.resource_response.data).id,l=a.node_id,o({id:s,nodeId:l});case 7:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){I(i,r,o,a,s,"next",e)}function s(e){I(i,r,o,a,s,"throw",e)}a(void 0)})})),R(w(e),"reportSuggestionText",function(){var t=e.props,n=t.handleReport,r=t.toastManagerContext;n&&(n(),r.showToast(function(t){var n=t.hideToast;return(0,d.jsx)(s.ZP,{onHide:n,text:e.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})}),e.handleDismiss())}),R(w(e),"showModal",function(t){var n=t.event;n.stopPropagation(),n.preventDefault(),e.setState({showModal:!0})}),e}return n=[{key:"render",value:function(){var e=this,t=this.state.showModal;return(0,d.jsxs)(r.Fragment,{children:[this.props.isVisible&&(0,d.jsx)(x,{backgroundHaloSize:24,onClick:this.showModal}),t&&(0,d.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(o.xu,{padding:5,children:(0,d.jsx)(o.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,d.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,d.jsxs)(o.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,d.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,d.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:function(){return e.setState({reportType:"text"})},value:"Report search text"}),(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.__,{htmlFor:"textType",children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,d.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,d.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:function(){return e.setState({reportType:"image"})},value:"Report search image"}),(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.__,{htmlFor:"imageType",children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,d.jsx)(o.iz,{}),(0,d.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,d.jsx)(o.xu,{margin:2,children:(0,d.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,d.jsx)(o.xu,{margin:2,children:(0,d.jsx)(o.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion')})})]})]})]})})]})}}],T(u.prototype,n),l&&T(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.PureComponent);function C(e){var t=(0,l.ZP)(),n=(0,E.f)().reportImage;return(0,d.jsx)(N,O(O({},e),{},{i18n:t,reportImage:n,toastManagerContext:(0,c.F9)()}))}},373805:function(e,t,n){n.d(t,{Z:function(){return tU}});var r,o,i,a,s=n(672652),l=n(328038),c=n(684404),u=n(341309),d=n(499041),p=n(214877),f=n(140017),_=n(494125),h=n(819267);function g(e){var t=e.showCancel,n=(0,f.ZP)(),r=(0,l.$B)().path,o=(0,p.v)().logContextEvent,i=(0,d.t)(),a=i.setImage,s=i.setUpdatedCropArea,u=i.setIsLensModalOpen,g="/lens-search"===r;(0,_.Z)(function(){o({component:43,element:1304,event_type:120})});var m=function(){o({component:43,element:1304,event_type:101}),u(!0)};return(0,h.jsxs)(c.kC,{alignItems:"center",direction:"row",height:"100%",children:[t&&(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #cdcdcd",borderRadius:24}},"data-test-id":"lens-vertical-line",height:20}),(0,h.jsx)(c.hU,{accessibilityLabel:n._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",iconColor:"gray",onClick:function(){g||(a(void 0),s(void 0)),m()}})]})}var m=n(150984),y=n(757640),b=n(928162),v=n(477458);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(){var e,t=(0,f.ZP)(),n=(0,d.t)(),r=n.setHistoryData,o=n.setImage,i=n.setIsLensModalOpen,a=(0,l.k6)(),u=(0,p.v)().logContextEvent,_=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=_[0],m=_[1],E=(0,y.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/history/",data:{fields:"id,image_urls,image_sizes"}},noCache:!0}),S=E.data,P=void 0===S?[]:S,O=E.isLoaded&&P&&P.length>0;(0,s.useEffect)(function(){!g&&O&&(u({component:15075,element:14560,event_type:120,view_type:119}),m(!0))},[O,u,m,g]),(0,s.useEffect)(function(){O&&r(P)},[r,P,O]);var I=function(){o(void 0),i(!1),u({component:15075,element:14560,event_type:101,view_type:119}),a.push("/lens-search/history")};return P&&0!==P.length?(0,h.jsx)(v.q,{children:function(e){var n=e.hovered,r=e.onMouseEnter,o=e.onMouseLeave;return(0,h.jsx)(c.iP,{onTap:I,children:(0,h.jsxs)(c.xu,{alignContent:"between",dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, .1)":void 0}},direction:"row",display:"flex",height:110,onMouseEnter:r,onMouseLeave:o,position:"relative",rounding:4,width:"100%",children:[(0,h.jsx)(c.xu,{marginTop:2,position:"relative",width:112,children:P.slice(0,3).map(function(e,t){return(null==e?void 0:e.id)&&t<3&&(0,h.jsx)(b.Z,{card:{url:e.image_urls["236x236"]},fanOut:!1,index:t,rounding:4,size:"SMALL"},e.id)})}),(0,h.jsxs)(c.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingX:2,width:"calc(100% - ".concat(112,"px)"),children:[(0,h.jsxs)(c.kC,{alignItems:"stretch",direction:"column",gap:1,justifyContent:"start",children:[(0,h.jsx)(c.X6,{size:"400",children:t._('History', 'lens.history', 'header for the history count')}),(0,h.jsx)(c.xv,{size:"200",children:t._('View previous uploads', 'lens.previous.uploads', 'previously uploaded lens image history ')})]}),(0,h.jsx)(c.JO,{accessibilityLabel:t._('Lens history', 'lens.history.navigation.button', 'Clicking on the button will navigate the user to the Lens History landing page'),color:"default",icon:"arrow-forward"})]})]})})}}):null}var S=n(512691),P=n(120889),O=n(930837),I=n(339001),T=n(343902),A=n(973435),w=n(478492),j=n(979702),R=n(324115);function D(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){D(i,r,o,a,s,"next",e)}function s(e){D(i,r,o,a,s,"throw",e)}a(void 0)})}}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||k(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function z(){var e,t=(0,f.ZP)(),n=(0,l.k6)(),r=(0,d.t)(),o=r.historyData,i=r.image,a=r.setHeroImageUrl,u=r.setImage,g=r.setImageData,y=r.setIsLensModalOpen,b=(0,l.$B)().path,v=(0,p.v)().logContextEvent,x=C((0,s.useState)(347),2),D=x[0],z=x[1],U=C((0,s.useState)(""),2),Z=U[0],B=U[1],H=C((0,s.useState)(""),2),G=H[0],F=H[1],V=C((0,s.useState)(null),2),Y=V[0],W=V[1],X=C((0,s.useState)(""),2),q=X[0],K=X[1],$=(0,s.useRef)(),Q="/lens-search"===b,J="/lens-search/history"===b;(0,_.Z)(function(){v({component:15075,event_type:120,view_type:119})}),(0,s.useEffect)(function(){""===Z?K(""):F("")},[Z]),(0,s.useEffect)(function(){(Q||J)&&Y&&!i&&(y(!1),J&&n.push("/lens-search/"))},[y,n,Q,i,Y,J]),(0,s.useEffect)(function(){i&&!Q&&(n.push("/lens-search/"),y(!1))},[n,Q,i,y]),(0,s.useEffect)(function(){o&&o.length>0&&347===D&&z(D+110+12)},[o,z,D]);var ee=function(e){var t=new FormData;t.append("image",e),(0,P.Z)({url:"/upload-image-lens-history/",type:"PUT",data:t})},et=(0,s.useCallback)(N(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=14;break}return e.prev=1,e.next=4,(0,S.Z)(Y,g);case 4:return n=e.sent,e.next=7,(0,R.Z)({i18n:t,ideaPinRenamingEnabled:!1,file:n,options:{allowVideo:!1}});case 7:"error"===(r=e.sent).type?F(r.message):(F(""),u(n),ee(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),F(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[1,11]])})),[Y,F,u,t,g]),en=function(e){var n=(0,A.Z)({url:e});v({component:15075,element:14559,event_type:15656,view_type:119}),n?K(""):K(t._('Invalid URL. Try using another link', 'lens.url.invalid', 'Error message for invalid URL in Lens Image Search')),u(void 0),N(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Z)(e);case 2:W(t.sent);case 4:case"end":return t.stop()}},t)}))(),e&&((0,m.Z)(e),a(e))},er=function(){u(void 0),a(void 0)};return(0,s.useEffect)(function(){Y&&et()},[et,Y]),(0,h.jsx)(O.ZP,{accessibilityModalLabel:t._('Lens modal', 'lens.modal.accessibilityLabel', 'Modal for Lens Image Search'),align:"start",heading:(0,h.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",children:[(0,h.jsx)(c.X6,{accessibilityLevel:1,size:"500",children:t._('Upload an image to search', 'lens.modal.header', 'Header for Lens Image Search modal')}),(0,h.jsx)(c.hU,{accessibilityLabel:t._('Lens icon', 'lens.entrypoint.icon', 'Icon for lens entrypoint'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){return y(!1)},size:"md"})]}),isOpen:!0,onDismiss:function(){return y(!1)},size:"sm",children:(0,h.jsx)(c.xu,{height:D,marginTop:1,paddingX:6,children:(0,h.jsxs)(c.xu,{height:311,position:"relative",children:[(0,h.jsx)(j.Z,{accept:((function(e){if(Array.isArray(e))return M(e)})(e=w.xl)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(","),accessibilityLabel:t._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!G,id:"lens-photo-upload-input",onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(v({component:15075,element:14558,event_type:15656,view_type:119}),W(n)),er()},onDrop:function(e){var n=e.dataTransfer.files;v({component:15075,event_type:3501,view_type:119}),n.length>1?F(t._('We can\u2019t search multiple images at once', 'lens.error.multipleImages', 'Error message for uploading multiple images in Lens Image Search')):(F(""),W(e.dataTransfer.files[0])),er()},children:function(){return(0,h.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:L},direction:"column",display:"flex",height:"100%",children:[(0,h.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,h.jsx)(c.JO,{accessibilityLabel:t._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:G?"error":"dark",icon:G?"alert":"arrow-circle-up",size:24}),(0,h.jsx)(c.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,h.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!G&&(0,h.jsx)(c.xu,{marginBottom:4,width:320,children:(0,h.jsx)(c.xv,{align:"center",color:"error",children:G})}),(0,h.jsx)(c.xv,{align:"center",inline:!0,children:(0,I.nk)(t._('Drag an image here or {{ chooseFile }}', 'lens.modal.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,h.jsx)(c.xv,{inline:!0,underline:!0,children:t._('choose a file', 'lens.modal.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]}),(0,h.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #cdcdcd"}},paddingY:6,position:"absolute",width:"90%",children:(0,h.jsx)(T.Z,{children:(0,h.jsxs)(c.xu,{position:"relative",zIndex:new c.Ry(10),children:[(0,h.jsx)(c.nv,{ref:$,errorMessage:q,hasError:!!q,id:"scrape-view-website-link",label:t._('Upload from URL', 'lens.url.label', 'Label for url input'),onChange:function(e){B(e.value)},placeholder:t._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:Z}),!!Z&&(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{marginTop:30}},paddingX:2,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(c.hU,{accessibilityLabel:t._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"lightGray",icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return en(Z)},size:"sm"})})]})})})]})}}),(0,h.jsx)(c.xu,{marginTop:6,children:(0,h.jsx)(E,{})})]})})})}var U=n(30378),Z=n(317540),B=n(340523),H=(0,n(471314).Z)({name:"search_tab_render",sampleRate:1}),G=H.Provider,F=H.useHook,V=n(5859),Y=n(760132),W=n(207099),X=n(370833),q=n(768806),K=n(980803),$=n(447479),Q=n(782005),J=n(149722),ee=n(239821),et={md:407,sm:332,auto:"auto"},en=["pin.description","pin.id","pin.images[236x]"],er={__style:{backgroundColor:"rgba(0,0,0, .4)"}},eo=n(983983);function ei(e){var t=e.contentTypes,n=e.contentTypesAnchor,r=e.handleSelectFilter,o=e.onDismiss;return(0,h.jsx)(c.Lt,{anchor:n,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:o,zIndex:new c.Ry(eo.fe),children:t.map(function(e,t){return(0,h.jsx)(c.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(t)},option:{value:e.text,label:e.text},children:(0,h.jsx)(c.xv,{weight:[Q.lw.PINS,Q.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return es(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var el=function(e){switch(e){case Q.lw.PINS:return 220;case Q.lw.PINS_MINE:return 223;case Q.lw.PINS_VIDEO:return 11399;case Q.lw.BOARDS:return 221;case Q.lw.USERS:return 222;default:return null}},ec=function(e){var t,n,r=e.currentlySelectedFilter,o=e.currentQuery,i=e.handleContentTypeFilterHover,a=e.handleScopeChange,u=(0,p.v)().logContextEvent,d=(0,f.ZP)(),_=(n=(t=[{scope:Q.lw.PINS,text:d._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:Q.lw.PINS_MINE,text:d._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===Q.lw.PINS_MINE}),t.push(t.splice(n,1)[0]),t),g=(0,s.useRef)(null),m=(0,l.k6)(),y=ea((0,s.useState)(r||_[0].scope),2),b=y[0],v=y[1],x=ea((0,s.useState)(!1),2),E=x[0],S=x[1],P=ea((0,s.useState)(!1),2),O=P[0],I=P[1];(0,s.useEffect)(function(){v(r)},[r]);var T=function(){I(!0),i&&i(!0)},A=function(){I(!1),i&&i(!1)},w=(_[b?_.findIndex(function(e){return e.scope===b}):0]||_[0]).text,j=(0,h.jsx)(c.xu,{ref:g,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:48}},"data-test-id":"search-filter",overflow:"hidden",children:(0,h.jsxs)(c.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,h.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:w}),(0,h.jsx)(c.xu,{marginStart:2,children:(0,h.jsx)(c.JO,{accessibilityLabel:d._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,h.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:O?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,marginStart:2,position:"relative",rounding:6,children:[(0,h.jsx)(c.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return T()},onMouseLeave:function(){return A()},onTap:function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),S(!E),u({event_type:101,component:215,aux_data:{entered_query:o}})},rounding:6,children:j}),E&&(0,h.jsx)(ei,{contentTypes:_,contentTypesAnchor:g.current,handleSelectFilter:function(e){var t=_[e].scope;v(t),S(!1),u({event_type:101,component:215,element:el(t),aux_data:{entered_query:o}}),a(t),o&&m.push("/search/".concat(t,"/?q=").concat(encodeURIComponent(o),"&rs=").concat($.i.FILTER))},onDismiss:function(){return S(!1)}})]})},eu=n(342513),ed=n(638747);function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==ep(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ep(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ep(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eh={recentSaves:[],recentViews:[]};function eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eh,t=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===t.type){var n=t.payload,r=n.options,o=n.resource,i=t.payload.response.resource_response.data;if("ApiResource"===o&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&i){var a=i.find(function(e){return"user_recently_viewed_pins"===e.story_type}),s=i.find(function(e){return"user_recently_saved_pins"===e.story_type}),l=(null==a?void 0:a.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_view",url:"/pin/".concat(r)}}))||[],c=(null==s?void 0:s.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_save",url:"/pin/".concat(r)}}))||[];return e_(e_({},e),{},{recentSaves:c,recentViews:l})}}return e}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ey=(0,eu.Z)("SearchBox"),eb=ey.Provider,ev=ey.useHook;function ex(e){var t,n=e.children,r=function(e){if(Array.isArray(e))return e}(t=(0,s.useReducer)(eg,eh))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return em(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];(0,ed.Z8)("ApiResource",function(e){i({type:"FETCH_COMPLETE",payload:e})});var a=(0,s.useMemo)(function(){return{state:o}},[o]);return(0,h.jsx)(eb,{value:a,children:n})}var eE=n(860208),eS=n(899384),eP=n(314018),eO=n(88682),eI=n(623891);function eT(e){var t=e.suggestion,n=e.query,r=e.lastFocusTime,o=void 0===r?0:r,i=e.filterSelectedTerm;if("explorearticle"===t.type){var a,s,l=t.story_category,c=t.query,u=t.referringSource,d=t.id,p=t.storyId;return null!==(a=null===(s=t.action)||void 0===s?void 0:s.url)&&void 0!==a?a:(0,eP.Z)({storyCategory:l,query:c,referringSource:u,bubbleId:d,storyId:p})}if("todayarticle"===t.type){var f=t.id,_=t.title;return(0,eE.x)({title:_,id:f,articleType:"today"})}var h={eq:(0,K.Z)(n)};return o&&(h.etslf=String(Date.now()-o)),"inclusive_product_filter_query"===t.type&&i&&(h.filters=i),(0,eO.Z)(t.url||"",h)}function eA(e,t){return"SuggestionGroup-Option-".concat(e,"-").concat(t)}var ew=function(e){var t=0;return e.map(function(e){var n,r,o=t;return t+=null!==(n=(null!==(r=e.items)&&void 0!==r?r:[]).length)&&void 0!==n?n:0,o})},ej=function(e,t){if(null!=t){for(var n=ew(e),r=0;r<n.length;r+=1)if(e[r].items.length&&t-n[r]<e[r].items.length)return e[r].items[t-n[r]];return null}},eR=n(699750),eD=n(124946),eN=n(582103),eC=n(172203),ek=n(627408),eM=n(373543),eL=n(510989),ez=n(179370);function eU(e){return(eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==eU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eU(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eU(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eG(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eF=function(e,t){var n=RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function eV(e){var t=e.children,n=e.experiences,r=e.placementId,o=e.searchTerm,i=e.suggestions,a=(0,ez.M)().viewExperience,l=eH((0,s.useState)(null),2),c=l[0],u=l[1],d=eH((0,s.useState)(new Set),2),p=d[0],f=d[1],_=(null==n?void 0:n.filter(function(e){var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===3}).map(function(e){return eB(eB({},e.display_data),{},{id:e.experience_id})}))||[];return(0,s.useEffect)(function(){if(!o||!i){u(null);return}if(!(null==c?void 0:c.search_query_list.find(function(e){return i.some(function(t){return eF(t.label,e)})}))){var e=_.find(function(e){var t;return e.id!==(null==c?void 0:c.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find(function(e){return i.some(function(t){return eF(t.label,e)})}))});if(e){u(e);var t=e.id;p.has(t)||("number"==typeof t&&a(r,t),f(new Set(p).add(t)))}}},[o]),t({searchDelightConfig:c})}var eY=n(608516),eW=n(59709),eX=n(575742),eq=n(862249);function eK(e){var t,n=e.suggestions[0],r=(0,eq.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri});return(0,h.jsxs)(c.xu,{padding:10,children:[(0,h.jsx)(c.xu,{marginBottom:6,children:(0,h.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,h.jsx)(c.Tg,{href:n.action_button_uri,rel:r?"nofollow":"none",rounding:"pill",children:(0,h.jsx)(c.xu,{color:"infoBase",display:"inlineBlock",padding:3,rounding:"pill",children:(0,h.jsx)(c.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var e$=n(572345);function eQ(e){var t=e.id,n=e.children,r=e.isHovered,o=e.url,i=e.onClick,a=e.onMouseEnter,s=e.onMouseLeave;return(0,h.jsx)(c.xu,{"aria-selected":r?"true":"false",color:r?"secondary":"default","data-test-id":"search-suggestion",id:t,role:"option",children:(0,h.jsx)(c.Tg,{href:o,onMouseEnter:a,onMouseLeave:s,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.metaKey||t.ctrlKey||(t.preventDefault(),i())},tabIndex:-1,children:(0,h.jsx)(c.xu,{marginBottom:1,paddingX:5,children:n})})})}function eJ(e){var t=e.highlightMatch,n=e.iconName,r=e.imageUrl,o=e.isVerifiedMerchant,i=void 0!==o&&o,a=e.label,s=e.query,l=e.rounding,u=e.searchDelightConfig,d=e.subLabel,p=e.verified,_=void 0!==p&&p,g=(0,f.ZP)();return(0,h.jsx)(c.xu,{"data-test-id":r||n?"enriched-search-suggestion":"regular-search-suggestion",display:"flex",paddingY:r?1:0,width:"100%",children:(0,h.jsxs)(c.kC,{alignItems:"center",gap:{row:2,column:0},children:[r?(0,h.jsx)(c.xu,{"data-test-id":"enriched-autocomplete-image",height:40,overflow:"hidden",rounding:l&&2===l?2:"circle",width:40,children:(0,h.jsx)(c.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,role:"presentation",src:r})}):(0,h.jsx)(c.kC,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,h.jsx)(c.xu,{marginTop:1,children:(0,h.jsx)(c.JO,{accessibilityLabel:n?(0,I.nk)(g._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:n}).join():"",color:"default",icon:n||"search",size:12})})}),(0,h.jsxs)(c.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,h.jsxs)(c.kC,{alignItems:"center",children:[void 0!==t&&t&&s?(0,h.jsx)(eW.Z,{query:s,searchDelightConfig:u,text:a||s}):(0,h.jsx)(c.xv,{weight:"bold",children:a}),(_||i)&&(0,h.jsx)(c.xu,{marginStart:1,children:(0,h.jsx)(e$.Z,{iconOnly:!0,isVerifiedIdentity:_,isVerifiedMerchant:i,size:"xs"})})]}),d&&(0,h.jsx)(c.xv,{size:"100",children:d})]})]})})}var e0=n(930493),e1=(0,s.lazy)(function(){return n.e(43784).then(n.bind(n,343784))});function e2(e){var t=e.experiences,n=e.index,r=e.focusedIndex,o=e.onInclusiveProductFilterClick,i=e.onSuggestionClick,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,u=e.query,d=e.suggestion,p=(0,f.ZP)(),_="number"==typeof d.identifier_icon_name&&d.identifier_icon_name!==eX.J?(0,eX.Z)(d.identifier_icon_name):void 0;return(0,h.jsx)(eV,{experiences:t,placementId:1000315,searchTerm:u,suggestions:[d],children:function(e){var t=e.searchDelightConfig;return(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(eQ,{id:eA(0,n),isHovered:r===n,onClick:function(){i(d,n)},onMouseEnter:function(){a(n)},onMouseLeave:function(){l()},url:eT({suggestion:d,query:u}),children:(0,h.jsx)(c.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(c.xu,{flex:"grow",children:"inclusive_product_filter_query"===d.type?(0,h.jsx)(c.xu,{marginBottom:2,children:(0,h.jsx)(c.xv,{weight:"bold",children:(0,I.nk)(d.eligibleHairPatternFilters?p._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):p._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,h.jsx)(eW.Z,{query:u,searchDelightConfig:t,text:d.label||u})})})}):(0,h.jsx)(eJ,{highlightMatch:!0,iconName:_,imageUrl:d.image,label:d.label,query:u,rounding:2,searchDelightConfig:t,subLabel:d.subLabel})})})}),"inclusive_product_filter_query"===d.type&&o&&(0,h.jsx)(c.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:d.eligibleHairPatternFilters?(0,h.jsx)(eL.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,h.jsx)(eY.Z,{children:(0,h.jsx)(c.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,h.jsx)(e1,{eligibleFilters:d.eligibleHairPatternFilters,isUpsell:!0,onClickApplyFilters:function(e){return o(d,n,e)},query:u})})})}):(0,h.jsx)(e0.Z,{onClickApplyFilters:function(e){return o(d,n,e)},query:u,showHeaderText:!1})})]})}})}var e4=function(e){var t=e.index,n=e.focusedIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestion;return(0,h.jsx)(eQ,{id:eA(0,t),isHovered:n===t,onClick:function(){r(a,t)},onMouseEnter:function(){o(t)},onMouseLeave:function(){i()},url:a.url,children:(0,h.jsx)(eJ,{imageUrl:a.image,isVerifiedMerchant:a.is_verified_merchant,label:a.label,rounding:"circle",subLabel:a.subLabel,verified:a.verified})},"".concat(a.type,"-").concat(a.label,"-").concat(a.subLabel||""))};function e3(e){var t=e.focusedIndex,n=e.onSuggestionClick,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,i=(0,f.ZP)(),a=0===t;return(0,h.jsx)(c.xu,{"aria-selected":a?"true":"false",id:"syop_cta",role:"option",children:(0,h.jsxs)(c.xu,{marginTop:3,paddingX:6,children:[(0,h.jsx)(c.iz,{}),(0,h.jsx)(c.xu,{marginTop:4,children:(0,h.jsxs)(c.kC,{alignItems:"center",justifyContent:"between",children:[(0,h.jsx)(c.xv,{lineClamp:2,weight:"bold",children:i._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,h.jsx)(c.kC.Item,{flex:"none",children:(0,h.jsx)(c.iP,{onMouseEnter:function(){r(0)},onMouseLeave:o,onTap:n,rounding:"pill",children:(0,h.jsx)(c.xu,{alignItems:"center",color:a?"darkWash":"secondary",display:"flex",height:40,justifyContent:"center",paddingX:3,paddingY:2,rounding:"pill",children:(0,h.jsx)(c.xv,{align:"center",weight:"bold",children:i._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function e6(e){var t=e.experiences,n=e.suggestion,r=e.index,o=e.focusedIndex,i=e.query,a=e.onSuggestionClick,s=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,c=e.onInclusiveProductFilterClick;switch(n.type){case"autocompleteupsell":return(0,h.jsx)(eK,{suggestions:[n]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,h.jsx)(e2,{experiences:t,focusedIndex:o,index:r,onInclusiveProductFilterClick:c,onSuggestionClick:a,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,query:i,suggestion:n});case"user":return(0,h.jsx)(e4,{focusedIndex:o,index:r,onSuggestionClick:a,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,suggestion:n})}return null}var e5=n(780277),e8=n(44801),e7=n(213377),e9=n(666472),te=n(67664),tt=n(739711);function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tr(e){var t,n,r,o=e.contextLogData,i=e.dominantColor,a=e.handleReport,l=e.height,u=e.id,d=e.image,p=e.isDarkRep,f=void 0!==p&&p,_=e.isHovered,g=e.name,m=e.onMouseEnter,y=e.onMouseLeave,b=e.onTap,v=e.searchBoxRenderStopwatch,x=e.slotIndex,E=e.url,S=e.viewParameter,P=e.viewType,O=e.width,I=(0,e9.Z)({contextLogData:o,impressionType:"Article",loggingId:u,slotIndex:x,viewParameter:S,viewType:P}),T=(0,J.Z)(),A=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=A[0],j=A[1],R=w||_,D=l||80;!O||O>=200?(n=3,r="300"):O>=150?(n=2,r="200"):(n=2,r="100");var N=function(){m?m():j(!0)},C=function(){y?y():j(!1)};return(0,h.jsx)(c.xu,{ref:I,height:D,width:O||"100%",children:(0,h.jsx)(c.zd,{rounding:4,wash:!f,children:(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:f?{__style:{backgroundColor:R?e8.Pv2:e8.pzk}}:{__style:R?te.A.lightHoverOverlay:{}},children:(0,h.jsx)(c.st,{children:(0,h.jsxs)(c.Tg,{href:E,onBlur:C,onFocus:N,onMouseEnter:N,onMouseLeave:C,onTap:b,rounding:4,children:[(0,h.jsxs)(c.kC,{direction:"row",children:[(0,h.jsx)(c.zd,{height:D,wash:!0,width:D,children:(0,h.jsx)(c.Ee,{alt:"",color:i,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){null==v||v.stop()},role:"presentation",src:d})}),(0,h.jsx)(c.xu,{alignItems:"center",display:"flex",maxHeight:D,maxWidth:O?O-D:e7.yF-80,padding:4,children:(0,h.jsx)(c.xv,{color:f?"light":void 0,lineClamp:n,size:r,weight:"bold",children:g})})]}),a&&T.isAuth&&T.isEmployee?(0,h.jsx)(c.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,h.jsx)(tt.Z,{handleReport:a,imgSignature:d,isVisible:null!=R&&R})}):null]})})})})})}var to=n(549629),ti=n(107366),ta=n(227258),ts=n(205841),tl=n(427514),tc=n(193163),tu=n(939809);function td(e){var t,n,r=e.bubble,o=e.height,i=e.isHovered,a=e.onClick,s=e.onMouseDown,l=e.onMouseEnter,u=e.onMouseLeave,d=e.searchBoxRenderStopwatch,p=e.slotIndex,f=e.storyId,_=e.storyType,g=e.viewParameter,m=e.viewType,y=e.width,b=r.id,v=r.title,x=r.image_urls,E=r.article_creator_user,S=x&&x.length>0?{url:x[0]}:void 0,P=(0,tl.Z)(v||"",{});if(!r.title||!r.id)return null;var O=(0,tc.T7)(null!==(t=r.feed_source)&&void 0!==t?t:0,null!==(n=r.is_product_pin_feed)&&void 0!==n&&n,r.title,r.id);return(0,h.jsx)(tu.Y4,{auxData:{grid_index:p.toString(),today_article_id:b,story_type:_,story_id:f},loggingId:b,objectIdStr:b,slotIndex:p,viewParameter:g||3467,viewType:m,children:function(e){var t=e.impressionTrackerRef;return(0,h.jsx)(te.Z,{ref:t,backgroundColor:"gray",coverImage:S,disableTabIndex:!0,height:o,id:b,isHovered:i,onClick:a,onMouseDown:s,onMouseEnter:l,onMouseLeave:u,searchBoxRenderStopwatch:d,url:O,width:y,children:(0,h.jsx)(c.xu,{ref:t,alignItems:"end",display:"flex",height:o,justifyContent:"center",padding:3,position:"absolute",top:!0,width:y||"100%",children:(0,h.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[o>200?(0,h.jsx)(c.X6,{align:"center",color:"light",size:"500",children:P}):(0,h.jsx)(c.xv,{align:"center",color:"light",weight:"bold",children:P}),E&&E.image_small_url&&E.full_name&&(0,h.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,h.jsx)(c.xu,{marginEnd:2,children:(0,h.jsx)(ts.qE,{name:E.full_name,outline:!0,size:"xs",src:E.image_small_url})}),(0,h.jsx)(c.xv,{color:"light",size:"100",children:E.full_name})]})]})})})}})}function tp(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,o)}var tf=function(e){var t=e.title;return(0,h.jsx)(c.xu,{alignItems:"center",display:"flex",marginStart:8,children:(0,h.jsx)(c.xv,{lineClamp:1,weight:"bold",children:t})})},t_=function(e){var t=e.handleRemove,n=e.id,r=e.isHovered,o=e.label,i=e.onClick,a=e.onMouseEnter,s=e.onMouseLeave,l=e.removeA11yText,u=e.url;return(0,h.jsx)(c.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:n,marginBottom:2,marginEnd:2,role:"option",children:(0,h.jsx)(c.Tg,{accessibilityLabel:o,href:u,onMouseEnter:a,onMouseLeave:s,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.metaKey||t.ctrlKey||(n(),t.preventDefault(),i())},rounding:"pill",children:(0,h.jsxs)(c.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,h.jsx)(c.xv,{align:"center",children:o}),(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,h.jsx)(c.hU,{accessibilityLabel:null!=l?l:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),null==t||t(o)},size:"xs"})})]})})})},th=function(e){var t,n,r,o,i,a,l=e.id,u=e.isHovered,d=e.onClick,p=e.onMouseEnter,_=e.onMouseLeave,g=e.showSeeMoreOverlay,m=e.suggestion,y=e.trackClick,b=e.url,v=(0,f.ZP)();return(0,h.jsx)(c.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion",id:l,marginBottom:2,paddingX:1,role:"option",children:(0,h.jsx)(c.Tg,{href:b||m.url,onMouseEnter:p,onMouseLeave:_,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),y(),t.metaKey||t.ctrlKey||b||(t.preventDefault(),d())},rounding:3,tabIndex:-1,children:(0,h.jsxs)(c.zd,{height:116,rounding:3,wash:u,width:90,children:[(0,h.jsx)(c.Ee,{alt:m.label,fit:"cover",naturalHeight:null!==(t=null===(n=m.images["236x"])||void 0===n?void 0:n.height)&&void 0!==t?t:1,naturalWidth:null!==(r=null===(o=m.images["236x"])||void 0===o?void 0:o.width)&&void 0!==r?r:1,src:null!==(i=null===(a=m.images["236x"])||void 0===a?void 0:a.url)&&void 0!==i?i:""}),g&&(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:er,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,h.jsx)(c.xu,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,h.jsx)(c.xv,{align:"center",color:"inverse",weight:"bold",children:v._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},tg=function(e){var t=e.componentType,n=e.focusedIndex,r=e.groupIndex,o=e.keyPrefix,i=e.onSuggestionClick,a=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,l=e.seeMoreUrl,u=e.suggestions,d=e.title,f=(0,p.v)().logContextEvent;return(0,h.jsxs)(c.kC,{direction:"column",gap:4,children:[(0,h.jsx)(c.kC,{width:"100%",children:(0,h.jsx)(tf,{title:d})}),(0,h.jsx)(c.xu,{display:"flex",paddingX:8,width:"100%",wrap:!0,children:u.map(function(e,c){var d=6===c&&7===u.length;return(0,h.jsx)(th,{id:eA(r,c),isHovered:n===c,onClick:function(){i(e,c)},onMouseEnter:function(){a(c)},onMouseLeave:function(){s()},showSeeMoreOverlay:d,suggestion:e,trackClick:function(){f({event_type:101,component:t,element:d?179:12374,view_type:2,view_parameter:103})},url:d?l:e.url},"".concat(o,"-").concat(c))})})]})};function tm(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestions,s=(0,f.ZP)();return(0,to.Q)({component:13844,view_parameter:103,view_type:2}),(0,h.jsx)(tg,{componentType:13844,focusedIndex:t,groupIndex:n,keyPrefix:"recent_save",onSuggestionClick:r,onSuggestionMouseEnter:o,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",suggestions:a,title:s._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function ty(e){var t,n,r=e.containerWidth,o=e.focusedIndex,i=e.groupIndex,a=e.onSuggestionClick,s=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,u=e.suggestions,d=(0,f.ZP)(),p=(0,e5.useDispatch)(),_=(t=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ti.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:p((0,ta.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}));case 3:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){tp(i,r,o,a,s,"next",e)}function s(e){tp(i,r,o,a,s,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),g=d._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),m=function(e){var t=e.pillLabels,n=e.maxWidth,r=t.length;if(!n)return r;for(var o=0,i=0;i<t.length;i+=1){var a=7.5*t[i].length+40+24;if(a+o<n)o+=a;else{r=i;break}}return r}({pillLabels:u.map(function(e){return e.label}),maxWidth:r});return(0,h.jsxs)(c.kC,{direction:"column",gap:4,children:[(0,h.jsx)(tf,{title:d._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,h.jsx)(c.xu,{display:"flex",overflow:"hidden",paddingX:8,position:"relative",children:u.slice(0,m).map(function(e,t){return(0,h.jsx)(c.xu,{"data-test-id":"recent-query",children:(0,h.jsx)(t_,{handleRemove:_,id:eA(i,t),isHovered:o===t,label:e.label,onClick:function(){a(e,t)},onMouseEnter:function(){s(t)},onMouseLeave:function(){l()},removeA11yText:g,url:eT({suggestion:e,query:""})})},"".concat(e.type,"-").concat(e.label))})})]})}function tb(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestions,s=(0,f.ZP)();return(0,to.Q)({component:13843,view_parameter:103,view_type:2}),(0,h.jsx)(tg,{componentType:13843,focusedIndex:t,groupIndex:n,keyPrefix:"recent_view",onSuggestionClick:r,onSuggestionMouseEnter:o,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",suggestions:a,title:s._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tv(e){var t=e.groupIndex,n=e.focusedIndex,r=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.searchBoxRenderStopwatch,s=e.suggestions,l=s.id,u=s.items,d=s.story_type,p=s.title.format,f=u.map(function(e){return e.type+":"+e.id}).join("|"),_=(0,e9.Z)({viewType:2,componentType:200,viewParameter:3467,loggingId:l,objectIdStr:l,contextLogData:{content_ids:f,story_id:l,story_type:d},impressionType:"Story",slotIndex:t});return(0,h.jsxs)(c.kC,{direction:"column",gap:4,children:[(0,h.jsx)(tf,{title:p}),(0,h.jsx)(c.xu,{ref:_,display:"flex",marginBottom:5,paddingX:8,wrap:!0,children:u.slice(0,8).map(function(e,s){var u=n===s;return(0,h.jsx)(c.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion-today-bubble",id:eA(t,s),marginBottom:2,paddingX:1,role:"option",children:(0,h.jsx)(td,{bubble:e,height:192,isHovered:u,onClick:function(){r(e,s)},onMouseEnter:function(){o(s)},onMouseLeave:function(){i()},searchBoxRenderStopwatch:a,slotIndex:s,storyId:l,storyType:d,viewParameter:3467,viewType:2,width:192})},"story".concat("--",t,"-").concat(s))})})]})}function tx(e){for(var t=e.containerWidth,n=e.focusedIndex,r=e.groupIndex,o=e.onSuggestionClick,i=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,l=e.suggestions,u=(0,p.v)().logContextEvent,d=l.id,f=l.items,_=l.story_type,g=l.title.format,m=f.map(function(e){return e.type+":"+e.id}).join("|"),y=(0,e9.Z)({componentType:200,contextLogData:{content_ids:m,story_id:d,story_type:_},impressionType:"Story",loggingId:d,slotIndex:r,viewParameter:3467,viewType:2}),b=function(e){return 64+8*e},v=3,x=(t-b(3))/v;x>1.5*e7.yF;)v+=1,x=(t-b(v))/v;var E=x/2.6;return(0,h.jsxs)(c.kC,{direction:"column",gap:4,children:[(0,h.jsx)(tf,{title:g}),(0,h.jsx)(c.xu,{ref:y,direction:"row",display:"flex",paddingX:8,wrap:!0,children:"shopping_spotlight"===_?f.map(function(e,t){return(0,h.jsx)(td,{bubble:e,height:192,onClick:function(){u({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:_}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:t,viewParameter:3467,viewType:2,width:192},"ss-bubble-".concat(t))}):f.map(function(e,t){var l,u,p=n===t,f=e.aux_fields,g=e.cover_images,y=e.dominant_colors,b=e.id,v=e.story_category,S=e.title.format,P=g&&g[0]&&((null===(l=g[0]["236x"])||void 0===l?void 0:l.url)||(null===(u=g[0]["474x"])||void 0===u?void 0:u.url))||"",O=(0,eP.Z)({query:S,referringSource:2===v?"trending":"autocomplete_bubble",bubbleId:null!=b?b:"",storyId:d,pinId:null==f?void 0:f.image_pin_id});return(0,h.jsx)(c.xu,{"aria-selected":p?"true":"false","data-test-id":"search-suggestion",id:eA(r,t),marginBottom:2,marginEnd:2,role:"option",children:(0,h.jsx)(tr,{contextLogData:{story_type:_,content_ids:m,grid_index:t,story_id:d},dominantColor:y?y[0]:"",height:E,id:b,image:P,isHovered:p,name:S,onMouseEnter:function(){i(t)},onMouseLeave:function(){a()},onTap:function(){o(e,t)},searchBoxRenderStopwatch:s,slotIndex:t,url:O,viewParameter:3467,viewType:2,width:x})},"story-".concat(null!=v?v:"","-").concat(r,"-").concat(b))})})]})}function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tP(e,t){if(e){if("string"==typeof e)return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(e,t)}}function tO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tI={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function tT(e){var t,n=e.focusIndex,r=e.maxHeight,o=e.onInclusiveProductFilterClick,i=e.onMouseEnter,a=e.onMouseLeave,l=e.onSuggestionClick,u=e.onSuggestionHovered,d=e.onSyopCtaClick,p=e.query,_=e.searchBoxHeight,g=e.searchBoxRenderStopwatch,m=e.showSyopHeading,y=e.suggestionGroups,b=e.width,v=(0,s.useRef)(),x=(0,f.ZP)(),E=(0,eC.Z)(1000315).experiencesMulti,S=(0,J.Z)(),P=(0,(0,B.F)().checkExperiment)(S.isAuth?"web_auth_search_tab_render_layout_shift_fix":"web_unauth_search_tab_render_layout_shift_fix").anyEnabled,O=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||tP(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=O[0],A=O[1],w=(0,eN.Ns)(A,400);function j(){u(void 0)}return(0,s.useLayoutEffect)(function(){if(!P||!v.current)return function(){};A(v.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){w(function(e){var t;return(null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect().width)||e})});return e.observe(v.current),function(){e.disconnect()}},[P,w]),(0,h.jsx)(ek.Z,{view:2,viewParameter:103,children:y.length>0?(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:_}},id:"SuggestionsMenu",overflow:"hidden",position:"absolute",role:"listbox",width:b||"100%",children:(0,h.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:i,onMouseLeave:a,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==tE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tE(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({maxHeight:r},tI.searchSuggestionsContainer),children:(0,h.jsxs)(c.xu,{ref:v,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},overflow:"hidden",width:"100%",children:[m&&(0,h.jsx)(c.xu,{marginBottom:4,marginStart:8,marginTop:4,children:(0,h.jsx)(c.X6,{size:"500",children:p.length>0?(0,I.nk)(x._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:p}):x._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),y.map(function(e,t){var r,i,a,s;return e.items.length?(0,h.jsx)(c.kC,{direction:"column",gap:10,children:(0,h.jsx)(c.xu,{children:function(e,t,r){var i=ew(y),a=null==n?void 0:n-i[t],s=function(e){u(ew(y)[t]+e)};switch(e.type){case"recent_query":return(0,h.jsx)(ty,{containerWidth:r,focusedIndex:a,groupIndex:t,onSuggestionClick:l,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"recent_save":return(0,h.jsx)(tm,{focusedIndex:a,groupIndex:t,onSuggestionClick:l,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"recent_view":return(0,h.jsx)(tb,{focusedIndex:a,groupIndex:t,onSuggestionClick:l,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,h.jsx)(tv,{containerWidth:r,focusedIndex:a,groupIndex:t,onSuggestionClick:l,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,searchBoxRenderStopwatch:g,suggestions:e}):(0,h.jsx)(tx,{containerWidth:r,focusedIndex:a,groupIndex:t,onSuggestionClick:l,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,searchBoxRenderStopwatch:g,suggestions:e});case"blended_autocomplete":return(function(e){var t,n=e.slice(),r=n[0],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=tP(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(null!==(a=i.modified_filter_eligibility)&&void 0!==a&&a.hair_pattern||null!==(s=i.modified_filter_eligibility)&&void 0!==s&&s.skin_tone){var a,s,l,c,u,d=(null===(l=i.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.base_query)||(null===(c=i.modified_filter_eligibility.skin_tone)||void 0===c?void 0:c.base_query)||"",p=null===(u=i.modified_filter_eligibility.hair_pattern)||void 0===u?void 0:u.eligible_filters,f=(0,eM.Z)({url:i.url}).rs,_={query:d,rs:f},h=(0,W.Z)(_),g="enriched_autocomplete"===r.type&&r.image?1:0,m={eligibleHairPatternFilters:p,label:d,query:d,resultIndex:g,type:"inclusive_product_filter_query",url:h};n.splice(g,0,m),r=n[0];break}}}catch(e){o.e(e)}finally{o.f()}return n})(e.items).map(function(e,t){return(0,h.jsx)(e6,{experiences:E,focusedIndex:a,index:t,onInclusiveProductFilterClick:o,onSuggestionClick:l,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,query:p,suggestion:e},"search-suggestion-".concat(e.label||"","-").concat(e.query||"","-").concat(e.type,"-").concat(e.url||"","-").concat(e.image||""))});case"syop_cta":return(0,h.jsx)(e3,{focusedIndex:a,index:0,onSuggestionClick:d,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j})}return null}(e,t,P?T:null!==(a=null===(s=v.current)||void 0===s?void 0:s.getBoundingClientRect().width)&&void 0!==a?a:0)})},"".concat(p,"-").concat(e.type,"-").concat(null!==(r=null===(i=e.title)||void 0===i?void 0:i.format)&&void 0!==r?r:"")):null})]})})}):(0,h.jsx)(c.xu,{})})}function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tw(e){var t,n,r,o,i,a,l,c,u,d=e.focusIndex,p=e.maxHeight,f=e.onInclusiveProductFilterClick,g=e.onMouseEnter,m=e.onMouseLeave,b=e.onSuggestionClick,v=e.onSuggestionGroupsUpdate,x=e.onSuggestionHovered,E=e.onSyopCtaClick,S=e.query,P=e.scope,O=e.searchBoxHeight,I=e.suggestionGroups,T=e.width,A=e.active,w=F(),j=(0,J.Z)(),R=(0,B.F)().checkExperiment,D=j.isAuth&&P===Q.lw.PINS_MINE,N=R(j.isAuth?"web_auth_existing_search_query_layout_shift_fix":"web_unauth_existing_search_query_layout_shift_fix").anyEnabled;(0,_.Z)(function(){N||D||null==w||w.start()}),(0,s.useEffect)(function(){N&&(!A||D||null!=w&&w.isTiming||null==w||w.start())},[A,D,N]);var C=(0,y.Z)({name:"SearchTabResource"}).data,k=ev().state,M=k.recentSaves,L=k.recentViews,z=(t=(0,J.Z)(),r=(n=(0,y.Z)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:Q.lw.PINS},noCache:!0}:null)).isLoaded,o=n.data,(0,s.useMemo)(function(){var e=[];return r&&o&&(e=({newRecentQueries:o.items}).newRecentQueries.slice(0,5).map(function(e,t){var n=e.label,r=e.query,o=e.url;return{label:n,query:r,resultIndex:t,type:e.type,url:o}})),e},[r,o])),U=(a=(i={query:S,scope:P}).query,l=i.scope,c=(0,J.Z)(),u=(0,eD.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:l},value:a}),(0,s.useMemo)(function(){if(c.isAuth)return[{items:u||[],type:"blended_autocomplete"}];var e=(0,eR.Z)(u||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(t){return e[t]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[u,c]));return((0,s.useEffect)(function(){var e,t,n=j.isAuth?U.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):U,r=C||[],o=j.isAuth?r.filter(function(e){return"shopping_spotlight"!==e.story_type}):r;v(D?[{items:z,type:"recent_query"},{items:L,type:"recent_view"},{items:M,type:"recent_save"}]:S.length?n:[{items:z,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return tA(e)}(e=o||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[U,D,v,S,C,z,M,L,P,j]),N&&!A)?null:(0,h.jsx)(tT,{focusIndex:d,maxHeight:p,onInclusiveProductFilterClick:f,onMouseEnter:g,onMouseLeave:m,onSuggestionClick:b,onSuggestionHovered:x,onSyopCtaClick:E,query:S,searchBoxHeight:O,searchBoxRenderStopwatch:w,showSyopHeading:D,suggestionGroups:I,width:T})}function tj(e){return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==tj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tj(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tj(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tk="undefined"!=typeof window&&((null===(r=window.navigator)||void 0===r?void 0:r.hardwareConcurrency)<=4||(null===(o=window.navigator.connection)||void 0===o?void 0:o.effectiveType)==="slow-2g"||(null===(i=window.navigator.connection)||void 0===i?void 0:i.effectiveType)==="2g"||(null===(a=window.navigator.connection)||void 0===a?void 0:a.effectiveType)==="3g"),tM=tk?s.useDeferredValue:function(e){return e},tL=function(e){var t,n,r,o,i,a,c,h,g,m,b,v,x,E=e.handleIconOnlyChange,S=e.iconOnly,P=void 0!==S&&S,O=e.isPartner,I=void 0!==O&&O,T=e.widthType,A=void 0===T?"md":T,w=(0,p.v)().logContextEvent,j=(0,J.Z)(),R=(0,l.k6)(),D=(0,l.TH)(),N=(0,l.$B)().path,C=(0,B.F)().checkExperiment,k=tN((0,s.useTransition)(),2)[1],M=(0,d.t)().isLensModalOpen,L=j.isAuth&&C("web_lens").anyEnabled;t=(0,J.Z)(),n=(0,V.B)().isBot,r=t.isAuth,o=t.isLimitedLogin,i=r&&!o,(0,y.Z)(r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:Q.lw.PINS},noCache:!0}:null),(0,y.Z)(n?null:{name:"SearchTabResource"}),(0,y.Z)(i?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:en.join(","),pin_preview_count:7}}}:null);var z=(0,q.Z)(D),H=z.query,G=z.scope,F=z.rs,Y=u.t.includes(F)?"":H,X=null!=Y?Y:"",et=tN((0,s.useState)(X),2),er=et[0],eo=et[1],ei=tN((0,s.useState)(),2),ea=ei[0],es=ei[1],el=ea&&ea.query?ea.query:er,ec=(a=(0,l.TH)(),c=(0,J.Z)(),g=(h=(0,eI.Z)(a.search)).ideas_referrer,m=h.view_parameter_type,g=parseInt(g,10),m=parseInt(m,10),b=c.isAuth&&a.pathname.startsWith("/".concat(c.username,"/")),v=c.isAuth&&a.pathname.startsWith("/recently-viewed"),x=3173===m&&(1===g||25===g),(b||v)&&!x),eu=null!=G?G:Q.lw.PINS;ec&&(eu=Q.lw.PINS_MINE),eu===Q.lw.PINS_BUYABLE&&(eu=Q.lw.PINS);var ed=tN((0,s.useState)(eu),2),ep=ed[0],ef=ed[1],e_=j.isAuth&&ep===Q.lw.PINS_MINE,eh=tN((0,s.useState)([]),2),eg=eh[0],em=eh[1],ey=tN((0,s.useState)(),2),eb=ey[0],ev=ey[1],ex=tN((0,s.useState)(!1),2),eE=ex[0],eP=ex[1],eO=tN((0,s.useState)(!1),2),eA=eO[0],ew=eO[1],eR=tN((0,s.useState)(!1),2),eD=eR[0],eN=eR[1],eC=tN((0,s.useState)(!1),2),ek=eC[0],eM=eC[1],eL=tN((0,s.useState)(!1),2),ez=eL[0],eU=eL[1],eZ=tN((0,s.useState)(0),2),eB=eZ[0],eH=eZ[1];function eG(){ev(void 0),es(void 0)}var eF=eA||ek,eV=!!eF&&!!tk&&C(j.isAuth?"web_auth_search_deferred_query":"web_unauth_search_deferred_query").anyEnabled,eY=tM(eV?er:"")||er,eW=(0,ee.I)(),eX=eW.setAppFocusState,eq=eW.toggleTypeaheadOverlay,eK=tN((0,s.useState)(P),2),e$=eK[0],eQ=eK[1];(0,s.useEffect)(function(){eQ(P)},[P]);var eJ=tN((0,s.useState)(!1),2),e0=eJ[0],e1=eJ[1],e2=tN((0,s.useState)(),2),e4=e2[0];!function(e){var t=e.setShouldHideGhostText,n=e.setSuggestionsMaxHeight;function r(){var e;t(360>=((null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0)),n(window.innerHeight-14-76)}(0,_.Z)(function(){return window.addEventListener("resize",r),r(),function(){window.removeEventListener("resize",r)}})}({setShouldHideGhostText:e1,setSuggestionsMaxHeight:e2[1]});var e3=j.isAuth&&"shrink"!==A&&(X||ec),e6="auto".includes(A)?"8px":0;e3&&(e6="4px");var e5=tN(function(e){var t=e.shouldHideGhostText,n=e.isSyop,r=e.inputFocused,o=(0,f.ZP)(),i=(0,J.Z)().isAuth,a=(0,y.Z)(i?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),s=i?o._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):o._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),l="";if(!t&&a.isLoaded&&a.data&&a.data.length>0){var c=a.data[0].text;l=a.data[0].query,s=c}return n&&(s=r?o._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):o._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[s,l,(0,eS.Z)()]}({shouldHideGhostText:e0,isSyop:e_,inputFocused:eA}),3),e8=e5[0],e7=e5[1],e9=e5[2],te=(0,s.useRef)();function tt(){var e=(0,K.Z)(er);if(e.length){var t=(0,W.Z)({query:e,rs:$.i.AC,scope:Q.lw.PINS_MINE});R.push(t)}}(0,s.useEffect)(function(){te.current!==eF&&k(function(){eF?U.Z.pause():U.Z.resume(),eX(!eF),eF||(eG(),eo(X)),eq(eF),te.current=eF})},[X,eF,eX,eq]),(0,s.useEffect)(function(){eo(X),ef(eu),ew(!1),eM(!1)},[X,eu]);var tn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?97:101,o={};switch(er&&(o.entered_query=er,o.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":w({event_type:r,view_type:2,view_parameter:103,component:35,element:104,aux_data:tD({autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t},o)});var i=eT({suggestion:e,query:er,lastFocusTime:eB});e_&&"recent_query"===e.type&&(i=i.replace("pins","my_pins")),R.push(i);break;case"recent_save":R.push(e.url);break;case"enriched_autocomplete":case"board":case"user":w({event_type:r,view_type:2,view_parameter:103,component:35,element:104,aux_data:tD({autocomplete_type:e.type,result_index:t},o)}),R.push(e.url);break;case"explorearticle":26===e.story_category?w({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:tD({article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight"},o)}):w({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tD({autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t},o)}),n&&R.push(eT({suggestion:e,query:""}));break;case"todayarticle":w({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tD({article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight"},o)}),n&&R.push(eT({suggestion:e,query:""}));break;case"syop_cta":tt()}eG(),ew(!1),eM(!1)},tr=function(){if(el!==X||ep!==eu){var e=(0,K.Z)(el);if(e.length){var t=(0,W.Z)({query:e,rs:$.i.TYPED,scope:ep});ew(!1),eM(!1),R.push(t)}}};return{allowLens:L,appliedQuery:X,deferredQuery:eY,displayedQuery:el,endPadding:e6,enteredQuery:er,enteredScope:ep,handleClearSearch:function(){if(eo(""),ef(Q.lw.PINS),eG(),j.isAuth&&X){var e=(0,W.Z)({query:"",rs:$.i.REMOVE});R.push(e)}else I&&E&&E(!0)},handleInclusiveProductFilterClick:function(e,t,n){var r={};er&&(r.entered_query=er),w({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:tD({autocomplete_type:"query",result_index:t},r)});var o=eT({suggestion:e,query:er,lastFocusTime:eB,filterSelectedTerm:n});R.push(o)},handleInputBlur:function(e){var t=e.currentTarget;setTimeout(function(){t.contains(document.activeElement)||ew(!1)},0)},handleInputFocus:function(){eH(Date.now()),w({event_type:101,component:43,element:227}),ew(!0)},handleKeyDown:function(e){switch(e.keyCode){case Z.Z.ENTER:var t=ej(eg,eb);eF&&t&&e.preventDefault(),t&&eE?(tn(t,t.resultIndex||0,!0),eP(!1)):tr();break;case Z.Z.ESCAPE:eF&&e.preventDefault(),e.stopPropagation(),ew(!1),eM(!1);break;case Z.Z.UP:eF&&e.preventDefault();var n,r,o,i=tN((r=eg.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),o=ej(eg,n=null==eb?r-1:0===eb?void 0:eb-1),[n,o]),2),a=i[0],s=i[1];ev(a),eP(!0),es(s);break;case Z.Z.DOWN:eF&&e.preventDefault();var l,c,u,d=tN((c=eg.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),u=ej(eg,l=null==eb?0:eb===c-1?void 0:eb+1),[l,u]),2),p=d[0],f=d[1];ev(p),eP(!0),es(f);break;case Z.Z.TAB:e7&&!er&&eF&&(e.preventDefault(),e.stopPropagation(),eo(e7))}},handleScopeChange:function(e){ef(e),ew(I&&!er),eG()},handleSearchIconButtonClick:function(){ew(!0),eQ(!1),E&&E(!1),I&&w({event_type:101,element:11809})},handleSuggestionSelect:tn,handleSyopCtaClick:tt,handleTextChange:function(e){eo(e),eG()},handleTypedSearchSubmit:tr,inputFocused:eA,inSearchDeferredQueryExperiment:eV,isContentTypeFilterHovered:ez,isCurrentlyOnLensPage:"/lens-search"===N,isInTypeaheadSession:eF,isLensModalOpen:M,searchBoxHovered:eD,searchBoxPlaceholder:e8,setContentTypeFilterHovered:eU,setSearchBoxHovered:eN,setSuggestionsFocusIndex:ev,setSuggestionsHovered:eM,showContentTypeFilter:e3,showIconOnly:e$,suggestedSearchTerms:e9,suggestionGroups:eg,suggestionsFocusIndex:eb,suggestionsMaxHeight:e4,updateSuggestionGroups:em}};function tz(e){var t=e.handleIconOnlyChange,n=e.iconOnly,r=e.isPartner,o=void 0!==r&&r,i=e.widthType,a=void 0===i?"md":i,l=(0,B.F)().checkExperiment,u=(0,J.Z)(),d=(0,f.ZP)(),p=(0,V.B)().isRTL,_=tL({handleIconOnlyChange:t,iconOnly:void 0!==n&&n,widthType:a,isPartner:o}),m=_.allowLens,y=_.appliedQuery,b=_.deferredQuery,v=_.displayedQuery,x=_.endPadding,E=_.enteredQuery,S=_.enteredScope,P=_.handleClearSearch,O=_.handleInclusiveProductFilterClick,I=_.handleInputBlur,T=_.handleInputFocus,A=_.handleKeyDown,w=_.handleScopeChange,j=_.handleSearchIconButtonClick,R=_.handleSuggestionSelect,D=_.handleSyopCtaClick,N=_.handleTextChange,C=_.handleTypedSearchSubmit,k=_.inputFocused,M=_.inSearchDeferredQueryExperiment,L=_.isContentTypeFilterHovered,U=_.isInTypeaheadSession,Z=_.isLensModalOpen,H=_.searchBoxHovered,F=_.searchBoxPlaceholder,W=_.setContentTypeFilterHovered,q=_.setSearchBoxHovered,K=_.setSuggestionsFocusIndex,$=_.setSuggestionsHovered,Q=_.showContentTypeFilter,ee=_.showIconOnly,en=_.suggestedSearchTerms,er=_.suggestionGroups,eo=_.suggestionsFocusIndex,ei=_.suggestionsMaxHeight,ea=_.updateSuggestionGroups;if(ee&&!k&&!y&&!U)return(0,h.jsx)(c.xu,{"data-test-id":"search-box-container",id:"searchBoxContainer",children:(0,h.jsx)(c.hU,{accessibilityLabel:d._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",iconColor:"gray",onClick:j,size:"lg"})});var es=function(e){var t,n,r=e.suggestionsFocusIndex,o=ew(e.suggestionGroups);if("number"==typeof r){for(var i=o.length-1;i>=0;i-=1)if(r>=o[i]){t=i,n=r-o[i];break}}return"number"==typeof t&&"number"==typeof n?eA(t,n):""}({suggestionsFocusIndex:eo,suggestionGroups:er}),el="shrink"===a?"".concat(80,"vw"):void 0,eu=a&&Object.keys(et).includes(a)&&"shrink"!==a?et[a]:"auto",ed=v||o&&Q||U;return(0,h.jsx)(c.xu,{"data-test-id":"search-box-container",flex:"grow",id:"searchBoxContainer",minWidth:eu,paddingX:2,children:(0,h.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:H?X.w:X.S}},display:"flex",height:48,rounding:6,children:[(0,h.jsxs)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:tD({padding:p?"0 16px 0 ".concat(x):"0 ".concat(x," 0 16px")},U?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){q(!0)},onMouseLeave:function(){q(!1)},position:"relative",children:[!(v||k)&&(0,h.jsx)(c.xu,{flex:"none",marginEnd:2,children:(0,h.jsx)(c.JO,{accessibilityLabel:d._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),(0,h.jsx)(Y.Z,{dataTestId:"search-box-input",focusOptionId:es,isFocused:U,name:"searchBoxInput",onBlur:I,onChange:N,onFocus:T,onKeyDown:A,onSearchTrigger:C,placeholder:F,searchBoxHovered:H,suggestedSearchTerms:en,value:v}),ed?(0,h.jsx)(c.xu,{flex:"none",marginStart:3,children:(0,h.jsx)(c.xu,{"data-test-id":"search-cancel",children:(0,h.jsx)(c.hU,{accessibilityLabel:d._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:y?"cancel":"clear",iconColor:"darkGray",onClick:P,size:y?"sm":"lg"})})}):null,l(u.isAuth?"web_auth_existing_search_query_layout_shift_fix":"web_unauth_existing_search_query_layout_shift_fix").anyEnabled||U?(0,h.jsx)(G,{children:(0,h.jsx)(tw,{active:U,focusIndex:eo,maxHeight:ei,onInclusiveProductFilterClick:O,onMouseEnter:function(){return $(!0)},onMouseLeave:function(){return $(!1)},onSuggestionClick:R,onSuggestionGroupsUpdate:ea,onSuggestionHovered:function(e){return K(e)},onSyopCtaClick:D,query:M?b:E,scope:S,searchBoxHeight:52,suggestionGroups:er,width:el})}):null,m&&!E&&(0,h.jsx)(g,{showCancel:ed})]}),Q?(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,h.jsx)(ec,{currentlySelectedFilter:S,currentQuery:y,handleContentTypeFilterHover:function(){o&&W(L)},handleScopeChange:w})]}):null,Z&&(0,h.jsx)(z,{})]})})}function tU(e){return(0,h.jsx)(ex,{children:(0,h.jsx)(tz,tD({},e))})}},930493:function(e,t,n){n.d(t,{W:function(){return c},Z:function(){return d}});var r=n(672652),o=n(684404),i=n(214877),a=n(200397),s=n(140017),l=n(819267),c=[["skinTone1","skinTone2","skinTone3","skinTone4"],["skinTone5","skinTone6","skinTone7","skinTone8"],["skinTone9","skinTone10","skinTone11","skinTone12"],["skinTone13","skinTone14","skinTone15","skinTone16"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function d(e){var t=e.currentlyAppliedFiltersParamTerm,n=e.filterTones,d=e.onClickApplyFilters,p=e.query,f=e.showHeaderText,_=void 0===f||f,h=(0,i.v)().logContextEvent,g=(0,s.ZP)(),m=(0,r.useRef)(null),y=(0,r.useRef)(null),b=function(e){var n,r=t===e?"":e;h({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:p,filter_type:"skin_tone",value:r}}),null===(n=y.current)||void 0===n||n.complete(),d(r)},v=t?g._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):g._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsxs)(o.kC,{alignItems:_?"center":"start",direction:"column",justifyContent:"start",children:[_&&(0,l.jsx)(o.xu,{marginBottom:2,children:(0,l.jsx)(o.xv,{color:"default",overflow:"normal",weight:"bold",children:v})}),(0,l.jsx)(o.xu,{ref:m,display:"flex",flex:"none",paddingX:1,children:(void 0===n?u:n).map(function(e,n){var r=e.term,i=e.display;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},"data-test-id":"skin-tone-option",children:(0,l.jsx)(o.Fm,{color:c[n],onClick:function(){return b(r)},selected:t===r,size:"lg",text:i})},r)})})]}),m&&(0,l.jsx)(a.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(y.current=e)},placementId:29})]})}},622350:function(e,t,n){n.d(t,{GB:function(){return _},ZP:function(){return f},q0:function(){return p}});var r=n(684404),o=n(339001),i=n(203966),a=n(427514),s=n(702497),l=n(843964),c=n(622270),u=n(961936),d=n(819267),p=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function f(e){var t=e.dispatchId,n=e.errorId,l=e.i18n,f=e.ideaPinRenamingEnabled,_=e.options,h=(0,c.Z)(n,l,t,void 0,_);if("GENERAL_ERROR"!==h.id)return h;switch(n){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:l._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:t,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:l._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:t,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:l._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:t,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:l._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:t,id:"BOARD_MISSING",type:"error",message:l._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:t,id:"DATE_IN_PAST",type:"error",message:l._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:t,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:l._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:t,id:"DATE_MISSING",type:"error",message:l._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:t,id:"DESCRIPTION_INVALID",type:"error",message:l._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:t,id:"MEDIA_MISSING",type:"error",message:l._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:t,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:l._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:t,id:"TAG_INVALID",type:"error",message:l._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:t,id:"TAG_EMPTY",type:"error",message:l._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:t,id:"TIME_MISSING",type:"error",message:l._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:t,id:"TITLE_INVALID",type:"error",message:l._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:t,id:"URL_INVALID",type:"error",message:p(l),blocking:!0};case"URL_MISSING":return{dispatchId:t,id:"URL_MISSING",type:"error",message:l._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:t,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,o.nk)(l._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,d.jsx)(r.rU,{display:"inlineBlock",href:s.MsG,target:"blank",underline:"hover",children:(0,d.jsx)(r.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:l._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:t,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.Z)(l._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:i.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:t,id:"URL_IS_BLOCKED",type:"error",message:l._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:t,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:l._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:t,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:l._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:t,id:"URL_IS_REDIRECT",type:"error",message:l._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:t,id:"URL_UNREACHABLE",type:"error",message:l._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:l._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:f?l._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):l._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:f?l._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):l._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:f?l._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):l._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:f?l._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):l._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:t,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:f?l._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):l._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,o.nk)(l._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:u.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,o.nk)(l._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:u.Af}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_PAGES":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_PAGES",type:"error",message:(0,o.nk)(l.ngettext('There cannot be more than {{max_pages}} page', 'There cannot be more than {{max_pages}} pages', i.yX, 'storyPinBuilder.errorMessaging.message', 'Error message when trying to create a Story Pin with more than the allowed number of pages'),{max_pages:i.yX}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_TITLE_MISSING",type:"error",message:f?l._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):l._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var g=Math.floor(i.W_);return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,o.nk)(l.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', g, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:g}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:t,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:l._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var m=i.Lr/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,o.nk)(l.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', m, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:m}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:l._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function _(e,t,n){n({event_type:7564,view_type:212,component:(0,l.Z)().includes("create")?13762:13308,aux_data:{error_message:t,error_id:e}})}},800516:function(e,t,n){var r=(0,n(746074).P1)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(t,n){var r,o=e[n];t[null!==(r=o.url)&&void 0!==r?r:""]=o;var i=o.oldSlugUrl;return i&&(t[i]=o),t},{})});t.Z=r},961936:function(e,t,n){n.d(t,{Af:function(){return u},Ei:function(){return l},II:function(){return b},Lh:function(){return h},U:function(){return f},Zy:function(){return s},dD:function(){return i},er:function(){return _},hb:function(){return m},in:function(){return c},j7:function(){return g},kX:function(){return d},mx:function(){return y},n5:function(){return a},q8:function(){return p},xH:function(){return o}});var r=n(749886),o=1048576,i=3,a=20,s=3,l=10,c=50,u=10,d=1200,p=375,f=375/r.ap,_=1200,h="#FFFFFF",g={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},m=420,y=325,b=768},669501:function(e,t,n){n.d(t,{Z:function(){return U}});var r=n(672652),o=n(328038),i=n(684404),a=n(525364),s=n(140017),l=n(217058),c=n(623409),u=n(468653),d=n(499041),p=n(510989),f=n(96157),_=n(340523),h=n(608516),g=n(5859),m=n(193163),y=n(454051),b=n(819267);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t,n=e.onClick,a=e.onDismiss,l=e.open,u=(0,s.ZP)(),d=(0,o.$B)(),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],_=p[1],h=(0,c.Z)(),x=(0,r.useRef)(null),E=(0,g.B)(),S=E.country,P=E.isBot,O=E.isAuthenticated,I=E.locale,T=(0,m.bl)(),A="en"===I.slice(0,2),w={id:"ideas",text:O||"JP"!==S?u._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'):u._('Explore ideas', 'unauth.header.tabs.ideas.jp', 'label for jp ideas hub'),href:"/ideas/"},j=[w];A&&j.push({id:"videos",text:u._('Watch', 'unauth.header.tabs.videos', 'label for the videos hub tab'),href:"/videos/"}),(P||!O&&A&&"US"===S)&&j.push({id:"shopping",text:u._('Shop', 'unauth.header.tabs.shop', 'label for the shopping hub tab'),href:"/shopping/"}),T&&j.push({id:"today",text:u._('Today', 'unauth.header.tabs.today', 'label for today tab'),href:(0,y.tG)()});var R=-1;d.url.startsWith("/today/")?R=j.findIndex(function(e){return e.href===(0,y.tG)()}):d.url.startsWith("/ideas/")?R=j.findIndex(function(e){return"/ideas/"===e.href}):d.url.startsWith("/videos/")?R=j.findIndex(function(e){return"/videos/"===e.href}):d.url.startsWith("/shopping/")&&(R=j.findIndex(function(e){return"/shopping/"===e.href}));var D=j[R]||w,N=((0,o.$B)(D.href)||{isExact:!1}).isExact,C=function(e){e===(0,y.tG)()?h({action:"click",item:"nav-bar-hub-dropdown-today"}):"/videos/"===e?h({action:"click",item:"nav-bar-hub-dropdown-videos"}):"/ideas/"===e?h({action:"click",item:"nav-bar-hub-dropdown-ideas"}):"/shopping/"===e&&h({action:"click",item:"nav-bar-hub-dropdown-shopping"})};return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(i.kC,{height:"100%",justifyContent:"center",width:"100%",children:(0,b.jsx)(i.xu,{"data-test-id":"hub-dropdown",marginStart:2,minWidth:110,children:(0,b.jsx)(i.zx,{ref:x,accessibilityControls:"hub-dropdown",accessibilityExpanded:l,accessibilityHaspopup:!0,accessibilityLabel:D.text,fullWidth:!0,iconEnd:"arrow-down",onClick:n,selected:l,size:"lg",text:D.text})})}),l&&(0,b.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{zIndex:1100}},"data-test-id":"unauth-header-nav-dropdown",marginTop:1,children:(0,b.jsx)(i.J2,{accessibilityLabel:D.text,anchor:x.current,color:"white",id:"hub-dropdown",idealDirection:"forceDown",onDismiss:a,role:"listbox",shouldFocus:!0,size:"lg",children:(0,b.jsx)(i.xu,{direction:"column",display:"flex",flex:"grow",margin:2,children:j.map(function(e){var t=e.text,n=e.href,r=e.id,o=D.href===n&&N;return(0,b.jsx)(i.xu,{color:f===r?"secondary":"transparent",direction:"column",display:"flex",onMouseEnter:function(){_(r)},onMouseLeave:function(){_("")},padding:2,role:"option",rounding:2,children:(0,b.jsx)(i.rU,{accessibilityLabel:t,href:n,onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;if(a(),o){t.preventDefault(),r();return}C(n)},underline:"none",children:(0,b.jsxs)(i.kC,{children:[(0,b.jsx)(i.kC,{direction:"column",flex:"grow",gap:{column:1,row:0},children:(0,b.jsx)(i.xv,{color:"default",inline:!0,lineClamp:1,weight:"bold",children:t})}),o&&(0,b.jsx)(i.xu,{alignItems:"center",color:"transparent",display:"flex",justifyContent:"center",children:(0,b.jsx)(i.JO,{accessibilityLabel:"Selected item",color:"default",icon:"check",size:12})})]})})},r)})})})})]})}var E=n(554786);function S(){var e=(0,s.ZP)(),t=(0,o.$B)(),n=(0,c.Z)(),r=(0,E.ZP)(),a=(0,g.B)(),l=a.country,u=a.isBot,d=a.isAuthenticated,p=a.locale,f=(0,m.bl)(),_="desktop"===r,h="en"===p.slice(0,2),v=[];f&&v.push({text:e._('Today', 'unauth.header.tabs.today', 'label for today tab'),href:(0,y.tG)()}),h&&v.push({text:e._('Watch', 'unauth.header.tabs.videos', 'label for the videos hub tab'),href:"/videos/"}),(u||!d&&h&&"US"===l)&&v.push({text:e._('Shop', 'unauth.header.tabs.shop', 'label for the shopping hub tab'),href:"/shopping/"}),v.push({text:d||"JP"!==l?e._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'):e._('Explore ideas', 'unauth.header.tabs.ideas.jp', 'label for jp ideas hub'),href:"/ideas/"});var x=-1;return t.path.startsWith("/today/")?x=v.findIndex(function(e){return e.href===(0,y.tG)()}):t.path.startsWith("/ideas/")?x=v.findIndex(function(e){return"/ideas/"===e.href}):t.path.startsWith("/videos/")?x=v.findIndex(function(e){return"/videos/"===e.href}):t.path.startsWith("/shopping/")&&(x=v.findIndex(function(e){return"/shopping/"===e.href})),(0,b.jsx)(i.mQ,{activeTabIndex:x,onChange:function(e){var t=e.activeTabIndex;v[t].href===(0,y.tG)()?n({action:"click",item:"site-map-today"}):"/videos/"===v[t].href?n({action:"click",item:"site-map-videos"}):"/ideas/"===v[t].href?n({action:"click",item:"site-map-ideas"}):"/shopping/"===v[t].href&&n({action:"click",item:"root-nav-shopping"}),_&&(window.location.href=v[t].href)},tabs:v})}var P=n(160567),O=n(373805),I=n(118923),T=n(832853);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=(0,r.lazy)(function(){return n.e(18627).then(n.bind(n,618627))}),R=(0,T.Z)(function(){return n.e(18627).then(n.bind(n,618627))},{ssr:!1}),D=(0,r.forwardRef)(function(e,t){var n=e.onPrimaryButtonClick,a=e.onLoginButtonClick,u=e.primaryButtonText,g=A((0,r.useState)(!1),2),m=g[0],y=g[1],v=A((0,r.useState)(!1),2),T=v[0],w=v[1],D=A((0,r.useState)(!1),2),N=D[0],C=D[1],k=(0,I.b)(),M=(0,s.ZP)(),L=(0,o.TH)(),z=(0,E.ZP)(),U="desktop"===z,Z="tablet"===z,B=(0,r.useRef)(null),H=(0,r.useRef)(null),G=(0,r.useRef)(null),F=(0,_.F)().checkExperiment,V=(0,c.Z)(),Y=U&&(0,f.C$)(L),W=U&&!(0,f.C$)(L),X=A((0,f.C$)(L)&&["red","gray"]||(0,f.uM)(L)&&["transparent","gray"]||["gray","red"],2),q=X[0],K=X[1],$=(0,f.nU)(L)&&F("web_sso_auth_enabled").anyEnabled;return(0,r.useEffect)(function(){var e,t=null===(e=window)||void 0===e?void 0:e.innerWidth;C(!(0,f.C$)(L)&&!Z&&t>=1024)},[L,Z]),(0,r.useEffect)(function(){if(W){var e=function(e){var t,n,r=e.target;r instanceof Node&&!(null!==(t=G.current)&&void 0!==t&&t.contains(r))&&!(null!==(n=H.current)&&void 0!==n&&n.contains(r))&&y(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}},[W]),(0,b.jsxs)(i.xu,{ref:t,alignItems:"center",color:"default",direction:"row",display:"flex",height:P.Pw,justifyContent:"between",padding:4,width:"100%",children:[(0,b.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,b.jsx)(i.iP,{onTap:function(){V({action:"click",item:"pinterest-logo",within:"unauth-header"})},children:(0,b.jsx)(i.xu,{"data-test-id":"unauth-header-logo",children:(0,b.jsx)(i.rU,{display:"inlineBlock",href:"/",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},rounding:"pill",tapStyle:"compress",target:"self",underline:"none",children:(0,b.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",paddingX:3,children:[(0,b.jsx)(i.JO,{accessibilityLabel:M._('Pinterest', 'Pinterest logo', 'Pinterest logo'),color:"brandPrimary",icon:"pinterest",size:Y?32:24}),U&&(0,b.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},marginStart:1,onClick:function(){V({action:"click",item:"pinterest-logo"})},children:(0,b.jsx)(i.X6,{accessibilityLevel:Y?1:2,color:$?"default":"error",overflow:"normal",size:"400",children:$?M._('Business', 'unauthHeader.logoText.business', 'Business text for the sso signup page header'):M._('Pinterest', 'Company name', 'Company name')})})]})})})}),!$&&(N?(0,b.jsx)(x,{onClick:function(){w(!T),(0,l.NC)("click_hub_dropdown_nav"),V({action:"click",item:"nav-bar-hub-dropdown"})},onDismiss:function(){return w(!1)},open:T}):(0,b.jsx)(S,{}))]}),N&&!$&&(0,b.jsx)(d.b,{children:(0,b.jsx)(i.xu,{"data-test-id":"search-box-container",display:"none",flex:"grow",mdDisplay:"block",paddingX:2,children:(0,b.jsx)(O.Z,{widthType:"auto"})})}),$?null:(0,b.jsxs)(i.kC,{alignItems:"center",direction:"row",flex:"none",justifyContent:"start",children:[(0,f.C$)(L)&&(0,b.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginEnd:6,children:[(0,b.jsx)(i.xu,{"data-test-id":"header-about-button",margin:4,children:(0,b.jsx)(i.xv,{weight:"bold",children:(0,b.jsx)(i.rU,{href:"/_/_/about/",onClick:function(){V({action:"click",item:"header-about-button"})},target:"blank",children:M._('About', 'Link to page describing what Pinterest is.', 'Link to page describing what Pinterest is.')})})}),(0,b.jsx)(i.xu,{"data-test-id":"header-business-button",margin:4,children:(0,b.jsx)(i.xv,{weight:"bold",children:(0,b.jsx)(i.rU,{href:"/_/_/business/",onClick:function(){V({action:"click",item:"header-business-button"})},target:"blank",children:M._('Business', 'unauth.homepage.link', 'Link to the Pinterest business site.')})})}),(0,b.jsx)(i.xu,{"data-test-id":"header-blog-button",margin:4,children:(0,b.jsx)(i.xv,{weight:"bold",children:(0,b.jsx)(i.rU,{href:"/_/_/blog/",onClick:function(){(0,l.My)("unauth.homepage_redesign.blog_button_click"),V({action:"click",item:"header-blog-button"})},target:"blank",children:M._('Blog', 'Link to the Pinterest business site.', 'Link to the Pinterest business site.')})})})]}),(0,b.jsx)(i.xu,{"data-test-id":Y?"simple-login-button":"login-button",marginEnd:2,children:(0,b.jsx)(i.zx,{ref:B,color:U&&F("pcons_login_primary_dweb").anyEnabled?U&&(0,f.uM)(L)&&F("pcons_login_primary_dweb").group.includes("pin_page_secondary")?"gray":"red":q,onClick:function(e){return a(e.event)},size:Y?"md":"lg",text:M._('Log in', 'Label for log in button', 'Label for log in button')})}),(!U||!F("pcons_login_primary_dweb").anyEnabled)&&(0,b.jsx)(i.xu,{"data-test-id":Y?"simple-signup-button":"signup-button",children:(0,b.jsx)(i.zx,{color:F("lex_follow_button").group.includes("main_cta")?"gray":K,onClick:function(e){n(e.event)},size:Y?"md":"lg",text:u})}),W&&(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(i.xu,{ref:H,children:(0,b.jsx)(i.xu,{"data-test-id":"setting-button",display:"flex",justifyContent:"center",marginBottom:3,marginStart:2,marginTop:3,children:(0,b.jsx)(i.hU,{accessibilityLabel:M._('Setting', 'unauthHeaderBar.seetingsButton', 'Text for the setting button in the header'),icon:"arrow-down",iconColor:"gray",onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),(0,l.NC)("click_header_setting"),V({action:"click",item:"setting-button"}),y(!m)},size:"xs"})})}),m&&(0,b.jsx)(p.Z,{name:"SafeSuspense_UnauthHeader_UnauthSettingFlyout",children:k?(0,b.jsx)(i.xu,{ref:G,children:(0,b.jsx)(R,{anchor:H.current,fallback:(0,b.jsx)(i.xu,{})})}):(0,b.jsx)(h.Z,{fallback:(0,b.jsx)(i.xu,{}),children:(0,b.jsx)(i.xu,{ref:G,children:(0,b.jsx)(j,{anchor:H.current})})})})]},"settingButton")]})]})});D.displayName="UnauthHeader";var N=n(90647),C=n(773616),k=n(333965);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(e){var t=e.showDesktopSignupModal,n=(0,s.ZP)(),d=(0,o.k6)(),p=(0,o.TH)(),f=(0,C.Z)(),_=(0,c.Z)(),h=(0,a.SU)(),g=h.viewType,m=h.viewParameter,y=(0,u.Z)().trackConversionUpsell,v=function(){(0,l.NC)("mweb_press_header_login"),_({action:"click",within:"unauth-header",item:"login-button"}),t?t("login"):(y({viewType:g,viewParameter:m,element:30,eventType:14688,component:14213,upsellReason:"click_login_on_header"}),d.push({pathname:"/login",state:z({attributionLabel:"click_login_on_header"},p.state)}))};return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(i.xu,{"data-test-id":"unauth-header",position:"fixed",top:!0,width:"100%",zIndex:k.Z,children:f?(0,b.jsx)(N.Z,{app_upsell_type:"unauth-header",componentType:14161,children:function(e){var t=e.handleOpenApp;return(0,b.jsx)(D,{onLoginButtonClick:v,onPrimaryButtonClick:function(){return t({deepLinkUri:"/"===p.pathname?p.pathname:p.pathname.substr(1)})},primaryButtonText:n._('Download app', 'mweb.unauth_header.download_app', 'CTA on the app interstitial upsell to install the app')})}}):(0,b.jsx)(D,{onLoginButtonClick:v,onPrimaryButtonClick:function(){(0,l.NC)("mweb_press_header_signup"),_({action:"click",within:"unauth-header",item:"signup-button"}),t?t("signup"):(y({viewType:g,viewParameter:m,element:31,eventType:14688,component:14215,upsellReason:"click_signup_on_header"}),d.push({pathname:"/signup",state:z({attributionLabel:"click_signup_on_header"},p.state)}))},primaryButtonText:n._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.')})}),(0,b.jsx)(i.xu,{height:P.Pw})]})}},82147:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(780277),o=n(328038),i=n(684404),a=n(587703),s=n(525364),l=n(696534),c=n(378720),u=function(){var e=(0,r.useSelector)(function(e){var t;return!!(null!=e&&null!==(t=e.session)&&void 0!==t&&t.isSeoBot)}),t=(0,c.Z)();return!e&&!t},d=function(e){var t=e.children,n=e.fallback;return u()?n||null:t},p=n(140017),f=n(96157),_=n(340523),h=n(5859),g=n(623409),m=n(468653),y=n(160567),b=n(90647),v=n(773616),x=n(669177),E=n(217058),S=n(721055),P=n(819267);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(){var e,t=(0,p.ZP)(),n=(0,o.TH)(),c=(0,o.k6)(),u=(0,s.SU)(),O=u.viewType,I=u.viewParameter,A=(0,r.useSelector)(function(e){return e.session}),w=A.userAgentPlatform,j=A.userAgent,R=(0,h.B)().isBot,D=(0,x.Rp)({isBot:R,platform:w,userAgent:j}),N=(0,S.Z)(),C=(e=(0,h.B)().isBot,function(t,n){e||(0,E.NC)(t,n)}),k=(0,v.Z)(),M=(0,_.F)().checkExperiment,L=(0,a.Z)(),z=(0,g.Z)(),U=(0,m.Z)().trackConversionUpsell,Z=t._('Log in', 'Label for log in button', 'Label for log in button'),B=t._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),H=!D&&!(0,f.Xn)(n),G=((0,f.dr)(n)||(0,f.$Y)(n)||(0,f.E0)(n))&&!M("lex_follow_button").group.includes("main_cta"),F=!k||N||G?"signup":"download",V=M("mweb_unauth_login_primary_header").group,Y=V.includes("login_primary"),W=!Y&&V.includes("login"),X=t._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),q=(H?Z.length:0)+("signup"===F?B.length:0)+("download"===F?X.length:0),K=(0,P.jsx)(i.zx,{color:Y?"white":G?"red":"gray",fullWidth:!0,onClick:function(){z({action:"click",within:"unauth-header",item:"signup-button"}),L({component:13198,element:31,event_type:102,view_type:O,view_parameter:I}),C("press_header_signup"),U({viewType:O,viewParameter:I,eventType:14688,component:14215,upsellReason:"click_signup_on_header"}),c.push({pathname:"/signup",state:T({attributionLabel:"click_signup_on_header"},n.state)})},size:"md",text:B});return(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,l.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},left:!0,paddingX:3,position:"relative",top:!0,width:"100vw",children:(0,P.jsxs)(i.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,P.jsx)(i.iP,{accessibilityLabel:t._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:function(){z({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,P.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:3,children:[(0,P.jsx)(i.xu,{alignItems:"center","data-test-id":"pinterest-logo-icon",display:"flex",height:y.SB,justifyContent:"center",rounding:2,children:(0,P.jsx)(i.I_,{accessibilityLabel:t._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),href:"/",icon:"pinterest",iconColor:"brandPrimary",padding:1,size:"xl"})}),(0,P.jsx)(i.xu,{"data-test-id":"pinterest-logo-text",paddingX:1,paddingY:2,children:q<18&&(0,P.jsxs)(i.xu,{children:[(0,P.jsx)(i.X6,{color:"error",overflow:"normal",size:"400",children:D?t._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):t._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),D&&(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,P.jsx)(i.xu,{children:(0,P.jsx)(i.xv,{color:"subtle",inline:!0,size:"100",children:t._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,P.jsx)(d,{children:(0,P.jsxs)(i.xu,{alignItems:"center","data-test-id":"UnauthAppUpsellButton",direction:"row",display:"flex",flex:"none",marginEnd:0,children:["signup"===F&&Y&&(0,P.jsx)(i.xu,{"data-test-id":"signup-button",children:K}),H&&(0,P.jsx)(i.xu,{"data-test-id":"login-button",children:(0,P.jsx)(i.zx,{color:V.includes("red")&&"signup"===F?"red":V.includes("gray")&&"signup"===F?"gray":"white",fullWidth:!0,onClick:function(){z({action:"click",within:"unauth-header",item:"login-button"}),L({component:13198,element:30,event_type:102,view_type:O,view_parameter:I}),C("press_header_login"),U({viewType:O,viewParameter:I,eventType:14688,component:14213,upsellReason:"click_login_on_header"}),c.push({pathname:"/login",state:T({attributionLabel:"click_login_on_header"},n.state)})},size:"md",text:Z})}),"signup"!==F||W||Y?"signup"!==F&&(0,P.jsx)(i.xu,{"data-test-id":"download-button",children:(0,P.jsx)(b.Z,{app_upsell_type:"unauth-header",componentType:14161,children:function(e){var t=e.handleOpenApp;return(0,P.jsx)(i.zx,{color:(0,f.j8)(n)||M("lex_follow_button").group.includes("main_cta")?"gray":"red",fullWidth:!0,onClick:function(){t()},size:"md",text:X})}})}):(0,P.jsx)(i.xu,{"data-test-id":"signup-button",children:K})]})})]})})}},333965:function(e,t,n){var r=new(n(684404)).Ry(9999);t.Z=r},866265:function(e,t,n){var r=n(328038),o=n(43604),i=n(5859),a=n(624797),s=n(810052);t.Z=function(){var e=(0,r.TH)(),t=(0,s.a)(),n=(0,i.B)(),l=n.locale,c=n.userAgent,u=c.platform,d=c.raw;if(!t)return!1;var p=t.appInstallBannerIsEnabled,f=t.pinPageGlobalContext,_=!!(0,a.mB)(e.search).invite_code;return p&&!(0,o.$K)(d)&&!(l.includes("ar")&&"ios"!==u)&&!((null==f?void 0:f.isStoryPin)===!0&&_)}},721055:function(e,t,n){var r=n(780277),o=n(328038),i=n(43604),a=n(96157),s=n(5859),l=n(573810),c=n(554786),u=n(773616),d=n(669177),p=n(166630),f=n(953565);t.Z=function(){var e=(0,s.B)().isBot,t=(0,o.TH)(),n=(0,r.useSelector)(function(e){return e.session}),_=n.userAgentPlatform,h=n.userAgent,g=(0,u.Z)();return!((0,c.ml)()&&!g)&&!(0,d.Rp)({isBot:e,platform:_,userAgent:h})&&((0,a.uM)(t)||(0,a.am)(t))&&!(0,p.P)()&&(!(0,i.dh)(h)||((0,l.qn)("ufausfiiab")||((0,f.nP)("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,l.Nh)("ufausfiiab","1")),!1))}},454051:function(e,t,n){function r(e,t){return t?"".concat(e,"?").concat(new URLSearchParams(t).toString()):e}function o(e){return r("/admin/",e)}function i(e){return r("/admin/oauth/logout/",e)}function a(e){return r("/today/",e)}n.d(t,{HF:function(){return o},Kn:function(){return i},tG:function(){return a}})},44801:function(e,t,n){n.d(t,{$Vb:function(){return w},$nM:function(){return m},BOn:function(){return j},BfK:function(){return A},Boy:function(){return eo},CTP:function(){return l},CcT:function(){return ee},DMd:function(){return Z},E8o:function(){return eb},E_l:function(){return c},Euu:function(){return i},FVr:function(){return ew},FjJ:function(){return ez},H3M:function(){return S},I0I:function(){return I},I0k:function(){return ea},JTq:function(){return z},Ky9:function(){return u},LUU:function(){return eA},Lg3:function(){return ey},LyT:function(){return eS},N$G:function(){return eO},OOl:function(){return ek},O_S:function(){return N},PT2:function(){return r},Pgj:function(){return M},Pv2:function(){return R},QzT:function(){return eC},RfW:function(){return E},S6t:function(){return eD},UdT:function(){return h},Uor:function(){return y},UrY:function(){return k},UtA:function(){return ei},WOK:function(){return en},Wvu:function(){return em},X3q:function(){return ed},XxE:function(){return d},YCi:function(){return ef},Zt2:function(){return eM},_SG:function(){return eu},_VP:function(){return V},_Vp:function(){return eI},am:function(){return er},b$4:function(){return J},bJz:function(){return el},cMj:function(){return P},ckK:function(){return x},ePR:function(){return g},efI:function(){return G},f05:function(){return ec},fpf:function(){return eR},gxR:function(){return eL},h5_:function(){return eN},h7s:function(){return Y},hM9:function(){return K},hRj:function(){return B},hcw:function(){return eg},iJi:function(){return H},ieP:function(){return p},jOL:function(){return ep},jRv:function(){return o},k95:function(){return L},kM5:function(){return es},kwM:function(){return ev},kz$:function(){return Q},lWv:function(){return eP},mJW:function(){return T},nSl:function(){return eh},ni8:function(){return O},o7L:function(){return C},odg:function(){return f},pzk:function(){return D},qO2:function(){return $},qx5:function(){return F},rP7:function(){return a},rhk:function(){return v},seF:function(){return _},t4R:function(){return e_},tPA:function(){return q},u2Z:function(){return ej},u4w:function(){return X},uu9:function(){return b},vlc:function(){return W},w89:function(){return et},wMN:function(){return eT},wdt:function(){return U},wvI:function(){return ex},x_d:function(){return s},z5V:function(){return eE}});var r="var(--color-red-pushpin-50)",o="var(--color-red-pushpin-100)",i="var(--color-red-pushpin-200)",a="var(--color-red-pushpin-300)",s="var(--color-red-pushpin-450)",l="var(--color-red-pushpin-500)",c="var(--color-red-pushpin-600)",u="var(--color-red-pushpin-700)",d="var(--color-red-pushpin-800)",p="var(--color-pink-flaminglow-0)",f="var(--color-blue-skycicle-100)",_="var(--color-blue-skycicle-500)",h="var(--color-blue-skycicle-900)",g="var(--color-teal-spabattical-100)",m="var(--color-green-matchacado-900)",y="var(--color-purple-mysticool-100)",b="var(--color-purple-mysticool-200)",v="var(--color-purple-mysticool-300)",x="var(--color-purple-mysticool-500)",E="var(--color-orange-firetini-50)",S="var(--color-yellow-caramellow-50)",P="var(--color-white-mochimalist-0)",O="var(--color-gray-roboflow-50)",I="var(--color-gray-roboflow-100)",T="var(--color-gray-roboflow-200)",A="var(--color-gray-roboflow-300)",w="var(--color-gray-roboflow-400)",j="var(--color-gray-roboflow-500)",R="var(--color-gray-roboflow-600)",D="var(--color-gray-roboflow-700)",N="var(--color-black-cosmicore-900)",C="var(--color-transparent)",k="var(--color-text-subtle)",M="var(--color-text-inverse)",L="var(--color-background-default)",z="var(--color-background-info-base)",U="var(--color-background-info-weak)",Z="var(--color-background-error-base)",B="var(--color-background-warning-base)",H="var(--color-background-success-base)",G="var(--color-background-recommendation-weak)",F="var(--color-background-shopping)",V="var(--color-background-secondary-base)",Y="var(--color-background-inverse-base)",W="var(--color-background-box-default)",X="var(--color-background-box-info-base)",q="var(--color-background-box-info-weak)",K="var(--color-background-box-error-base)",$="var(--color-background-box-error-weak)",Q="var(--color-background-box-warning-base)",J="var(--color-background-box-warning-weak)",ee="var(--color-background-box-success-base)",et="var(--color-background-box-success-weak)",en="var(--color-background-box-recommendation-base)",er="var(--color-background-box-recommendation-weak)",eo="var(--color-background-box-shopping)",ei="var(--color-background-box-primary)",ea="var(--color-background-box-secondary)",es="var(--color-background-box-tertiary)",el="var(--color-background-box-selected)",ec="var(--color-background-box-inverse)",eu="var(--color-background-box-brand)",ed="var(--color-background-box-education)",ep="var(--color-background-box-elevation-accent)",ef="var(--color-background-box-elevation-floating)",e_="var(--color-background-box-elevation-raised)",eh="var(--color-background-box-lightwash)",eg="var(--color-background-box-darkwash)",em="var(--color-background-box-transparentdarkgray)",ey="var(--color-background-box-dark)",eb="var(--color-background-box-light)",ev="var(--color-background-box-transparent)",ex="var(--color-background-formfield-primary)",eE="var(--color-border-container)",eS="var(--color-border-error)",eP="var(--color-data-visualization-10)",eO="var(--color-data-visualization-11)",eI="var(--color-data-visualization-12)",eT="var(--color-data-visualization-01)",eA="var(--color-data-visualization-02)",ew="var(--color-data-visualization-03)",ej="var(--color-data-visualization-04)",eR="var(--color-data-visualization-05)",eD="var(--color-data-visualization-06)",eN="var(--color-data-visualization-07)",eC="var(--color-data-visualization-08)",ek="var(--color-data-visualization-09)",eM="var(--font-size-100)",eL="var(--font-family-default-latin)",ez="var(--elevation-raised-top)"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-PageWrapper-UnauthPageWrapperHeader-67f0900cf7ea4437.js.map