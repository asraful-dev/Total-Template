(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[25874],{553530:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/signup"]=function(){return r(756355).Z}},879945:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/signup/step[step]"]=function(){return r(206290).Z}},14638:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/linked/signup/step[step]"]=function(){return r(228027).Z}},767845:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/signup"]=function(){return r(43026).Z}},262967:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/signup/step[step]"]=function(){return r(953844).Z}},114267:function(e,t){"use strict";t.Z={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},137831:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var o=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"reportGoogleConversion",value:function(e,r,n,i){if(!i){if(void 0===window.gtag_report_conversion){t.queuedGoogleConversions.push({id:e,label:r,url:n});return}window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,event:r,data:n});return}n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});return}n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk){t.queuedPinterestConversions.push({id:e,event:r,data:n});return}n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(1e13*Math.random(),"?")),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,r){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,i=0;i<n.length;i+=1){var o=n[i];o.id===e&&t.reportGoogleConversion(o.id,o.label,o.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){var r,n,i,o,a,s;r=window,n=document,i="script",r.fbq||(o=r.fbq=function(){"function"==typeof o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},r._fbq||(r._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(a=n.createElement(i)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(a,s)),window.fbq("init",e),window.fbq("track","PageView");for(var u=t.queuedFacebookConversions,l=0;l<u.length;l+=1){var c=u[l];c.id===e&&(c.isCustomEvent?t.reportCustomFacebookConversion(e,c.event,c.data):t.reportFacebookConversion(e,c.event,c.data))}}},{key:"insertPinterestTag",value:function(e){(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var r=document.createElement("script");r.async=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}})("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var r=t.queuedPinterestConversions,n=0;n<r.length;n+=1){var i=r[n];i.id===e&&t.reportPinterestConversion(e,i.event,i.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(o,"queuedGoogleConversions",[]),n(o,"queuedFacebookConversions",[]),n(o,"queuedPinterestConversions",[]),t.Z=o},911037:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},z:function(){return o}});var n=r(663915);function i(e){var t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){var r=t[1],i=r&&-1!==r.indexOf(".")?r.split("."):[];if(i.length>=2&&"gmail"===i[0]&&"com"!==i.slice(1).join("."))return!0;var o=(0,n.Z)(r,"gmail.com");if("g"===r.charAt(0)&&(1===o||2===o))return!0}return!1}function o(e,t){var r=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==r.length)return!1;var i=r[1],o=i&&-1!==i.indexOf(".")?i.split("."):[],a=o[0];if(a===t&&o.length>3)return!0;if(o.length>=2){var s=(0,n.Z)(a,t);return a.charAt(0)===t.charAt(0)&&(1===s||2===s)}return(2!==o.length||a!==t||2!==o[1].length&&"com"!==o[1])&&(o.length,!1)}},80749:function(e,t,r){"use strict";function n(e,t){var r=e.split("@")[0],n="";return(n=(n=r.includes(".")?r.replace("."," "):r.includes("_")?r.replace("_"," "):r).replace(/[0-9]/g,""),"GB"===t)?"User_"+n.split("").sort(function(){return .5-Math.random()}).join(""):n.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}r.d(t,{Z:function(){return n}})},663915:function(e,t,r){"use strict";function n(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var r,n,i=[];for(r=0;r<=t.length;r+=1)i[r]=[r];for(n=0;n<=e.length;n+=1)i[0][n]=n;for(r=1;r<=t.length;r+=1)for(n=1;n<=e.length;n+=1)t.charAt(r-1)===e.charAt(n-1)?i[r][n]=i[r-1][n-1]:i[r][n]=Math.min(i[r-1][n-1]+1,Math.min(i[r][n-1]+1,i[r-1][n]+1));return i[t.length][e.length]}r.d(t,{Z:function(){return n}})},391884:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var i;return(i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=e.embedSrc,r=e.embedType,n=e.imagesUrls,i=e.preferredResolution,s=e.excludeOriginals;if(!t&&!r&&!n)return"";if("gif"===r)return t||"";if(!n)return"";if(i){var u="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(u)return u}var l=Object.keys(n).reduce(function(e,t){try{var r=t.split("x")[0];if(Number.isNaN(Number(r)))return o(o({},e),{},a({},t,n[t]));return o(o({},e),{},a({},r,n[t]))}catch(t){return e}},{}),c=Object.keys(l);return s&&"orig"===c[c.length-1]&&c.pop(),l[c.pop()]||""}r.d(t,{Z:function(){return s}})},833106:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(328038),i=r(684404),o=r(140017),a=r(554786),s=r(125768),u=r(819267);function l(e){var t=e.onContinueClick,r=e.onBackClick,l=(0,n.k6)(),c=(0,o.ZP)(),d=(0,a.HG)();return(0,u.jsxs)(i.xu,{marginEnd:d?0:2,marginStart:d?0:2,children:[d?null:(0,u.jsx)(i.xu,{alignItems:"center","data-test-id":"nux-toc-container",display:"flex",height:36,width:"100%",children:(0,u.jsx)(i.xu,{children:(0,u.jsx)(s.Z,{icon:"arrow-back"})})}),(0,u.jsxs)(i.xu,{marginTop:d?4:6,maxWidth:"366px",children:[(0,u.jsx)(i.xu,{marginBottom:4,maxWidth:"90%",children:(0,u.jsx)(i.X6,{accessibilityLevel:1,size:d?"600":"400",children:c._('Create a business account', 'ssoCreateBusinessAccount.title', 'Title for the SSO create business account page')})}),(0,u.jsx)(i.xu,{marginBottom:3,children:(0,u.jsx)(i.xv,{size:"200",children:c._('When you use your business email address, you create a Pinterest business account. This type of account gives you access to business tools like ads and analytics.', 'ssoCreateBusinessAccount.description', 'Description for the SSO create business account page')})}),(0,u.jsx)(i.xu,{marginBottom:3,children:(0,u.jsx)(i.xv,{size:"200",children:c._('To create a non-business account, use your personal email address.', 'ssoCreateBusinessAccount.description2', 'Description for the SSO create business account page')})}),(0,u.jsx)(i.xv,{size:"200",children:c._('With your business account, you\'ll use single sign-on (SSO) for authentication.', 'ssoCreateBusinessAccount.description3', 'Description for the SSO create business account page')})]}),(0,u.jsx)(i.xu,{marginTop:12,children:(0,u.jsxs)(i.kC,{justifyContent:"end",children:[d?(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(i.zx,{fullWidth:!0,onClick:function(){r&&r(),l.goBack()},text:c._('Back', 'ssoCreateBusinessAccount.button.done', 'Back button to go back to the previous page')})}):null,(0,u.jsx)(i.xu,{width:d?"auto":"100%",children:(0,u.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,size:d?"md":"lg",text:c._('Continue with SSO', 'ssoCreateBusinessAccount.button.done', 'Continue with SSO button to go to the SSO page')})})]})})]})}},345276:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(107366),i=r(217058),o=r(624797);function a(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)})}}var u=function(e){var t=(0,o.Qc)(e).hostname;return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},l=function(e){var t=e.origin,r=e.data;return u(t)?String(r):null};function c(){var e,t="undefined"!=typeof window;return{verifySsoUser:(e=s(regeneratorRuntime.mark(function e(t){var r,o,a,s,u,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.Z)({url:"/v3/sso/info/",method:"POST",data:{email:t}});case 3:return o=(r=e.sent.resource_response.data).authorization_uri,a=r.existing_user,s=r.existing_user_is_sso,u=r.is_sso,l=r.redirect_uri,c=r.exchange_code_to_token_info_url,e.abrupt("return",{authorizationUri:o,exchangeCodeToTokenUrl:c,existingUser:a,existingUserIsSso:s,isSso:u,redirectUri:l});case 8:return e.prev=8,e.t0=e.catch(0),(0,i.My)("coreSso.verifyUser.error",{code:e.t0.api_error_code,message:e.t0.message,http_status:e.t0.http_status}),e.abrupt("return",{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null});case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(t){return e.apply(this,arguments)}),authenticateWithSso:function(e){var r,i,a,u=e.callbacks,c=e.exchangeCodeToTokenUrl,d=e.isLogin,p=e.modalUrl;if(!t){null===(i=u.error)||void 0===i||i.call(u,{api_error_code:0,message:"Window is undefined"});return}var f=(r=s(regeneratorRuntime.mark(function e(t){var r,i,s,p,_,h,m,g,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(r=l(t),!(i=(0,o.mB)(r)).code){e.next=23;break}if(!d){e.next=8;break}return u.success({authCode:i.code}),e.abrupt("return");case 8:return e.prev=8,e.next=11,(0,n.Z)({url:c,method:"POST",data:{code:i.code,state:i.state}});case 11:p=(s=e.sent.resource_response.data).sso_id,_=s.sso_id_token,h=s.sso_email,m=s.sso_user_name,p&&_&&h&&m?u.success({ssoId:p,ssoIdToken:_,ssoEmail:h,ssoUserName:m}):null===(g=u.error)||void 0===g||g.call(u,{api_error_code:0,message:"No tokens returned"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),null===(b=u.error)||void 0===b||b.call(u,e.t0);case 19:return e.prev=19,a&&!a.closed&&a.close(),window.removeEventListener("message",f),e.finish(19);case 23:case"end":return e.stop()}},e,null,[[8,16,19,23]])})),function(e){return r.apply(this,arguments)});window.addEventListener("message",f),a=window.open(p,"_blank","width=600,height=600")}}}},657376:function(e,t,r){"use strict";r.d(t,{OA:function(){return c},TL:function(){return g},dA:function(){return b},f$:function(){return h},oH:function(){return d},rY:function(){return u},sk:function(){return m},wQ:function(){return p},xW:function(){return f},yc:function(){return l},ys:function(){return _}});var n=r(953565),i="onloadRecaptchaJsCallback",o="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",s=function(e,t,r){(0,n.nP)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:r}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,n.nP)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:r}})):window.grecaptcha.enterprise.ready(function(){try{window.grecaptcha.enterprise.execute(o,{action:r}).then(e).catch(t)}catch(e){(0,n.nP)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:r}}),t(e)}})},u=function(e,t,r){if(window[i]=function(){return s(e,t,r)},null!==document.getElementById(a))s(e,t,r);else{var n=document.createElement("script");n.id=a,n.src="".concat("https://www.recaptcha.net/recaptcha/enterprise.js","?onload=").concat(i,"&render=").concat(o);var u=document.getElementsByTagName("script")[0];u.parentNode&&u.parentNode.insertBefore(n,u)}},l=105e3,c=8e3,d=3e4,p="mweb_auth",f="mweb_login",_="mweb_signup",h="web_auth",m="web_unauth",g="mweb_change_password",b="web_change_password"},194602:function(e,t,r){"use strict";var n=r(672652),i=function(){return function(){}},o=function(){return!1},a=function(){return!0};t.Z=function(){return(0,n.useSyncExternalStore)(i,o,a)}},19447:function(e,t,r){"use strict";r.d(t,{AF:function(){return u},H0:function(){return l},S6:function(){return c},_S:function(){return d}});var n=r(780277),i=r(342513),o=r(819267),a=(0,i.Z)("Pins"),s=a.Provider,u=a.useHook,l=a.useMaybeHook;function c(){var e=u();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.pins},n.shallowEqual);return(0,o.jsx)(s,{value:r,children:t})}},288653:function(e,t,r){"use strict";r.d(t,{X:function(){return c},m:function(){return l}});var n=r(672652),i=r(342513),o=r(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,i.Z)("Session"),u=s.Provider,l=s.useHook;function c(e){var t,r=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],l=i[1],c=(0,n.useMemo)(function(){return{unauthBoardInvite:s,setUnauthBoardInvite:l}},[s]);return(0,o.jsx)(u,{value:c,children:r})}},874143:function(e,t,r){"use strict";r.d(t,{J5:function(){return p},Zd:function(){return d},dD:function(){return f}});var n=r(573810),i=r(624797),o=r(953565);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n.key),n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c="adcredits",d=function(){if(!window)return!1;var e=(0,i.mB)(window.location.search).utm_medium;return!!e&&e===c},p=function(){function e(){s(this,e),this.key="paid.campaign.".concat(c)}return l(e,[{key:"markEligible",value:function(){(0,n.Nh)(this.key,"true"),(0,o.nP)("partner.paid.ad_credits.seen",{sampleRate:1,tags:{platform:"mobile"}})}},{key:"isEligible",value:function(){return"true"===(0,n.qn)(this.key)}},{key:"claim",value:function(){(0,n.Nh)(this.key,"false"),(0,o.nP)("partner.paid.ad_credits.claimed",{sampleRate:1,tags:{platform:"mobile"}})}}]),e}(),f=function(){function e(){s(this,e),this.key="paid.marketingoffer"}return l(e,[{key:"markEligible",value:function(e){(0,n.Nh)(this.key,e),(0,o.nP)("partner.paid.marketingoffer.".concat(e,".seen"),{sampleRate:1,tags:{platform:"mobile"}})}},{key:"isEligible",value:function(){return null!=(0,n.qn)(this.key)}},{key:"getOfferId",value:function(){return(0,n.qn)(this.key)}},{key:"claim",value:function(){if(this.isEligible()){var e=(0,n.qn)(this.key);(0,n.Nh)(this.key,null),(0,o.nP)("partner.paid.marketingoffer.".concat(e,".claimed"),{sampleRate:1,tags:{platform:"mobile"}})}}}]),e}()},744284:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(684404),i=r(5859),o=r(194602),a=r(490166),s=r(432242),u=r(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={emailSuggestionDropdown:{border:"1px solid rgb(181, 181, 181)",zIndex:1}};function f(e){var t=e.email,r=e.emailFieldElement,l=e.handleEmailSuggestionClick,c=e.showUsername,f=(0,i.B)().country,_=(0,s.Z)(f),h=function(e){if((0,o.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};var t=e.getBoundingClientRect();return{width:t.width,top:t.y+t.height}}(r),m=h.width,g=h.top;return(0,u.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:d(d({},p.emailSuggestionDropdown),{},{top:g})},direction:"column",display:"flex",position:"absolute",width:m,children:_.map(function(e){var r=c?t.concat(e):e;return(0,u.jsx)(n.xu,{children:(0,u.jsx)("div",{onMouseDown:function(){l(t.concat(e))},role:"button",tabIndex:0,children:(0,u.jsx)(a.Z,{pressState:"none",children:(0,u.jsx)(n.xu,{paddingX:3,paddingY:2,children:(0,u.jsx)(n.xv,{children:r})})})})},r)})})}},335475:function(e,t,r){"use strict";r.d(t,{Z:function(){return t_}});var n=r(672652),i=r(780277),o=r(328038),a=r(684404),s=r(216167),u=r(29156),l=r(807657),c=r(197059),d=r(899378),p=r(137831),f=r(114267),_=r(587703),h=r(658583),m=r(622541),g=r(11109),b=r(107366),v=r(892731),y=r(930837),S=r(454514),E=r(140017),w=r(80749),P=r(179425),T=r(96452),A=r(602377),O=r(516256),x=r(833106),j=r(345276),C=r(340523),I=r(657376),R=r(5859),k=r(975048),D=r(245593),N=r(217058),L=r(13848),B=r(624797),U=r(554786),z=r(472980),Z=r(149722),F=r(325778),M=r(747602),W=r(288653),V=r(874143),H=r(407996),G=r(546689),q=r(942397),Y=r(92056),K=r(310822),Q=r(27460),X=r(615208),J=r(170568),$=r(623281),ee=r(386129),et=r(549629),er=r(274696),en=r(819267);function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eo(e){var t,r=e.disabled,i=e.getFocusFieldRef,o=e.handleChangePassword,s=e.handlePasswordReset,u=e.isReducedHeader,l=e.password,c=e.setValidState,d=e.error,p=void 0===d?"":d,f=e.showPLPBanner,_=e.viewType,h=(0,E.ZP)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(p))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],b=m[1];(0,et.Q)({view_type:_,view_parameter:3207}),(0,n.useEffect)(function(){return b(p)},[p]),(0,n.useEffect)(function(){l?c(""):c("Missing password")},[l]);var v=h._('Looks like you\'re already on Pinterest', 'Heading indicating that the user is already registered on Pinterest', 'Heading indicating that the user is already registered on Pinterest');return(0,en.jsxs)(a.xu,{marginTop:3,children:[(0,en.jsx)(a.xu,{marginBottom:2,children:(0,en.jsx)(er.Z,{minHeight:60,children:(0,en.jsx)(a.X6,{overflow:"normal",size:u||void 0!==f&&f?"500":"600",children:v})})}),(0,en.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:2,children:(0,en.jsx)(a.xu,{flex:"grow",children:(0,en.jsx)(a.nv,{ref:i,disabled:r,errorMessage:g,id:"password",onChange:function(e){o(e.value).then(function(){g&&b("")})},placeholder:h._('Enter your password', 'Enter password field label', 'Enter password field label'),size:"lg",type:"password",value:l})})}),(0,en.jsx)(a.xu,{"data-test-id":"reset-password",marginTop:1,children:(0,en.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,en.jsx)(a.rU,{display:"inlineBlock",href:"/password/reset",onClick:s,underline:"hover",children:h._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]})}var ea=r(790246),es=r(237704),eu=r(911037),el=r(339001),ec=r(744284);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(t){ev(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ey(n.key),n)}}function em(e,t){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eg(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eb(e){return(eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ev(e,t,r){return(t=ey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ey(e){var t=function(e,t){if("object"!==ed(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ed(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ed(t)?t:String(t)}var eS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&em(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eb(o);if(t){var n=eb(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ed(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eg(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ev(eg(e=i.call.apply(i,[this].concat(r))),"state",{email:e.props.email,emailFieldElement:null,error:"",shouldShowEmailSuggestions:!1}),ev(eg(e),"onBlur",function(t){var r=t.value;e.props.emailError||e.validate(r,!e.props.checkExperiment("pcons_double_login_on_signup_page").anyEnabled)}),ev(eg(e),"onChange",function(t){var r=t.value;if(e.props.setEmailError(null),e.props.handleChangeEmail(r).then(e.validate(r,!1)),e.state.shouldShowEmailSuggestions)e.setState({shouldShowEmailSuggestions:!1});else if(r.endsWith("@")){var n=e.emailTextFieldInput;e.setState({shouldShowEmailSuggestions:!0,emailFieldElement:n})}e.setState({email:r})}),ev(eg(e),"showEmailDomainTypoError",function(t,r){var n,i=e.state.email,o=(function(e){if(Array.isArray(e))return e}(n=(i||"").includes("@")?i.split("@"):[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];("gmail"===r?"gmail.com"===o:(o||"").startsWith("".concat(r,".")))||(e.setState({error:""}),e.props.setEmailError({type:"domainTypo",fixedEmail:"".concat(t,"@").concat(r,".com")}),e.props.setValidState("".concat(r," error")),(0,N.My)("unauth_mweb.signup.".concat(r,"_suggestion.shown")))}),ev(eg(e),"validate",function(t,r){var n=e.props,i=n.setValidState,o=n.validateEmailExists,a=(t||"").includes("@")?t.split("@"):[];if((0,eu.Z)(t)){var s=a[0];o(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),i()):e.showEmailDomainTypoError(s,"gmail")}).catch(function(t){T.Cx.includes(t.api_error_code)?e.setState({error:t.message}):e.showEmailDomainTypoError(s,"gmail")});return}var u=!1;["yahoo","hotmail"].forEach(function(r){if((0,eu.z)(t,r)){u=!0;var n=a[0];o(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),i()):e.props.checkExperiment("mweb_yahoo_hotmail_autocorrection").anyEnabled&&e.showEmailDomainTypoError(n,r)}).catch(function(t){T.Cx.includes(t.api_error_code)?e.setState({error:t.message}):e.props.checkExperiment("mweb_yahoo_hotmail_autocorrection").anyEnabled&&e.showEmailDomainTypoError(n,r)})}}),u||e.props.setEmailError(null);var l=(0,M.a3)(t,[(0,M.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')}),(0,M.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);l&&r&&(0,M.a3)(t,[(0,M.oR)({message:"Contains non-ASCII characters"})])&&(0,N.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciiemail"),e.setState({error:r?l:""}),i(l)}),ev(eg(e),"handleEmailSuggestionClick",function(t){(0,N.My)("mweb_unauth_email_suggestions.signup_page.tap"),e.onChange({value:t})}),ev(eg(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,i=t.showPLPBanner;return r?"400":n||i?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.email,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.disabled,i=t.getFocusFieldRef,o=t.hideLabel,s=t.showModernizedNuxUI,u=t.showPLPBanner,l=t.emailError,c=this.state,d=c.error,p=c.email;return(0,en.jsxs)(a.xu,{marginTop:3,children:[!o&&(0,en.jsx)(a.__,{htmlFor:"email",children:(0,en.jsx)(a.xu,{"data-test-id":"email-address-heading",marginBottom:u?3:10,children:(0,en.jsx)(er.Z,{center:s,minHeight:60,children:(0,en.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:this.getHeadingSize(),children:r._('What\'s your email?', 'Sign up page field label', 'Sign up page field label')})})})}),(0,en.jsxs)(a.xu,{marginTop:2,children:[(0,en.jsx)(a.nv,{ref:function(t){e.emailTextFieldInput=t,i(t)},autoComplete:this.state.shouldShowEmailSuggestions?"off":"on",disabled:n,errorMessage:this.state.shouldShowEmailSuggestions?"":d,id:"email",onBlur:this.onBlur,onChange:this.onChange,placeholder:s?r._('Enter your email address', 'signup.email_step.email_input.placeholder', 'placeholder for email input'):r._('Email address', 'Field label', 'Field label'),size:"lg",type:"email",value:p}),!!l&&(0,en.jsx)(a.xu,{"data-test-id":"invalid-email-container",marginTop:1,children:"domainTypo"===l.type?(0,en.jsx)(a.iP,{onTap:function(){e.onChange({value:l.fixedEmail}),e.props.setEmailError(null),e.props.setValidState(),(0,N.My)("unauth_mweb.signup.gmail_suggestion.click")},children:(0,en.jsx)(a.xv,{color:"error",children:(0,el.nk)(r._('Did you mean {{ emailElement }}?', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)'),{emailElement:(0,en.jsx)(a.xv,{color:"error",inline:!0,weight:"bold",children:l.fixedEmail})})})}):(0,en.jsx)(a.xv,{color:"error",children:r._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}),this.state.shouldShowEmailSuggestions?(0,en.jsx)(ec.Z,{email:this.state.email,emailFieldElement:this.state.emailFieldElement,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null]})]})}}],eh(o.prototype,r),n&&eh(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eE(e){var t=(0,E.ZP)(),r=(0,i.useDispatch)(),n=(0,C.F)().checkExperiment;(0,et.Q)({view_type:e.viewType,view_parameter:3146});var o=e.showModernizedNuxUI;return(0,en.jsx)(eS,ef(ef({validateEmailExists:function(e){return r((0,ee.OF)(e))}},e),{},{checkExperiment:n,i18n:t,showModernizedNuxUI:o}))}var ew=r(105604),eP=r(589603);function eT(e){return(eT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(t){eR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}function ej(e,t){return(ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eI(e){return(eI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eR(e,t,r){return(t=ek(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=function(e,t){if("object"!==eT(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eT(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eT(t)?t:String(t)}var eD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eI(o);if(t){var n=eI(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eT(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eC(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eR(eC(e=i.call.apply(i,[this].concat(r))),"state",{error:""}),eR(eC(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eR(eC(e),"onChange",function(t){var r=t.value;e.props.handleChangeName(r).then(e.validate(r,!1))}),eR(eC(e),"validate",function(t,r){var n=(0,M.a3)(t,[(0,M.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})]);e.setState({error:r?n:""}),e.props.setValidState(n)}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.name,!1)}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,r=e.disabled,n=e.getFocusFieldRef,i=e.name,o=this.state.error;return(0,en.jsxs)(a.xu,{"data-test-id":"business-name-heading",marginTop:3,children:[(0,en.jsx)(a.__,{htmlFor:"name",children:(0,en.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:"500",children:t?this.props.i18n._('What\'s your business name?', 'Sign up page field label', 'Sign up page field label'):this.props.i18n._('What\'s your name?', 'Sign up page field label', 'Sign up page field label')})}),(0,en.jsx)(a.xu,{"data-test-id":"name-field",marginTop:2,children:(0,en.jsx)(a.nv,{ref:n,disabled:r,errorMessage:o,id:"name",onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.i18n._('Business name', 'Textfield placeholder', 'Textfield placeholder'):this.props.i18n._('Full name', 'Textfield placeholder', 'Textfield placeholder'),size:"lg",type:"text",value:i})})]})}}],ex(o.prototype,r),n&&ex(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eN(e){var t=(0,E.ZP)();return(0,et.Q)({view_type:e.viewType,view_parameter:3148}),(0,en.jsx)(eD,eO(eO({},e),{},{i18n:t}))}function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(r),!0).forEach(function(t){eW(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ez(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eV(n.key),n)}}function eZ(e,t){return(eZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eF(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eM(e){return(eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eW(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=function(e,t){if("object"!==eL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eL(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eL(t)?t:String(t)}var eH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eZ(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eM(o);if(t){var n=eM(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eL(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eF(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eW(eF(e=i.call.apply(i,[this].concat(r))),"state",{error:""}),eW(eF(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eW(eF(e),"onChange",function(t){var r=t.value;e.props.handleChangePassword(r).then(e.validate(r,!0))}),eW(eF(e),"validate",function(t,r){var n=(0,M.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'PasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password')}),i=(0,M.a3)(t,[(0,F.NewPassword)({blackPassStr:e.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:e.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:e.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')}),n]);e.setState({error:r?i:""}),e.props.setValidState(i),(0,M.a3)(t,[n])&&r&&(0,N.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciipwd")}),eW(eF(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,i=t.showPLPBanner;return r?"400":n||i?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.password,!1)}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.disabled,n=e.getFocusFieldRef,i=e.password,o=e.showModernizedNuxUI,s=e.showPLPBanner,u=this.state.error;return(0,en.jsxs)(a.xu,{marginTop:3,children:[(0,en.jsx)(a.__,{htmlFor:"password",children:(0,en.jsx)(a.xu,{"data-test-id":"create-password-heading",marginBottom:s?3:10,children:(0,en.jsx)(er.Z,{center:o,minHeight:60,children:(0,en.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:this.getHeadingSize(),children:t._('Create a password', 'Sign up page field label', 'Sign up page field label')})})})}),(0,en.jsx)(a.xu,{"data-test-id":"password-field",marginTop:2,position:"relative",children:(0,en.jsx)(a.nv,{ref:n,autoComplete:"new-password",disabled:r,errorMessage:u,helperText:t._('Password with 6 or more characters', 'Placeholder text on the password input field on the mobile Password step page', 'Placeholder text on the password input field on the mobile Password step page'),id:"password",onBlur:this.onBlur,onChange:this.onChange,placeholder:t._('Enter your password', 'signup.email_step.password_input.placeholder', 'placeholder for password input'),size:"lg",type:"password",value:i})})]})}}],ez(o.prototype,r),n&&ez(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eG(e){var t=(0,E.ZP)(),r=(0,_.Z)(),n=e.showModernizedNuxUI;return(0,et.Q)({view_type:e.viewType,view_parameter:3147}),(0,en.jsx)(eH,eU(eU({},e),{},{i18n:t,logContextEvent:r,showModernizedNuxUI:n}))}var eq=r(555740),eY=r(18131),eK=r(800030),eQ=r(874059),eX=r(843739),eJ=r(953565),e$=["passwordValidationError"];function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e){return function(e){if(Array.isArray(e))return e2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e3(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e3(e,t){if(e){if("string"==typeof e)return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(e,t)}}function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e6(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,i)}function e8(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){e6(o,n,i,a,s,"next",e)}function s(e){e6(o,n,i,a,s,"throw",e)}a(void 0)})}}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(t){tr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tn(n.key),n)}}function e9(e,t){return(e9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function te(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t,r){return(t=tn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tn(e){var t=function(e,t){if("object"!==e0(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e0(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e0(t)?t:String(t)}var ti={EMAIL_STEP:1,PASSWORD_STEP:2,NAME_STEP:3,BIRTHDAY_STEP:4,ALREADY_HAS_PASSWORD_STEP:5,WEBSITE_STEP:6,INTENT_STEP:7,SALES_CONTACT_STEP:8,BUSINESS_TYPE_STEP:9,SSO_STEP:10,CONSENT_STEP:11},to=[ti.EMAIL_STEP,ti.PASSWORD_STEP,ti.BIRTHDAY_STEP],ta=[ti.EMAIL_STEP,ti.PASSWORD_STEP,ti.BIRTHDAY_STEP],ts=[ti.EMAIL_STEP,ti.SSO_STEP,ti.BIRTHDAY_STEP],tu=[ti.EMAIL_STEP,ti.PASSWORD_STEP,ti.NAME_STEP,ti.BUSINESS_TYPE_STEP,ti.WEBSITE_STEP,ti.INTENT_STEP,ti.BIRTHDAY_STEP],tl=[ti.NAME_STEP,ti.BUSINESS_TYPE_STEP,ti.WEBSITE_STEP,ti.INTENT_STEP],tc=[ti.PASSWORD_STEP,ti.NAME_STEP,ti.BIRTHDAY_STEP],td=new V.J5,tp=new V.dD,tf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e9(e,t)}(c,e);var t,r,i,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tt(c);if(t){var n=tt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e0(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return te(e)}(this,e)});function c(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),tr(te(r=o.call(this,e)),"handleBack",function(e){return r.setState({stepToRender:e})}),tr(te(r),"getStepFromMatchParams",function(e){return parseInt(e.match.params.step||1,10)||0}),tr(te(r),"getSteps",function(){var e=r.props,t=e.isBusiness,n=e.isConsentStepNeeded,i=e.isGroupBoardSignup,o=e.isLBA,a=ta;return i?a=to:o?a=tl:t&&(a=tu),n&&a.push(ti.CONSENT_STEP),a}),tr(te(r),"setIsExistingUser",function(e,t){e?r.setState({isExistingUser:e,steps:[ti.EMAIL_STEP,ti.ALREADY_HAS_PASSWORD_STEP]},t):r.setState({isExistingUser:e,steps:r.getSteps()},t)}),tr(te(r),"setValidState",function(e){r.setState({isValid:!e})}),tr(te(r),"getCurrentActionName",function(){switch(r.state.stepToRender){case ti.EMAIL_STEP:return"email";case ti.PASSWORD_STEP:case ti.ALREADY_HAS_PASSWORD_STEP:return"password";case ti.NAME_STEP:return"name";case ti.BIRTHDAY_STEP:return"birthday";case ti.WEBSITE_STEP:return"website";case ti.INTENT_STEP:return"intent";case ti.SALES_CONTACT_STEP:return"sales_contact";case ti.BUSINESS_TYPE_STEP:return"business_type_step";case ti.CONSENT_STEP:return"consent_step";default:return"undefined"}}),tr(te(r),"getNextButtonText",function(){var e=r.state,t=e.steps,n=e.stepToRender,i=r.props,o=i.isGroupBoardSignup,a=i.i18n,s=a._('Accept invite', 'Accept the invite and move through the signup/login process', 'Accept the invite and move through the signup/login process');return n===ti.ALREADY_HAS_PASSWORD_STEP?o?s:a._('Log in', 'Button to login for existing user', 'Button to login for existing user'):t[t.length-1]===n?o?s:a._('Done', 'Go to next step account signup', 'Go to next step account signup'):null}),tr(te(r),"getViewParameterType",function(){switch(r.state.stepToRender){case ti.EMAIL_STEP:return 3146;case ti.PASSWORD_STEP:return 3147;case ti.NAME_STEP:return 3148;case ti.ALREADY_HAS_PASSWORD_STEP:return 3207;case ti.BIRTHDAY_STEP:return 3737;case ti.WEBSITE_STEP:return 3376;case ti.INTENT_STEP:return 3377;case ti.SALES_CONTACT_STEP:return 3378;case ti.BUSINESS_TYPE_STEP:return 3406;case ti.CONSENT_STEP:return 4038;default:return}}),tr(te(r),"getInferredUserInfo",function(){return{connected_to_facebook:!1,connected_to_google:!1,email:r.state.email,first_name:(0,w.Z)(r.state.email,r.props.country),has_password:!1,large_image_url:"",medium_image_url:"",small_image_url:"",xlarge_image_url:""}}),tr(te(r),"navigateToStep",function(e){r.setState(function(t){return{stepToRender:t.steps[e-1],canEditCurrentTextField:!0}},function(){var t,n,i="/signup/step".concat(e,"/"),o=r.props,a=o.history,s=o.isBusiness,u=o.isLBA,l=o.location,c=o.isGroupBoardSignup,d=r.state,p=(d.passwordValidationError,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(d,e$)),f=null===(t=l.state)||void 0===t?void 0:t.attributionLabel,_=(0,B.mB)(l.search).next||(null===(n=l.state)||void 0===n?void 0:n.next);s?i="/business/signup/step".concat(e,"/"):u&&(i="/linked/signup/step".concat(e,"/")),a.push({pathname:i,state:c?e7(e7(e7({},l.state),p),{},{attributionLabel:f,next:_}):e7(e7(e7({},l.state),p),{},{attributionLabel:f})})})}),tr(te(r),"shouldSkipIntentStep",function(e){var t=r.state,n=t.steps,i=t.businessType;return n.length>e+1&&n[e+1]===ti.INTENT_STEP&&"influencer_public_figure_or_celebrity"===i}),tr(te(r),"handleSsoContinue",function(){var e=r.props,t=e.authenticateWithSso,n=e.country,i=e.logContextEvent,o=r.state,s=o.email,u=o.exchangeCodeToTokenUrl,l=o.ssoAuthorizationUri;i({view_parameter:4014,view_type:664,event_type:102,element:14367}),t({callbacks:{success:function(e){var t=(0,w.Z)(s||"",n),i=e.ssoEmail,o=e.ssoId,a=e.ssoIdToken;if(i&&o&&a){r.setState({ssoEmail:i,ssoId:o,ssoIdToken:a,ssoName:t,fullName:t});var u=r.getStepFromMatchParams(r.props);r.navigateToStep(u+1)}},error:function(){r.props.showToast(function(e){var t=e.hideToast;return(0,en.jsx)(a.xu,{"data-test-id":"error-sso-create-account-toast",children:(0,en.jsx)(S.ZP,{onHide:t,text:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'signup.sso.error', 'Error during sso signup'),type:"error"})})})}},exchangeCodeToTokenUrl:u,modalUrl:null!=l?l:""})}),tr(te(r),"nextSignupStep",e8(regeneratorRuntime.mark(function e(){var t,n,i,o,a,s,u,l,c,d,p,f,_,g,v,y,E,P,A,O,x,j,C,I,R,k,D,N,L,B,U;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=r.props).history,o=n.isLimitedLoginUser,a=n.location,s=n.loggedOutUserInfo,u=n.showToast,l=n.validateEmailExists,c=n.isGroupBoardSignup,d=n.isLBA,p=n.isOnSsoExperiment,_=(f=r.state).email,g=f.intent,v=f.steps,y=f.stepToRender,E=r.getStepFromMatchParams(r.props),P=null===(t=a.state)||void 0===t?void 0:t.attributionLabel,"1"!==h.U2(m.It)){e.next=8;break}return r.setState({isLoading:!1}),u(function(e){var t=e.hideToast;return(0,en.jsx)(S.ZP,{duration:3e3,onHide:t,text:r.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Underage error during signup'),type:"error"})}),e.abrupt("return");case 8:if(r.shouldSkipIntentStep(E)&&(A=[].concat(e1(v.slice(0,E+1)),e1(v.slice(E+2))),r.setState({steps:A})),y!==ti.EMAIL_STEP){e.next=29;break}if(!p){e.next=26;break}return O=r.props.verifySsoUser,e.next=14,O(_);case 14:if(j=(x=e.sent).isSso,C=x.existingUser,I=x.exchangeCodeToTokenUrl,R=x.authorizationUri,!(j&&!C)){e.next=25;break}return r.props.logContextEvent({element:14367,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),r.setState({exchangeCodeToTokenUrl:null!=I?I:"",ssoAuthorizationUri:null!=R?R:"",steps:ts,isSsoFlow:!0},function(){return r.navigateToStep(E+1)}),e.abrupt("return");case 25:r.state.isSsoFlow&&r.setState({steps:r.getSteps(),isSsoFlow:!1});case 26:return l(r.state.email).then(function(){var e=e8(regeneratorRuntime.mark(function e(t){var n,u,l,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.resource_response.data){e.next=8;break}if(r.setState({isLoading:!1}),!(!s&&!o&&!c)){e.next=6;break}return i.replace({pathname:a.pathname,state:e7(e7({},a.state),{},{email:_,attributionLabel:P})}),i.push({pathname:"/login",state:{switch_account:null===(n=a.state)||void 0===n?void 0:n.switch_account,secondary_account:null===(u=a.state)||void 0===u?void 0:u.secondary_account,next:null===(l=a.state)||void 0===l?void 0:l.next,userInfo:r.getInferredUserInfo(),attributionLabel:P}}),e.abrupt("return");case 6:return r.setIsExistingUser(!0,function(){return r.navigateToStep(E+1)}),e.abrupt("return");case 8:return e.next=10,(0,b.Z)({url:"/v3/email/validation/",data:{email:r.state.email}});case 10:p=(d=(e.sent.resource_response||{}).data)&&d.is_valid,r.setState({isLoading:!1}),p?(r.setState(function(e){var t=e.email;return{fullName:r.props.isBusiness?"":(0,w.Z)(t,r.props.country)}}),r.navigateToStep(E+1)):r.setState({canEditCurrentTextField:!0,isValid:!1,emailError:{type:"invalid"}});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){r.setState({isLoading:!1}),T.Cx.includes(e.api_error_code)&&null!=e&&e.message&&u(function(t){var r=t.hideToast;return(0,en.jsx)(S.ZP,{duration:3e3,onHide:r,text:e.message,type:"error"})})}),r.setState({isLoading:!0}),e.abrupt("return");case 29:if(y!==ti.ALREADY_HAS_PASSWORD_STEP){e.next=32;break}return r.loginUser(),e.abrupt("return");case 32:if(!(y===ti.INTENT_STEP&&r.isCountryUS())){e.next=60;break}if(k=(0,eP.x)(r.props.i18n),D=!1,e.t0=g===k.NOT_SURE.value,!e.t0){e.next=40;break}return e.next=39,r.isLeadScoringEligible("mweb_not_sure_intent");case 39:e.t0=e.sent;case 40:if(!e.t0){e.next=42;break}D=!0;case 42:if(e.t1=g===k.YES.value,!e.t1){e.next=47;break}return e.next=46,r.isLeadScoringEligible("mweb_yes_intent");case 46:e.t1=e.sent;case 47:if(N=e.t1,!(-1===v.indexOf(ti.SALES_CONTACT_STEP)&&(D||N))){e.next=55;break}return(L=tu).push(ti.SALES_CONTACT_STEP),r.setState({steps:L},function(){r.navigateToStep(E+1)}),e.abrupt("return");case 55:if(!(g!==k.YES.value&&-1!==v.indexOf(ti.SALES_CONTACT_STEP))){e.next=60;break}return(B=tu.slice()).pop(),r.setState({steps:B},function(){r.registerUser()}),e.abrupt("return");case 60:U=v[v.length-1],y===U?d?r.updateLBA():r.registerUser():r.navigateToStep(E+1);case 62:case"end":return e.stop()}},e)}))),tr(te(r),"handleChangeEmail",function(e){return new Promise(function(t){return r.setState({email:e},t)})}),tr(te(r),"handleChangePassword",function(e){return new Promise(function(t){return r.setState({password:e},t)})}),tr(te(r),"handleChangeFullName",function(e){return new Promise(function(t){var n={fullName:e};r.state.isSsoFlow&&(n={fullName:e,ssoName:e}),r.setState(n,t)})}),tr(te(r),"handleChangeWebsite",function(e){return new Promise(function(t){return r.setState({website:e},t)})}),tr(te(r),"handleChangeIntent",function(e){return new Promise(function(t){return r.setState({intent:e},t)})}),tr(te(r),"handleChangePhone",function(e){return new Promise(function(t){return r.setState({phone:e},t)})}),tr(te(r),"handleChangeSalesName",function(e){return new Promise(function(t){return r.setState({salesName:e},t)})}),tr(te(r),"handleChangeBusinessType",function(e){return new Promise(function(t){return r.setState({businessType:e},t)})}),tr(te(r),"handleChangeBirthday",function(e){return new Promise(function(t){return r.setState({birthdayString:e},t)})}),tr(te(r),"loginUser",function(){var e=r.props,t=e.history,n=e.isAuthenticated,i=e.isLimitedLoginUser,o=e.location,a=e.login,s=e.isGroupBoardSignup,u=r.state,l=u.email,c=u.password,d="";if(s){var p=o&&o.state&&o.state.next;d=p?"".concat(p,"&").concat((0,B.XP)({accept_invite:!0,seamless:!0})):""}a({username_or_email:l,password:c},t,o.state?d||o.state.next:"",void 0,{event_type:7534,view_type:10,view_parameter:3203,aux_data:e7(e7({},n?{login_state:i?A.Z.LIMITED:A.Z.DEFAULT}:{}),{},{signup_login_method:O.Z.EMAIL})}).catch(function(e){r.setState({isLoading:!1,passwordValidationError:e.message,canEditCurrentTextField:!0})}),r.setState({isLoading:!0,passwordValidationError:""})}),tr(te(r),"registerUser",function(){var e,t,n,i,o=r.state,a=o.birthdayString,s=o.email,c=o.fullName,d=o.password,_=o.steps,b=o.gender,v=o.customGender,y=o.website,E=o.intent,w=o.phone,P=o.salesName,x=o.businessType,j=o.recaptchaV3Token,C=o.isSsoFlow,R=o.ssoEmail,k=o.ssoId,D=o.ssoIdToken,L=o.ssoName,U=o.kr_privacy_consent_opt_in,z=o.marketing_notifs_opt_out,Z=r.props,F=Z.i18n,M=Z.isAuthenticated,W=Z.isLimitedLoginUser,V=Z.isBusiness,H=Z.register,G=Z.showToast,q=Z.setNumSignupSteps,Y=Z.location,K=Z.isGroupBoardSignup,Q=Z.navigateAfterLoginStatusChange,X=Z.pixelBlocked,J=Z.thirdPartyMarketingTrackingEnabled,$=Z.saveWebsite,ee=Z.saveBusinessType,et=Z.saveIntent,er=Z.isRedirectToNextParamAfterSignup,ei=Z.isAppFactoryOAuth,eo=Z.isOnSsoExperiment,ea=Z.userId,es=a?(0,g.Z)(a):void 0;if(void 0===es){r.setState({canEditCurrentTextField:!0}),G(function(e){var t=e.hideToast;return(0,en.jsx)(S.ZP,{duration:3e3,onHide:t,text:F._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing'),type:"error"})});return}if(V)n=c;else{var eu,el=function(e){if(Array.isArray(e))return e}(eu=c.trim().split(" "))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(eu,2)||e3(eu,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e=el[0],t=el[1]}q(_.length+1);var ec="unspecified"===b?{custom_gender:v}:{},ed=K?e7({gender:b},ec):{},ep={};r.props.isConsentStepNeeded&&(ep.kr_privacy_consent_opt_in=U,ep.marketing_notifs_opt_out=z),r.setState({isLoading:!0}),(0,N.Rp)({event:"signup_api_call_start",provider:"email"});var ef=e7(e7({type:"email",business_name:n,birthday:es,email:s,first_name:e,last_name:t,password:d,has_ads_credits:td.isEligible(),recaptchaV3Token:j},ed),ep);eo&&C&&(i={type:"sso",first_name:L,business_name:L,sso_email:R,sso_id:k,sso_id_token:D,birthday:es,email:s}),H(C&&i?i:ef,{signupAttemptContextEvent:{event_type:7537,view_type:10,view_parameter:3203,aux_data:e7(e7({},M?{login_state:W?A.Z.LIMITED:A.Z.DEFAULT}:{}),{},{signup_login_method:O.Z.EMAIL})}}).then(function(){var e,t;if((0,N.NC)(eo&&C?"signup_via_sso_signup_page":"signup_via_email_signup_page"),(0,N.Rp)({event:"signup_api_call_success",provider:eo&&C?"sso":"email"}),V&&((0,eJ.nP)("mweb_business_create_unauth_register_business",{sampleRate:1}),et(parseInt(E,10),function(){return(0,eJ.nP)("mweb_business_create_unauth_save_intent_success",{sampleRate:1})},function(){return(0,eJ.nP)("mweb_business_create_unauth_save_intent_fail",{sampleRate:1})},ea),$(y,function(){return(0,eJ.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eJ.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},ea),ee(x,function(){return(0,eJ.nP)("mweb_business_create_unauth_save_business_type_success",{sampleRate:1})},function(){return(0,eJ.nP)("mweb_business_create_unauth_save_business_type_fail",{sampleRate:1})},ea),P&&w&&(r.setState({isSubmitting:!0}),r.reportToPropel()),J&&(p.Z.reportFacebookConversion(f.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),p.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),p.Z.reportGoogleConversion(f.Z.GOOGLE_ADWORDS_ID,f.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,void 0,X),p.Z.reportLinkedInConversion(f.Z.LINKEDIN_PARTNER_ID,f.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT))),ei&&null!==(e=Y.state)&&void 0!==e&&e.next)(0,u.Z)(Y.state.next);else if(tp.isEligible()){var n=tp.getOfferId();Q("/business/offer/".concat(n))}else if(r._shouldShowFirstAdUpsellPage())(0,l.Z)("/business/install_app");else if(K){var i={},o=Y&&Y.state&&Y.state.next;i.pathname=o||"/",i.search=o?"?".concat(o[1],"&").concat((0,B.XP)({accept_invite:!0,seamless:!0})):"",r.props.setGenderStepComplete(),Q(i.pathname)}else er&&null!==(t=Y.state)&&void 0!==t&&t.next?Q((0,B.Jx)(Y.state.next)):Q("/")}).catch(function(e){r.setState({isLoading:!1,canEditCurrentTextField:!0});var t=[T.tz,T.dj,T.tL,T.NF];if((0,N.Rp)({event:"signup_api_call_failure",provider:"email"}),t.includes(e.api_error_code)){if(e.api_error_code===T.tz){h.t8(m.It,"1",(0,h.kZ)(m.It)),(0,N.My)("email_register_step_show_underage_confirmation"),r.setState({isUnderageModalOpen:!0});return}if(e.api_error_code===T.dj){r.setState({birthdayErrorMessage:e.message});return}G(function(t){var r=t.hideToast;return(0,en.jsx)(S.ZP,{duration:3e3,onHide:r,text:e.message,type:"error"})})}else G(function(t){var n=t.hideToast;return(0,en.jsx)(S.ZP,{duration:3e3,onHide:n,text:e.api_error_code&&e.message?e.message:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'Error during signup', 'Error during signup'),type:"error"})});(0,I.rY)(function(e){return r.setState({recaptchaV3Token:e})},function(){},I.ys)})}),tr(te(r),"reportToPropel",function(){var e=r.state,t=e.email,n=e.fullName,i=e.website,o=e.phone,a=e.salesName,u=e.intent,l=r.props.country,c=a.trim().split(" ").filter(function(e){return!!e}),d=c[0],p=c.length>1?c.slice(1).join(" "):"",f="self_serve_mweb_create";u===(0,eP.x)(r.props.i18n).NOT_SURE.value&&(f+="_not_sure");var _={lead_email:t,lead_first_name:d,lead_last_name:p,lead_website:i,lead_phone:o,country:l,lead_source_detail:f,lead_source_type:"business_create",lead_company:n};(0,eJ.nP)("mweb_business_create_unauth_report_to_propel_request",{sampleRate:1}),s.Z.create("PropelFormResource",_).callCreate({showError:!1}).then(function(){return(0,eJ.nP)("mweb_business_create_unauth_report_to_propel_success",{sampleRate:1})}).catch(function(){return(0,eJ.nP)("mweb_business_create_unauth_report_to_propel_fail",{sampleRate:1})})}),tr(te(r),"isLeadScoringEligible",(t=e8(regeneratorRuntime.mark(function e(t){var n,i,o,a,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=r.state).website,o=n.businessType,a=n.intent,s={key:t,email:n.email,business_name:n.fullName,is_create:!0,locale:r.props.locale,account_type:o,advertising_intent:parseInt(a,10),website:i},e.next=5,(0,b.Z)({url:"/v3/business/lead/score/above_threshold/",data:s});case 5:if("success"!==(u=e.sent).resource_response.status){e.next=11;break}return l=u.resource_response.data,e.abrupt("return",!0===l);case 11:return(0,eJ.nP)("mweb_business_create_unauth_lead_score_fail",{sampleRate:1}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),tr(te(r),"handleSkipStep",function(){var e=r.state,t=e.isValid,n=e.stepToRender;(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".skip")),r.props.logContextEvent({element:1150,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),n!==ti.WEBSITE_STEP||t||r.setState({website:""}),r.nextSignupStep()}),tr(te(r),"handlePasswordReset",function(){var e=r.props,t=e.history,n=e.logContextEvent,i=r.state.email;n({view_type:10,view_parameter:r.getViewParameterType(),element:10881,event_type:102}),n({event_type:51,view_type:10,view_parameter:r.getViewParameterType()}),(0,b.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(function(){t.replace({pathname:"/password/reset/sent/",state:{destinationEmail:i}}),r.setState({isLoading:!1})}),r.setState({isLoading:!0})}),tr(te(r),"nextSignupStepWithValidation",function(e){e&&e.preventDefault(),r.setState({canEditCurrentTextField:!1},function(){if(r.validate()){var e;switch((0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".completed")),r.getCurrentActionName()){case"email":e="submit_email";break;case"password":e="submit_password";break;case"birthday":e="submit_birthday"}e&&(0,N.Rp)({event:e,provider:"email"}),r.nextSignupStep()}else(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".error")),r.setState({canEditCurrentTextField:!0})})}),tr(te(r),"trackStepViewed",function(){(0,N.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".viewed"))}),tr(te(r),"validate",function(){var e=r.state,t=e.email,n=e.fullName,i=e.password,o=e.stepToRender,a=e.website,s=e.intent,u=e.phone,l=e.salesName,c=e.businessType,d=r.props.experimentsClient;switch(o){case ti.EMAIL_STEP:return!(0,M.a3)(t,[r.requiredValidator(),(0,M.GT)({message:r.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);case ti.PASSWORD_STEP:return!(0,M.a3)(i,[(0,F.NewPassword)({blackPassStr:r.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:r.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:r.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')})]);case ti.ALREADY_HAS_PASSWORD_STEP:return!(0,M.a3)(i,[r.requiredValidator()]);case ti.NAME_STEP:return!(0,M.a3)(n,[r.requiredValidator()]);case ti.BIRTHDAY_STEP:return r.state.stepToRender===ti.BIRTHDAY_STEP||!(0,M.a3)(n,[r.requiredValidator(),(0,M.Gy)({max:30,maxErrorString:r.props.i18n._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')})]);case ti.WEBSITE_STEP:return!(0,M.a3)(a,[(0,M.Jx)({message:r.props.i18n._('Please use a valid URL', 'Invalid website validation error', 'Invalid website validation error'),experimentsClient:d})]);case ti.INTENT_STEP:return!(0,M.a3)(s,[r.requiredValidator(),r.numberValidator()]);case ti.SALES_CONTACT_STEP:return!(0,M.a3)(u,[(0,M.Bh)({message:r.props.i18n._('Please use a valid phone number', 'Invalid phone number validation error', 'Invalid phone number validation error')})])&&!(0,M.a3)(l,[r.requiredValidator()]);case ti.BUSINESS_TYPE_STEP:return!(0,M.a3)(c,[r.requiredValidator()]);default:return!0}}),tr(te(r),"numberValidator",function(){return(0,M.qA)({message:r.props.i18n._('Not a number.', 'Number field validation error message', 'Number field validation error message')})}),tr(te(r),"requiredValidator",function(){return(0,M.aH)({message:r.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})}),tr(te(r),"_shouldShowFirstAdUpsellPage",function(){var e=r.props,t=e.country,n=e.isBusiness,i=e.isLBA;if(n||i){if(td.isEligible())return td.claim(),!0;if((0,d.Fl)(t))return!0}return!1}),tr(te(r),"isStepSkipable",function(){var e=r.state.stepToRender;return -1!==[ti.WEBSITE_STEP,ti.SALES_CONTACT_STEP].indexOf(e)}),tr(te(r),"handleConsentStepSubmit",function(e){var t=e.kr_privacy_consent_opt_in,n=e.marketing_notifs_opt_out;r.setState({kr_privacy_consent_opt_in:t,marketing_notifs_opt_out:n},function(){r.nextSignupStepWithValidation()})});var t,r,n={},i=e.isBusiness,_=e.isLBA,v=e.location;return _&&(n=e7({isExistingUser:!0,showLoginButtons:!1,stepToRender:ti.NAME_STEP},v.state)),v.state&&(n=v.state.isSignUpFromLoginError?e7({fullName:i||_?"":(0,w.Z)(v.state.email,e.country),steps:i||_?[ti.NAME_STEP]:[ti.BIRTHDAY_STEP],stepToRender:i||_?ti.NAME_STEP:ti.BIRTHDAY_STEP,isSignUpFromLoginError:!1},v.state):v.state.isFromSignupEmailExistError?e7({email:v.state.email,steps:[ti.ALREADY_HAS_PASSWORD_STEP],stepToRender:ti.ALREADY_HAS_PASSWORD_STEP,isSignUpFromLoginError:!1},v.state):e7({},v.state)),r.state=e7({birthdayString:"",birthdayErrorMessage:"",email:"",fullName:"",isExistingUser:!1,isLoading:!1,isUnderageModalOpen:!1,isValid:!1,password:"",showLoginButtons:!1,steps:r.getSteps(),stepToRender:ti.EMAIL_STEP,isSignUpFromLoginError:!1,isSsoFlow:!1,isFromSignupEmailExistError:!1,ssoAuthorizationUri:"",ssoEmail:"",ssoId:"",ssoIdToken:"",ssoName:"",emailError:null,canEditCurrentTextField:!0,isSubmitting:!1,gender:"",customGender:"",website:"",intent:"",phone:"",salesName:"",businessType:"",recaptchaV3Token:"default",kr_privacy_consent_opt_in:void 0,marketing_notifs_opt_out:void 0},n),r}return r=[{key:"componentDidMount",value:function(){var e=this;this.trackStepViewed(),this.props.isBusiness&&this.isCountryUS()&&(0,eJ.nP)("mweb_business_create_unauth_visits_sales_steps",{sampleRate:1});var t=function(){(0,I.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},I.ys)};t(),setInterval(t,I.yc)}},{key:"componentDidUpdate",value:function(e,t){var r=this.getStepFromMatchParams(e),n=this.getStepFromMatchParams(this.props);this.state.isExistingUser&&e.location!==this.props.location&&2!==n&&this.setIsExistingUser(!1,void 0),r!==n&&this.handleBack(t.steps[n-1]),t.stepToRender!==this.state.stepToRender&&this.trackStepViewed()}},{key:"isCountryUS",value:function(){return"US"===this.props.country}},{key:"updateLBA",value:function(){var e=this.state,t=e.fullName,r=e.website,n=e.intent,i=e.businessType,o=this.props;(0,o.saveWebsite)(r,function(){return(0,eJ.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eJ.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},o.userId),s.Z.create("UserSettingsResource",{advertising_intent:n,business_name:t,account_type:i,surface_tag:k.i.REGISTRATION}).callUpdate().then(function(){return(0,u.Z)("/me")})}},{key:"render",value:function(){var e,t=this,r=this.props,i=r.isBusiness,o=r.history,s=r.i18n,u=r.location,l=r.inSmbSalesCopyChangeExperiment,c=r.isLBA,d=r.isAppFactoryOAuth,p=r.isGroupBoardSignup,f=this.getStepFromMatchParams(this.props);if(Number.isNaN(f)||f<1||f>12)return o.replace("/"),null;var _=this.state,g=_.birthdayString,b=_.birthdayErrorMessage,S=_.canEditCurrentTextField,E=_.isSubmitting,w=_.email,T=_.fullName,A=_.businessType,O=_.website,j=_.intent,C=_.phone,I=_.salesName,R=_.emailError,k=_.isExistingUser,N=_.isLoading,L=_.isUnderageModalOpen,B=_.isValid,U=_.password,z=_.passwordValidationError,Z=_.showLoginButtons,F=_.steps,M=_.stepToRender,W=F.length,V=Y.tr,q=c?tl.length:i?tu.length:W+V;this.props.isOnSsoExperiment&&this.state.isSsoFlow&&(q=ts.length);var Q=(0,G.Ff)({i18n:s,location:u}),X=Q.showPLPBanner,J=Q.pinForBanner,$=!(i||c||d),ee=$&&!tc.includes(M),et=$&&M===ti.EMAIL_STEP,er=i||c?void 0:"300";er&&tc.includes(M)&&(er="200");var ei=i||c?156:10,eu=this.getViewParameterType(),el=!i&&!c,ec=!i&&!c&&!p,ed=null===(e=u.state)||void 0===e?void 0:e.attributionLabel;return(0,en.jsxs)(P.default,{hasFixedHeader:!1,hasGutter:!X,children:[!!eu&&(0,en.jsx)(eQ.Z,{currentIndex:f-1,numSteps:q,showPLPBanner:X,viewParameter:eu,viewType:ei}),(0,en.jsx)(a.xu,{"data-test-id":"signup-page-form",marginEnd:"auto",marginStart:"auto",maxWidth:400,children:(0,en.jsxs)("form",{onSubmit:this.nextSignupStepWithValidation,children:[X&&J&&(0,en.jsx)(eK.Z,{pin:J}),(0,en.jsxs)(a.xu,{paddingX:X?4:0,children:[M===ti.EMAIL_STEP&&(0,en.jsx)(eE,{disabled:!S,email:w,emailError:R,getFocusFieldRef:v.Z,handleChangeEmail:this.handleChangeEmail,isReducedHeader:el,setEmailError:function(e){return t.setState({emailError:e})},setValidState:this.setValidState,showModernizedNuxUI:ec,showPLPBanner:X,viewType:ei}),M===ti.PASSWORD_STEP&&(0,en.jsx)(eG,{disabled:!S,getFocusFieldRef:v.Z,handleChangePassword:this.handleChangePassword,isReducedHeader:el,password:U,setValidState:this.setValidState,showModernizedNuxUI:ec,showPLPBanner:X,viewType:ei}),M===ti.ALREADY_HAS_PASSWORD_STEP&&(0,en.jsx)(eo,{disabled:!S,error:z,getFocusFieldRef:v.Z,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isReducedHeader:el,password:U,setValidState:this.setValidState,showPLPBanner:X,viewType:ei}),M===ti.SSO_STEP&&(0,en.jsx)(x.Z,{onContinueClick:this.handleSsoContinue}),M===ti.NAME_STEP&&(0,en.jsx)(eN,{disabled:!S,getFocusFieldRef:v.Z,handleChangeName:this.handleChangeFullName,isBusiness:i,name:T,setValidState:this.setValidState,viewType:ei}),M===ti.BIRTHDAY_STEP&&(0,en.jsx)(ea.Z,{birthdayErrorMessage:b,disabled:!S,handleChangeBirthday:this.handleChangeBirthday,handleChangeName:this.handleChangeFullName,name:T,setValidState:this.setValidState,viewType:ei}),M===ti.BUSINESS_TYPE_STEP&&(0,en.jsx)(es.Z,{businessType:A,disabled:!S,handleChangeBusinessType:this.handleChangeBusinessType,setValidState:this.setValidState,viewType:ei}),M===ti.WEBSITE_STEP&&(0,en.jsx)(eY.Z,{disabled:!S,getFocusFieldRef:v.Z,handleChangeWebsite:this.handleChangeWebsite,setValidState:this.setValidState,viewType:ei,website:O}),M===ti.INTENT_STEP&&(0,en.jsx)(eP.b,{disabled:!S,handleChangeIntent:this.handleChangeIntent,intent:j,setValidState:this.setValidState,viewType:ei}),M===ti.SALES_CONTACT_STEP&&(0,en.jsx)(eq.Z,{disabled:!S,handleChangeName:this.handleChangeSalesName,handleChangePhone:this.handleChangePhone,inCopyChangeExp:l,name:I,phone:C,setValidState:this.setValidState,viewType:ei}),M===ti.CONSENT_STEP&&(0,en.jsx)(D.Z,{isBusiness:i,isRegistering:!1,onSubmitHandler:this.handleConsentStepSubmit,validationError:""}),M!==ti.SSO_STEP&&M!==ti.CONSENT_STEP?(0,en.jsxs)(n.Fragment,{children:[(0,en.jsx)(a.xu,{marginBottom:6}),(0,en.jsx)(ew.Z,{allowSkip:this.isStepSkipable(),attributionLabel:ed,handleSkipStep:this.handleSkipStep,isBusiness:i||c,location:u,loginLink:er,nextButtonText:this.getNextButtonText(),nextDisabled:!B||E,nextPageForLogin:u.state?u.state.next:"",showBusinessSignup:et,showSocialSignUpButtons:ee,showTextDivider:Z,showTos:!0,viewParameter:this.getViewParameterType()})]}):null]})]})}),(0,en.jsx)(y.ZP,{accessibilityModalLabel:"",isOpen:L,mobileAccessibilityCloseIconLabel:s._('Close', 'modal.underage.close', 'Label for underage modal close button'),mobileHideCloseIcon:!0,onDismiss:function(){},children:(0,en.jsx)(eX.Z,{birthday:g,onEditBirthday:function(){h.t8(m.It,"0",(0,h.kZ)(m.It)),t.setState({isUnderageModalOpen:!1}),M===ti.CONSENT_STEP&&t.navigateToStep(f-1)}})}),N&&(M!==F[F.length-1]||k?(0,en.jsx)(H.Z,{}):(0,en.jsx)(K.Z,{isReducedHeader:el}))]})}}],e5(c.prototype,r),i&&e5(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.PureComponent);function t_(e){var t,r,n,a,s,u,l,d,p=(0,o.k6)(),f=(0,o.TH)(),h=null===(t=f.state)||void 0===t?void 0:t.attributionLabel,m=(0,o.$B)(),g=(0,E.ZP)(),b=(0,i.useDispatch)(),v=(0,C.F)(),y=v.checkExperiment,S=(0,L.F9)().showToast,w=(0,o.TH)().pathname,P=(0,Z.Z)(),T=P.isLimitedLogin,A=P.id,O=P.third_party_marketing_tracking_enabled,x=y("mweb_smb_sales_handraiser_copy_change_unauth").anyEnabled,I=(0,X.m)(),D=(0,Q.f)(),N=(0,c.Z)(),B=(0,_.Z)(),F=(0,R.B)(),M=F.country,V=F.isAuthenticated,H=F.locale,G=(0,i.useSelector)(function(e){return e.session}),Y=G.loggedOutUserInfo,K=G.userId,et=null!==(r=(0,i.useSelector)(function(e){return e.users}))&&void 0!==r?r:{},er=(0,q.xT)(et[K]),ei=(0,U.ZP)(),eo=f.pathname.startsWith("/business/"),ea=f.pathname.startsWith("/linked/"),es=(0,W.m)().unauthBoardInvite,eu=null!==(n=null!==(a=null===(s=f.state)||void 0===s?void 0:s.isFromGroupBoardsInvite)&&void 0!==a?a:!!es)&&void 0!==n&&n,el=null!==(u=(0,z.Z)())&&void 0!==u&&u,ec=null!==(l=null===(d=f.state)||void 0===d?void 0:d.isRedirectToNextParamAfterSignup)&&void 0!==l&&l,ed=y("ppm_p_gate").anyEnabled,ep=y("mweb_sso_auth_enabled").anyEnabled,ef=y("kr_privacy_consent").anyEnabled,e_=(0,j.Z)(),eh=e_.authenticateWithSso,em=e_.verifySsoUser;return w.startsWith("/business/")&&T||"desktop"===ei?(0,en.jsx)(o.l_,{to:"/"}):(0,en.jsx)(tf,e7(e7({},e),{},{attributionLabel:h,authenticateWithSso:eh,country:M,experimentsClient:v,history:p,i18n:g,inSmbSalesCopyChangeExperiment:x,isAppFactoryOAuth:el,isAuthenticated:V,isBusiness:eo,isConsentStepNeeded:ef,isGroupBoardSignup:eu,isLBA:ea,isLimitedLoginUser:er,isOnSsoExperiment:ep,isRedirectToNextParamAfterSignup:ec,locale:H,location:f,logContextEvent:B,loggedOutUserInfo:Y,login:D,match:m,navigateAfterLoginStatusChange:N,pixelBlocked:ed,register:I,saveBusinessType:function(e,t,r,n){return b((0,$._L)({field:"account_type",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:k.i.REGISTRATION,userId:n}))},saveIntent:function(e,t,r,n){return b((0,$._L)({field:"advertising_intent",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:k.i.REGISTRATION,userId:n}))},saveWebsite:function(e,t,r,n){return b((0,$._L)({field:"website_url",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:k.i.REGISTRATION,userId:n}))},setGenderStepComplete:function(){return b((0,ee.Q_)("COMPLETED_GENDER_SIGNUP",1))},setNumSignupSteps:function(e){return b((0,J.e0)(e))},showToast:S,thirdPartyMarketingTrackingEnabled:O,userId:null!=A?A:"",validateEmailExists:function(e){return b((0,ee.OF)(e))},verifySsoUser:em}))}},386129:function(e,t,r){"use strict";r.d(t,{Ge:function(){return p},JS:function(){return l},OF:function(){return y},P_:function(){return c},Q_:function(){return h},b8:function(){return m},eR:function(){return v},h2:function(){return f},h6:function(){return _}});var n,i=r(216167),o=r(107366),a=r(666698);function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},p=function(e){var t,r=e.id,n=e.orbacSubjectId,o=e.blockSource,a=e.blockContext,s=e.logContextEvent;return t=u(regeneratorRuntime.mark(function e(t){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(r,!0)),e.next=3,i.Z.create("UserBlockResource",{blocked_user_id:r,orbac_subject_id:n,block_source:o,block_context:a}).callCreate().catch(function(){return t(d(r,!1))});case 3:return u=e.sent,s({event_type:54,object_id_str:r}),e.abrupt("return",u);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},f=function(e,t){var r;return r=u(regeneratorRuntime.mark(function r(n){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(d(e,!1)),r.next=3,i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return n(d(e,!0))});case 3:return o=r.sent,t({event_type:55,object_id_str:e}),r.abrupt("return",o);case 6:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var h=function(e,t){return function(){return i.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,r){return function(n,i){(0,o.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){r({event_type:48,object_id_str:i().session.userId}),e(),(0,a.Dm)()},t)}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},b=(n=u(regeneratorRuntime.mark(function e(t,r,n){var o,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:(o=e.sent).resource_response.data[t]?(s=(a=o.resource_response.data[t]).status,l=a.signature,"processing"===s||"registered"===s?setTimeout(u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t,r,n);case 1:case"end":return e.stop()}},e)})),5e3):"succeeded"===s?r(g(l)):n()):n();case 4:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),v=function(e){return new Promise(function(t,r){if("string"==typeof e){if(e.startsWith("data")){var n;(n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=e.split(";"),n=r[0].split(":")[1],i=atob(r[1].split(",")[1]),o=[],a=0;a<i.length;a+=t){for(var s=i.slice(a,a+t),u=Array(s.length),l=0;l<s.length;l+=1)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:n})}(e),new Promise(function(e,t){var r,o,a;r=function(){},o=function(t){e(t)},a=function(e){t(e)},new FormData().append("img",n),i.Z.create("VIPResource",{type:"pinimage"}).callCreate().then(function(e){if(e.resource_response.data){var t=e.resource_response.data,i=t.upload_id,s=t.upload_url,u=t.upload_parameters,l=new XMLHttpRequest;l.open("POST",s,!0),l.onload=function(){var e;(e=l.status)>=200&&e<400?(r(100),b(i,o,a)):a()},l.upload.onprogress=function(e){r(Math.round(100*e.loaded/e.total))};var c=new FormData;for(var d in u)c.append(d,u[d]);c.append("file",n),l.send(c)}},function(){a()})})).then(function(e){return t(e)})}}else r("Invalid Image")})},y=function(e){return function(){return(0,o.Z)({url:"/v3/register/exists/",data:{email:e}})}}},800030:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(780277),i=r(328038),o=r(140017),a=r(391884),s=r(5859),u=r(19447),l=r(672652),c=r(684404),d=r(819267),p=function(e){var t,r=e.pin,n=r.image,i=r.pinDescription,o=r.dominantColor,a=r.bannerCopy;return(0,d.jsx)(l.Fragment,{children:(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,d.jsx)(c.xu,{height:40,margin:4,width:30,children:(0,d.jsx)(c.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(c.Ee,{alt:i||"",color:o||"",fit:"cover",naturalHeight:(n||{}).height||1,naturalWidth:(n||{}).width||1,src:null!==(t=(n||{}).url)&&void 0!==t?t:""})})}),(0,d.jsx)(c.xv,{children:a})]})})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=e.pin,r=(0,o.ZP)(),l=(0,n.useSelector)(function(e){var t=e.session;return t&&t.unauthSavePinId}),c=(0,u.S6)()(null!=l?l:""),f=(0,s.B)(),_=f.isBot,g=f.isSocialBot,b=(0,i.TH)();if(!t&&!l)return null;var v=b.pathname.startsWith("/signup");if(!(b.pathname.startsWith("/login")||v))return null;if(c){var y,S,E=b.pathname.startsWith("/signup"),w={url:(0,a.Z)({imagesUrls:c.images?Object.keys(c.images).reduce(function(e,t){var r,n;return t&&null!==(r=c.images)&&void 0!==r&&null!==(n=r[t])&&void 0!==n&&n.url?h(h({},e),{},m({},t,c.images[t].url)):e},{}):void 0,embedSrc:null===(y=c.embed)||void 0===y?void 0:y.src,embedType:null===(S=c.embed)||void 0===S?void 0:S.type,excludeOriginals:!_&&!g}),height:1,width:1},P=c.description||"",T=c.dominant_color||"",A=E?r._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):r._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,d.jsx)(p,{pin:{image:w,pinDescription:P,dominantColor:T,bannerCopy:A}})}return t?(0,d.jsx)(p,{pin:t}):null}},756355:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},206290:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},228027:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},43026:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z},953844:function(e,t,r){"use strict";var n=r(335475);t.Z=n.Z}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97270,84404,28038,24797,55169,88166,2909,63696,33,15927,40370,46689,91276,93476,27460,20962,82484,54041,5037,13136,88591,297],function(){return t(879945),t(553530),t(14638),t(767845),t(262967)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/signup-8b8725a1656d4b0f.js.map